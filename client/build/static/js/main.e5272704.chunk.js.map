{"version":3,"sources":["components/operInput/specific/weldings/model.js","utils/set-auth-token.js","actions/types.js","actions/loginActions.js","components/layout/Navbar.js","components/layout/Landing.js","components/layout/Footer.js","components/common/TextFieldGroup.js","components/common/IsLoading.js","components/common/Alert.js","components/auth/Login.js","actions/registerActions.js","components/common/SelectInputGroup.js","actions/thingsActions.js","validation/is-empty.js","components/createOptions.js","components/auth/Register.js","actions/functions/filterSort/replacements/defect.js","actions/functions/filterSort/replacements/welding.js","utils/absent-props.js","components/items/specific/defects/SingleRow.js","components/items/specific/defects/functions.js","components/items/specific/weldings/SingleRow.js","itypes.js","itemSpecific.js","components/items/specific/defects/MainDataForm.js","components/items/specific/defects/JournalEditForm.js","components/items/specific/defects/JournalRow.js","components/items/specific/weldings/MainDataForm.js","components/items/specific/weldings/JournalEditForm.js","components/items/specific/weldings/JournalRow.js","components/items/ItemList.js","components/common/ItemsCount.js","components/common/pager/components/PagerNav.js","components/common/pager/components/CurrentPageInfo.js","components/common/pager/components/ItemsPerPageSelector.js","components/common/pager/settings.js","components/common/pager/Pager.js","components/common/Confirmation.js","components/common/exportItems/arrayToXml.js","components/common/exportItems/modifiers.js","components/common/exportItems/GenericExporter.js","components/common/exportItems/ExportItems.js","components/common/TextAreaGroup.js","components/common/filterSort/components/Filter.js","components/common/filterSort/components/Sort.js","components/common/filterSort/components/QuerySelect.js","components/common/filterSort/components/Manual.js","actions/functions/filterSort/functions/parseAndReplaceVk.js","actions/functions/filterSort/functions/fsRoutines.js","actions/functions/filterSort/itemFilterSort.js","utils/journalSorter.js","actions/itemsActions.js","components/common/filterSort/FilterSort.js","actions/queriesActions.js","components/items/Items.js","components/items/JournalList.js","components/items/EditItem.js","actions/journalActions.js","components/editQueries/components/EditQueryForm.js","components/editQueries/components/QueryRow.js","components/editQueries/components/QueryList.js","components/editQueries/EditQueries.js","actions/reporters/defectsUndone/UDDataTransformer.js","actions/reporters/defectsUndone/UDDataDefectsTransformer.js","actions/reporters/defectsUndone/UDDataNumberTransformer.js","actions/reporters/k33/K33DataTransformer.js","actions/reporters/toInspect/ToInspectDataTransformer.js","actions/reporters/reporterMap.js","reportTypes.js","actions/reporters/Reporter.js","actions/reportActions.js","components/report/activeDefects/ActiveDefectsTable.js","components/report/activeDefects/ActiveDefectsParamsCollector.js","components/report/activeDefects/adItemsToExport.js","components/report/activeDefects/adItemCount.js","components/report/activeDefects/ActiveDefectsCountTable.js","components/report/k33/K33Table.js","components/report/k33/K33ParamsCollector.js","components/report/toInspect/ToInspectTable.js","components/report/toInspect/ToInspectParamsCollector.js","components/report/rTypeComponentMap.js","components/report/activeDefects/adCountItemsToExport.js","components/report/activeDefects/adCountItemCount.js","components/report/k33/itemsToExport.js","components/report/k33/itemCount.js","components/report/toInspect/itemsToExport.js","components/report/toInspect/itemCount.js","components/report/Report.js","components/layout/LoggedIn.js","components/operInput/specific/ActionSelector.js","components/operInput/specific/functions.js","components/operInput/specific/defects/ApproveRow.js","utils/splitAbsent.js","components/operInput/specific/defects/EditForm.js","components/operInput/specific/defects/InputRow.js","components/operInput/specific/defects/SearchForm.js","components/operInput/specific/defects/SearchResultRow.js","components/operInput/specific/defects/options.js","components/operInput/specific/defects/model.js","components/operInput/specific/weldings/ApproveRow.js","components/operInput/specific/weldings/EditForm.js","components/operInput/specific/weldings/InputRow.js","components/operInput/specific/weldings/SearchForm.js","components/operInput/specific/weldings/SearchResultRow.js","components/operInput/specific/weldings/options.js","components/operInput/itemSpecific.js","components/operInput/InputPanel.js","components/operInput/SearchPanel.js","components/operInput/ModalFormPanel.js","actions/functions/unpack.js","actions/operInputActions.js","components/operInput/OperInputSupply.js","components/operInput/OperInputApprove.js","actions/inputApproveActions.js","reducers/thingsReducer.js","reducers/loginReducer.js","reducers/registerReducer.js","reducers/functions/getInitialState.js","reducers/queriesReducer.js","reducers/reportReducer.js","reducers/journalReducer.js","reducers/operInputReducer.js","reducers/iApproveReducer.js","reducers/items/allItemsReducer.js","reducers/items/itemAlertingReducer.js","reducers/items/itemsFSReducer.js","reducers/functions/getPagerObj.js","reducers/items/itemsPagerReducer.js","reducers/items/itemsShowReducer.js","reducers/items/itemsStatusReducer.js","reducers/items/fsedItemsReducer.js","reducers/index.js","store.js","components/common/PrivateRoute.js","App.js","index.js"],"names":["module","exports","main","id","type","label","oldid","v","regbit","validator","linija","required","kelias","km","pk","m","siule","vbudas","virino","data0","dstop","suvnr","nrschema","journal","jid","data","oper","apar","pvd","params","note","min","max","mainid","setAuthToken","token","axios","defaults","headers","common","LOGOUT","loginError","errors","payload","setCurrentUser","decoded","logoutUser","dispatch","localStorage","removeItem","Navbar","e","preventDefault","this","props","_this$props$login","login","isAuthenticated","user","adminLinks","react_default","a","createElement","className","Link","to","role","data-toggle","operLinks","kmvLinks","authLinks","style","marginRight","name","onClick","onLogoutClick","bind","guestLinks","data-target","Component","connect","state","Landing","history","push","Footer","Date","getFullYear","TextFieldGroup","_ref","placeholder","value","error","info","onChange","disabled","readonly","autoComplete","classname","divClassname","htmlFor","classnames","is-invalid","readOnly","defaultProps","IsLoading","display","hasOwnProperty","when","Alert","message","hide","displayMsg","alertType","trim","Array","isArray","length","forEach","item","i","concat","danger","red","warning","yellow","success","green","lightblue","light","white","primary","blue","secondary","lightgrey","dark","grey","Login","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","setState","defineProperty","target","onSubmit","userData","email","password","loginUser","assertThisInitialized","prevProps","common_IsLoading","isBusy","noValidate","common_TextFieldGroup","common_Alert","post","then","res","setItem","jwt_decode","catch","err","response","registerError","SelectInputGroup","options","size","multiple","fetchThingsSuccess","things","fetchThingsFailure","errormsg","isEmpty","undefined","constructor","keys","createOptions","arr","displayfunc","arguments","x","keyfunc","valuefunc","map","key","unshift","Register","newUser","region","code","password2","registerUser","fetchRegisterThings","register","noUserRoles","urole","noRegions","common_SelectInputGroup","get","withRouter","filterReplacements","id1","meistrija","kodas","dl","dh","pavoj","kkateg","btipas","bgamykl","bmetai","dtermin","liko","vt","getSortingReplacement","fieldName","daction","Math","floor","parse","now","Number","MAX_SAFE_INTEGER","Error","defectid","absent","prop","toString","ItemRow","defect","editItem","deleteItem","data-id","data-v","ItemHeadRow","welding","employee","itemSpecific","_iTypes$defect$iTypes","iTypes","replacements","defectReplacements","mainDataForm","singleRow","defectSingleRow","journalEditForm","jItem","submitJItem","cancelJItem","alert","msg","journalRow","setForEdit","deleteJItem","current","data-jid","journalListHead","listPath","panaikinta","weldingReplacements","itemStatus","weldingSingleRow","vpvd","find","th","pvdid","pvdname","ItemList","items","itype","itemRows","fontSize","ItemsCount","total","inView","PagerNav","buttons","onPageChanged","navButtons","b","pageIndex","makeButton","CurrentPageInfo","firstItemLabel","lastItemLabel","ItemsPerPageSelector","availableItemsPerPage","onItemsPerPageChanged","itemsPerPage","pagerSettings","Pager","firstItemIndex","itemCount","components_PagerNav","components_ItemsPerPageSelector","components_CurrentPageInfo","Confirmation","body","title","confirmHandler","rejectHandler","show","tabIndex","arrayToXml","parentName","childName","xml","index","o","tab","toXml","ind","n","hasChild","m1","charAt","substr","m2","replace","json2xml","modifiers","convert","JSON","stringify","defaultFnFunction","fnExtension","json2csv","delimiter","GenericExporter","convertItems","fname","getItems","fileName","FileSaver","saveAs","Blob","ExportItems","exporters","exportItems_GenericExporter","TextAreaGroup","rows","Filter","filterText","clearText","valid","Fragment","common_TextAreaGroup","Sort","sortText","QuerySelect","queries","Manual","parseAndReplaceVk","inputText","match","regexVk","replaced","exec","parseInt","getFilterFunc","filterString","fnReplacements","filterFuncString","regex","RegExp","replaceFieldNames","Function","getSortFunc","sortString","fields","split","filter","fnToValue","field","dir","substring","reduce","p","funcCreator","sort","journalSorter","errors2msgs","setItemListAlert","applyFilterSort","funcs","console","refilter","getState","fetchedItems","allItems","itemsFS","itemInsertSuccess","itemInsertFailure","itemUpdateFailure","itemDeleteSuccess","itemDeleteFailure","FilterSort","currentQueryId","filterSort","clearFilter","clearSort","changeFilter","changeSort","applyFS","useSelectedQuery","onSelectedQueryChange","editQueries","toggleManual","filterSortItems","toggleFSManual","_this2","query","q","components_Filter","components_Sort","showFSManual","components_Manual","components_QuerySelect","ownProps","itemsShow","fsManualOn","err2msg","Items","showConfirmationDialog","idToDelete","vToDelete","toggleFilterSort","createItem","pageChange","itemsPerPageChange","showDeleteConfirmation","confirmDelete","unconfirmDelete","refreshItems","refreshItemsAll","hideAlert","fsedItemsAreValid","fetchItems","queriesAreValid","fetchQueries","hideItemListAlert","fsedItems","selectedValue","toggleFS","dataset","invalidateItems","fatalError","queriesIsLoading","itemsIsLoading","_this$props$pager","pager","pagerComponent","pager_Pager","common_Confirmation","showFS","filterSort_FilterSort","infoAlert","items_ItemList","slice","common_ItemsCount","allItemCount","exportItems_ExportItems","isLoading","itemsStatus","all","itemsPager","fsOn","itemAlerting","itemList","fatal","itemId","itemV","itemDeleteBegin","delete","fetchItemsBegin","paramsObj","fetchItemsSuccess","fetchItemsFailure","fetchQueriesBegin","fetchQueriesSuccess","fetchQueriesFailure","JournalList","jItems","currentJid","JournalRow","JournalHeadRow","jItemRows","EditItem","_options","writable","jToDelete","jAlert","onSubmitItem","setJItemForEdit","onChangeMain","onChangeJItem","classPrivateFieldLooseBase","abbr","p1","p2","defskop","d1","d2","operat","o1","o2","v1","v2","b1","b2","itemstatus","fetchJournal","hideItemEditAlert","removeJournal","status","findIndex","toConsumableArray","objectSpread","j","splice","insert","update","updateItem","insertItem","isBusyItem","isBusyJournal","journalFetchErrorMsg","items_JournalList","itemEdit","itemUpdateBegin","ok","lastJournalRecord","itemUpdateSuccess","reason","itemUpdateFailureNoRetry","responseMsg","itemInsertBegin","put","itemInsertFailureNoRetry","EditQueryForm","submit","modifiedQuery","submitQuery","differentQueries","q1","q2","QueryRow","remove","setForEditing","nowrap","QueryList","setItemForEditing","queryRows","components_QueryRow","EditQueries","currentQuery","submitDraft","submitDelete","hideSuccess","hideError","hideErrorInState","_this3","some","deleteQuery","draft","sameNameQuery","updateQuery","insertQuery","storeError","stateError","storeSuccess","successmsg","components_QueryList","components_EditQueryForm","stateQueries","updateQueryBegin","updateQuerySuccess","updateQueryFailure","deleteQueryBegin","deleteQuerySuccess","deleteQueryFailure","insertQueryBegin","insertQuerySuccess","insertQueryFailure","UDDataTransformer","thingsAndData","descending","UDDataDefectsTransformer","_UDDataTransformer","apply","inherits","createClass","iesmas","nr","defs","defects","d","byVietaSorter","byIndSorter","distributeDefects","UDDataNumberTransformer","ids","byIndSorterDesc","groups","createDefectCountGroups","sumReducer","acc","curr","count","kk","defectCounts","meistrijaIds","kkategIds","pavojIds","defectCount","includes","_id","fitFunction","K33DataTransformer","createVbudasGroups","vbudai","vb","createPavojGroups","pavojai","pav","createPropertyGroups","createDistinctOperatDefskop","c","weldingCounts","distribute","odPair","defectPavojCounts","dc","weldingVbudasCounts","wc","propGroupContainer","propGroupVB","weldingVbudasCount","wvc","propGroupPav","defectPavojCount","dpc","counts","operatoriai","defskopai","ToInspectDataTransformer","reporterMap","_reporterMap","apiUrl","DataTransformerClass","Reporter","rtype","reporter","createReport","reportFailure","reportBegin","getUrl","report","reportSuccess","ActiveDefectsTable","tHead","scope","DefectRow","_ref2","meistrijaLabel","daptik","bodyRows","ActiveDefectsParamsCollector","_Component","byDate","toISOString","whichDefects","submitParams","checked","ensureAllProps","reducer","currentMeistrija","ActiveDefectsCountTable","kkategColSpan","ReportRow","_ref3","rowSpan","colSpan","_ref4","K33Table","tRows","row","today","oneMonthAgo","setMonth","getMonth","startDate","endDate","ToInspectTable","data1","kelintas","galimanuo","reikiaiki","ToInspectParamsCollector","onlyOverdued","toDate","rTypeComponentMap","_rTypeComponentMap","subtitle","paramsCollector","reportTable","itemsToExportFormat","def","K33ParamsCollector","Report","ParamsCollector","ReportTable","storeReportType","eraseReport","LoggedIn","fetchAllThings","getItem","actionMap","none","return","Option","action","ActionSelector","changeAction","data-ind","ac","ActionSelector_Option","val","pad","num","repeat","getDTString","timestamp","toLocaleString","getValidationString","validation","errs","join","getOperApar","getHL","getVietosKodas","getBegis","PrimaryRow","setEdit","specific_ActionSelector","SecondaryRow","ValidationRow","SingleRow","ApproveRow_PrimaryRow","ApproveRow_SecondaryRow","ApproveRow_ValidationRow","HeadRow","obj","level1","level2","EditForm","edit","termin","InputRow","inputItem","setItemEdit","copyItem","isCurrent","InputHeadRow","SearchForm","searchInput","FoundItemRow","foundItem","SearchHeadRow","weldings_ApproveRow_PrimaryRow","weldings_ApproveRow_SecondaryRow","weldings_ApproveRow_ValidationRow","operInput_itemSpecific","itemSpecific_iTypes$defect$iTypes","approveRow","defectApproveRow","inputForm","defectForm","iApproveEditForm","inputRow","defectInputRow","searchForm","defectSearchForm","searchResultRow","defectSearchResultRow","model","defectModel","defectOptions","weldingApproveRow","weldingForm","weldingInputRow","weldingSearchForm","weldingSearchResultRow","weldingModel","weldingOptions","InputPanel","inputItems","newInputHandler","sendHandler","clearHandler","setItemEditHandler","deleteItemHandler","copyInputHandler","currentId","hideInfo","inputRows","iItem","SearchPanel","foundItems","newSearchHandler","foundItemRows","fItem","ModalFormPanel","submitHandler","cancelHandler","purpose","parseArray","supplied","rec","input","by","unapproved","removeSearchInfo","OperInputSupply","OperInputSupply_options","currentInput","inputItemErrors","showInputModal","searchInputErrors","showSearchModal","changeInputItem","startNewInput","submitRecord","cancelEditRecord","clearCurrentRecord","changeSearchInput","submitSearch","cancelSearch","clearCurrentSearch","sendItems","clearInputItems","setFoundItemEdit","startNewSearch","hideSearchInfo","copyInput","fetchUnapprovedOperInput","removeInfo","clearOperInput","newItem","nameParts","modified","vResult","validateRecord","main1","main2","areEq","propName","val1","val2","samePlace","findIndexById","setItems","validateSearchInput","searchItems","supplyOperInput","fissedItem","splitMainJournalClear","InputForm","default","operInput_ModalFormPanel","operInput_InputPanel","operInput_SearchPanel","searchInfo","operInput","parsed","which","getParsedArray","unpack","searchItemsFailure","OperInputApprove","OperInputApprove_options","currentIndex","currentItem","showModal","localValidationErrors","changeItem","submitEdit","cancelEdit","submitItems","fetchSuppliedOperInput","newItems","replaceItem","propsItem","submitIApprove","iApprove","initialState","getInitialState","stateObj","getPagerObj","currPageIndex","halfOfVisible","pageCount","ceil","lastPageIndex","pagesRight","pagesLeft","maxShifBase","pow","shiftedPageIndex","combineReducers","updatedItem","pagerObj","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","component","rest","objectWithoutProperties","Route","assign","render","Redirect","jwtToken","currentTime","exp","location","href","App","es","BrowserRouter","layout_Navbar","Switch","exact","path","common_PrivateRoute","ReactDOM","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.e5272704.chunk.js","sourcesContent":["module.exports.main = {\r\n  id: {type: 'integer', label: \"id\"}, // insert - generates \r\n  oldid: {type: 'integer', label: \"oldid\"}, // insert - generates automatically, update - if wrong doesnt find\r\n  v: {type: 'integer', label: \"versija\"}, // insert - generates \r\n  regbit: {type: 'integer', validator: \"isNegative\", label: \"regiono bitas\"}, // is set by the server \r\n  linija: {type: 'string', required: true, validator: \"isEmptyString\", label: \"linija\"},\r\n  kelias: {type: 'string', required: true, validator: \"isEmptyString\", label: \"kelias\"},\r\n  km: {type: 'integer', required: true, validator: \"isNegative\", label: \"km\"},\r\n  pk: {type: 'integer', required: true, validator: \"isNegative\", label: \"pk\"},\r\n  m: {type: 'integer', required: true, validator: \"isNegative\", label: \"m\"},\r\n  siule: {type: 'string', label: \"siūlė\"},\r\n  vbudas: {type: 'string', required: true, validator: \"isEmptyString\", label: \"virinimo būdas\"},\r\n  virino: {type: 'string', required: true, validator: \"isEmptyString\", label: \"kas virino\"},\r\n  data0: {type: 'string', required: true, validator: \"isNotShortDate\", label: \"virinimo data\"},\r\n  dstop: {type: 'integer', validator: \"isNegative\", label: \"statusas\"},\r\n  suvnr: {type: 'string', label: \"suvnr\"},\r\n  nrschema: {type: 'string', label: \"nrschema\"}\r\n};\r\n\r\nmodule.exports.journal = {\r\n  jid: {type: 'integer', validator: \"isNegative\", label: \"id\"},\r\n  data: {type: 'string', required: true, validator: \"isNotShortDate\", label: \"įrašo data\"},\r\n  oper: {type: 'string', required: true, validator: \"isEmptyString\", label: \"operatoriaus kodas\"},\r\n  apar: {type: 'string', required: true, validator: \"isEmptyString\", label: \"defektoskopo kodas\"},\r\n  pvd: {type: 'string', required: true, validator: \"isNotInSet\", params: [\"1\", \"2\", \"3\", \"4\", \"npl\", \"ctrl\"], label: \"pavadinimas\"},\r\n  note: {type: 'string', validator: \"wrongLength\", params: {min: 0, max: 255}, label: \"pastaba\"},\r\n  mainid: {type: 'integer', label: 'main id'}\r\n}","import axios from 'axios';\r\nconst setAuthToken = token => {\r\n  if (token) {\r\n    // apply to every request\r\n    axios.defaults.headers.common['Authorization'] = token;\r\n  } else {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n  }\r\n}\r\n\r\nexport default setAuthToken;","// authentificacion\r\nexport const LOGIN_BEGIN = \"LOGIN_BEGIN\";\r\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";\r\nexport const LOGIN_ERROR = \"LOGIN_ERROR\";\r\nexport const LOGOUT = \"LOGOUT\";\r\n\r\nexport const REGISTER_BEGIN = \"REGISTER_BEGIN\";\r\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\r\nexport const REGISTER_ERROR = \"REGISTER_ERROR\";\r\n\r\n// common\r\nexport const THINGS_FETCH_BEGIN = \"THINGS_FETCH_BEGIN\";\r\nexport const THINGS_FETCH_SUCCESS = \"THINGS_FETCH_SUCCESS\";\r\nexport const THINGS_FETCH_FAILURE = \"THINGS_FETCH_FAILURE\";\r\n\r\n// items\r\nexport const ITEMS_FETCH_BEGIN = \"ITEMS_FETCH_BEGIN\";\r\nexport const ITEMS_FETCH_SUCCESS = \"ITEMS_FETCH_SUCCESS\";\r\nexport const ITEMS_FETCH_FAILURE = \"ITEMS_FETCH_FAILURE\";\r\n\r\nexport const ITEMS_INVALIDATE = \"ITEMS_INVALIDATE\";\r\n\r\nexport const ITEMS_DELETE_LOCAL = \"ITEMS_DELETE_LOCAL\";\r\nexport const ITEMS_UPDATE_LOCAL = \"ITEMS_UPDATE_LOCAL\";\r\n\r\nexport const ITEM_INSERT_BEGIN = \"ITEM_INSERT_BEGIN\";\r\nexport const ITEM_UPDATE_BEGIN = \"ITEM_UPDATE_BEGIN\";\r\nexport const ITEM_DELETE_BEGIN = \"ITEM_DELETE_BEGIN\";\r\n\r\nexport const ITEM_INSERT_SUCCESS = \"ITEM_INSERT_SUCCESS\";\r\nexport const ITEM_UPDATE_SUCCESS = \"ITEM_UPDATE_SUCCESS\";\r\nexport const ITEM_DELETE_SUCCESS = \"ITEM_DELETE_SUCCESS\";\r\n\r\nexport const ITEM_INSERT_FAILURE = \"ITEM_INSERT_FAILURE\";\r\nexport const ITEM_UPDATE_FAILURE = \"ITEM_UPDATE_FAILURE\";\r\nexport const ITEM_INSERT_FAILURE_NO_RETRY = \"ITEM_INSERT_FAILURE_NO_RETRY\";\r\nexport const ITEM_UPDATE_FAILURE_NO_RETRY = \"ITEM_UPDATE_FAILURE_NO_RETRY\";\r\nexport const ITEM_DELETE_FAILURE = \"ITEM_DELETE_FAILURE\";\r\n\r\nexport const ITEMS_PAGE_CHANGE = \"ITEMS_PAGE_CHANGE\";\r\nexport const ITEMS_PER_PAGE_CHANGE = \"ITEMS_PER_PAGE_CHANGE\";\r\nexport const ITEM_TOGGLE_FS = \"ITEM_TOGGLE_FS\";\r\nexport const ITEM_TOGGLE_FS_MANUAL = \"ITEM_TOGGLE_FS_MANUAL\";\r\nexport const ITEMS_FILTERSORT_APPLIED = \"ITEMS_FILTERSORT_APPLIED\";\r\nexport const ITEMS_FILTERSORT_APPLY_ERROR = \"ITEMS_FILTERSORT_APPLY_ERROR\";\r\nexport const ITEMS_REFRESH = \"ITEMS_REFRESH\";\r\n\r\nexport const ITEM_LIST_SET_ALERT = \"ITEM_LIST_SET_ALERT\";\r\nexport const ITEM_LIST_HIDE_ALERT = \"ITEM_LIST_HIDE_ALERT\";\r\n\r\nexport const ITEM_EDIT_SET_ALERT = \"ITEM_EDIT_SET_ALERT\";\r\nexport const ITEM_EDIT_HIDE_ALERT = \"ITEM_EDIT_HIDE_ALERT\";\r\n\r\n// item journal\r\nexport const JOURNAL_FETCH_BEGIN = \"JOURNAL_FETCH_BEGIN\";\r\nexport const JOURNAL_FETCH_SUCCESS = \"JOURNAL_FETCH_SUCCESS\";\r\nexport const JOURNAL_FETCH_FAILURE = \"JOURNAL_FETCH_FAILURE\";\r\nexport const JOURNAL_REMOVE = \"JOURNAL_REMOVE\";\r\nexport const JOURNAL_SET = \"JOURNAL_SET\";\r\n\r\n\r\n// fs queries\r\nexport const QUERIES_FETCH_BEGIN = \"QUERIES_FETCH_BEGIN\";\r\nexport const QUERIES_FETCH_SUCCESS = \"QUERIES_FETCH_SUCCESS\";\r\nexport const QUERIES_FETCH_FAILURE = \"QUERIES_FETCH_FAILURE\";\r\nexport const QUERY_UPDATE_BEGIN = \"QUERY_UPDATE_BEGIN\";\r\nexport const QUERY_UPDATE_SUCCESS = \"QUERY_UPDATE_SUCCESS\";\r\nexport const QUERY_UPDATE_FAILURE = \"QUERY_UPDATE_FAILURE\";\r\nexport const QUERY_INSERT_BEGIN = \"QUERY_INSERT_BEGIN\";\r\nexport const QUERY_INSERT_SUCCESS = \"QUERY_INSERT_SUCCESS\";\r\nexport const QUERY_INSERT_FAILURE = \"QUERY_INSERT_FAILURE\";\r\nexport const QUERY_DELETE_BEGIN = \"QUERY_DELETE_BEGIN\";\r\nexport const QUERY_DELETE_SUCCESS = \"QUERY_DELETE_SUCCESS\";\r\nexport const QUERY_DELETE_FAILURE = \"QUERY_DELETE_FAILURE\";\r\n\r\nexport const QUERIES_HIDE_WARNING = \"QUERIES_HIDE_WARNING\";\r\nexport const QUERIES_HIDE_ERROR = \"QUERIES_HIDE_ERROR\";\r\nexport const QUERIES_HIDE_SUCCESS = \"QUERIES_HIDE_SUCCESS\";\r\n\r\n// current item\r\nexport const CURRENT_ITEM_SET_TYPE = \"CURRENT_ITEM_SET_TYPE\";\r\n\r\n// report\r\nexport const REPORT_BEGIN = \"REPORT_BEGIN\";\r\nexport const REPORT_SUCCESS = \"REPORT_SUCCESS\";\r\nexport const REPORT_ERROR = \"REPORT_ERROR\";\r\nexport const REPORT_ERASE = \"REPORT_ERASE\";\r\n\r\n// operinput\r\nexport const UNAPPROVED_FETCH_BEGIN = \"UNAPPROVED_FETCH_BEGIN\";\r\nexport const UNAPPROVED_FETCH_SUCCESS = \"UNAPPROVED_FETCH_SUCCESS\";\r\nexport const UNAPPROVED_FETCH_FAILURE = \"UNAPPROVED_FETCH_FAILURE\";\r\nexport const OPERINPUT_SUPPLY_BEGIN = \"OPERINPUT_SUPPLY_BEGIN\";\r\nexport const OPERINPUT_SUPPLY_SUCCESS = \"OPERINPUT_SUPPLY_SUCCESS\";\r\nexport const OPERINPUT_SUPPLY_FAILURE = \"OPERINPUT_SUPPLY_FAILURE\";\r\nexport const OPERINPUT_CLEAR = \"OPERINPUT_CLEAR\";\r\nexport const OPERINPUT_ITEMS_SEARCH_BEGIN = \"OPERINPUT_ITEMS_SEARCH_BEGIN\";\r\nexport const OPERINPUT_ITEMS_SEARCH_SUCCESS = \"OPERINPUT_ITEMS_SEARCH_SUCCESS\";\r\nexport const OPERINPUT_ITEMS_SEARCH_FAILURE = \"OPERINPUT_ITEMS_SEARCH_FAILURE\";\r\nexport const OPERINPUT_INFO_REMOVE = \"OPERINPUT_INFO_REMOVE\";\r\nexport const OPERINPUT_SEARCH_INFO_REMOVE = \"OPERINPUT_SEARCH_INFO_REMOVE\";\r\nexport const OPERINPUT_SET_ITEMS = \"OPERINPUT_SET_ITEMS\";\r\n\r\n// inputApprove\r\nexport const IAPPROVE_FETCH_BEGIN = \"IAPPROVE_FETCH_BEGIN\";\r\nexport const IAPPROVE_FETCH_SUCCESS = \"IAPPROVE_FETCH_SUCCESS\";\r\nexport const IAPPROVE_FETCH_FAILURE = \"IAPPROVE_FETCH_FAILURE\";\r\nexport const IAPPROVE_PROCESS_BEGIN = \"IAPPROVE_PROCESS_BEGIN\";\r\nexport const IAPPROVE_PROCESS_SUCCESS = \"IAPPROVE_PROCESS_SUCCESS\";\r\nexport const IAPPROVE_PROCESS_FAILURE = \"IAPPROVE_PROCESS_FAILURE\";\r\nexport const IAPPROVE_INFO_REMOVE = \"IAPPROVE_INFO_REMOVE\";\r\nexport const IAPPROVE_SET_ITEMS = \"IAPPROVE_SET_ITEMS\";","import axios from \"axios\";\r\nimport setAuthToken from \"../utils/set-auth-token\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { LOGIN_BEGIN, SET_CURRENT_USER, LOGIN_ERROR, LOGOUT } from \"./types\";\r\n//import * as extractMsg from \"./functions/extractMsg\";\r\n\r\n// Login user\r\nexport const loginBegin = () => ({\r\n  type: LOGIN_BEGIN\r\n});\r\n\r\nexport const loginError = errors => ({\r\n  type: LOGIN_ERROR,\r\n  payload: {errors}\r\n});\r\n\r\nexport const logout = () => ({\r\n  type: LOGOUT\r\n});\r\n\r\n// Set logged in user\r\nexport const setCurrentUser = decoded => {\r\n  return {\r\n    type: SET_CURRENT_USER,\r\n    payload: decoded\r\n  };\r\n};\r\n\r\nexport const loginUser = userData => dispatch => {\r\n  dispatch(loginBegin());\r\n  axios\r\n    .post(\"api/users/login\", userData)\r\n    .then(res => {\r\n      const { token } = res.data;\r\n      localStorage.setItem(\"jwtToken\", token);\r\n      // set jwt-token as default header to all axios requests\r\n      setAuthToken(token);\r\n      // decode token to get user data\r\n      const decoded = jwt_decode(token);\r\n      // set current user\r\n      dispatch(setCurrentUser(decoded));\r\n    })\r\n    .catch(err => {\r\n      if (err.response) {\r\n        dispatch(loginError(err.response.data));\r\n      } else {\r\n        dispatch(loginError(err));\r\n      }       \r\n    });\r\n};\r\n\r\n// Log user out\r\nexport const logoutUser = () => dispatch => {\r\n  // remove token from localStorage\r\n  localStorage.removeItem(\"jwtToken\");\r\n  // remove auth header for future requests;\r\n  setAuthToken(false);\r\n  // set current user to {} which will also set isAuthenticated to false\r\n  dispatch(setCurrentUser({}));\r\n  dispatch(logout());\r\n};\r\n","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {logoutUser} from '../../actions/loginActions';\r\n\r\n\r\nclass Navbar extends Component {\r\n\r\n  onLogoutClick(e) {\r\n    e.preventDefault();\r\n    this.props.logoutUser();\r\n  }\r\n\r\n  render() {\r\n    const {isAuthenticated, user} = this.props.login;\r\n\r\n    const adminLinks = (\r\n      <ul className='navbar-nav mr-auto'>\r\n        <li className='nav-item'>\r\n          <Link className='nav-link' to='/weldings'>Suvirinimai</Link>\r\n        </li>\r\n        <li className='nav-item'>\r\n          <Link className='nav-link' to='/defects'>Defektai</Link>\r\n        </li>      \r\n        <li className='nav-item dropdown'>\r\n          <Link className=\"nav-link dropdown-toggle\" to=\"#\" id=\"reportsDropdown\" role=\"button\" data-toggle=\"dropdown\">\r\n            Ataskaitos\r\n          </Link>\r\n          <div className=\"dropdown-menu\">\r\n            <Link className=\"dropdown-item\" to=\"/report/defects-undone\">Defektai kelyje</Link>\r\n            <Link className=\"dropdown-item\" to=\"/report/defects-undone-count\">Defektai kelyje - kiekis</Link>\r\n            <Link className=\"dropdown-item\" to=\"/report/k33\">Mėnesio K-33</Link>\r\n            <Link className=\"dropdown-item\" to=\"/report/to-inspect\">Suvirinimai - galima tikrinti</Link>\r\n          </div>\r\n        </li>      \r\n        <li className='nav-item dropdown'>\r\n          <Link className=\"nav-link dropdown-toggle\" to=\"#\" id=\"operInputDropdown\" role=\"button\" data-toggle=\"dropdown\">\r\n            Operatorių darbas\r\n          </Link>\r\n          <div className=\"dropdown-menu\">\r\n            <Link className=\"dropdown-item\" to=\"/operinput/approve/defects\">Defektai</Link>\r\n            <Link className=\"dropdown-item\" to=\"/operinput/approve/weldings\">Suvirinimai</Link>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    )  \r\n\r\n    const operLinks = (\r\n      <ul className='navbar-nav mr-auto'>      \r\n        <li className='nav-item dropdown'>\r\n          <Link className=\"nav-link dropdown-toggle\" to=\"#\" id=\"operSupplyDropdown\" role=\"button\" data-toggle=\"dropdown\">\r\n            Perduoti duomenis\r\n          </Link>\r\n          <div className=\"dropdown-menu\">\r\n            <Link className=\"dropdown-item\" to=\"/operinput/supply/defects\">Perduoti defektus</Link>\r\n            <Link className=\"dropdown-item\" to=\"/operinput/supply/weldings\">Perduoti suvirinimus</Link>\r\n          </div>\r\n        </li> \r\n      </ul>\r\n    )\r\n    \r\n    const kmvLinks = (\r\n      <ul className='navbar-nav mr-auto'>\r\n        <li className='nav-item'>\r\n          <Link className='nav-link' to='/kmv/defects'>Defektai meistrijos keliuose</Link>\r\n        </li>\r\n      </ul>\r\n    );  \r\n\r\n    const authLinks = (\r\n      <ul className='navbar-nav ml-auto'>\r\n        <li className='nav-item'>\r\n          <span \r\n            className='navbar-text'\r\n            style={{marginRight: '10px'}}\r\n          >\r\n          {user.name}\r\n          </span>\r\n        </li>\r\n        <li className='nav-item'>\r\n          <button \r\n            className='btn btn-dark' \r\n            type='button'\r\n            onClick={this.onLogoutClick.bind(this)}\r\n          >\r\n            Logout\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    );\r\n    \r\n    const guestLinks = (\r\n      <ul className='navbar-nav ml-auto'>\r\n        <li className='nav-item'>\r\n          <Link className='nav-link' to='/register'>Sign Up</Link>\r\n        </li>\r\n        <li className='nav-item'>\r\n          <Link className='nav-link' to='/login'>Login</Link>\r\n        </li>\r\n      </ul>\r\n    );\r\n\r\n\r\n    return (\r\n      <nav className='navbar navbar-expand-sm navbar-dark bg-dark mb-4'>\r\n          <div className='container'>\r\n            <Link className='navbar-brand' to='/'>RLDB</Link>\r\n            <button \r\n              className='navbar-toggler' type='button' \r\n              data-toggle='collapse' data-target='#mobile-nav'\r\n            >\r\n              <span className='navbar-toggler-icon'></span>\r\n            </button>\r\n            <div className='collapse navbar-collapse' id='mobile-nav'>\r\n              {!user ? null\r\n               : user.role === \"adm\" ? adminLinks\r\n               : user.role === \"oper\" ? operLinks\r\n               : user.role === \"kmv\" ? kmvLinks\r\n               : null\r\n              }\r\n              {isAuthenticated ? authLinks : guestLinks}              \r\n            </div>\r\n          </div>\r\n        </nav>\r\n    );\r\n}}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  login: state.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {logoutUser})(Navbar);","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\n\r\nclass Landing extends Component {  \r\n\r\n  componentDidMount() {\r\n    if (this.props.isAuthenticated) {\r\n      this.props.history.push('/logged-in');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"landing\">\r\n          <div className=\"dark-overlay landing-inner text-light\">\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-12 text-center\">\r\n                  <h1 className=\"display-3 mb-4\">Rail Defect Data Base\r\n                  </h1>\r\n                  <p className=\"lead\">Manage your data with confidence</p>\r\n                  <hr />\r\n                  <Link to=\"/register\" className=\"btn btn-lg btn-info mr-2\">Sign Up</Link>\r\n                  <Link to=\"/login\" className=\"btn btn-lg btn-light\">Login</Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.login.isAuthenticated\r\n});\r\n\r\nexport default connect(mapStateToProps)(Landing);"," \r\n import React from 'react';\r\n\r\n export default () => {\r\n   return (\r\n    <footer className=\"bg-dark text-white mt-5 p-4 text-center\">\r\n        Copyright &copy; {new Date().getFullYear()} RLDB\r\n      </footer>\r\n  );\r\n }","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\nconst TextFieldGroup = ({\r\n  type, \r\n  id,\r\n  label,\r\n  name, \r\n  placeholder,\r\n  value,\r\n  error,\r\n  info,\r\n  onChange,\r\n  disabled,\r\n  readonly,\r\n  autoComplete,\r\n  classname,\r\n  divClassname\r\n}) => {\r\n  return (\r\n    <div className={divClassname}>\r\n      {label && <label htmlFor={id}>{label}</label>}\r\n      <input\r\n        type={type}\r\n        id={id}\r\n        className={classnames(classname, {\r\n          'is-invalid': error\r\n        })}\r\n        name={name}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        onChange={onChange}\r\n        autoComplete={autoComplete}\r\n        disabled={disabled}\r\n        readOnly={readonly}\r\n      />\r\n      {info && \r\n      <small className='form-text text-muted'>{info}</small>}\r\n      {error &&\r\n      <div className='invalid-feedback'>{error}</div>}\r\n    </div>\r\n  )\r\n}\r\n\r\nTextFieldGroup.defaultProps = {\r\n  type: 'text', \r\n  autoComplete: \"on\",\r\n  classname: 'form-control',\r\n  divClassname: 'form-group',\r\n  onChange: null\r\n}\r\n\r\nexport default TextFieldGroup;\r\n","import React from \"react\";\r\n\r\nconst IsLoading = props => {\r\n  // rodomas, jeigu props.when yra true arba išvis nėra when\r\n  let display = \"none\";\r\n  if (!props.hasOwnProperty(\"when\") || props.when === true) {\r\n    display = \"block\";\r\n  }\r\n\r\n  return (\r\n    <div id=\"overlay\" style={{ display }}>\r\n      <div className=\"loader\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IsLoading;\r\n","import React from \"react\";\r\n\r\nconst Alert = ({ type, message, hide }) => {\r\n  // message - string or array of strings\r\n  if (!message) return null;\r\n  const alertType = type || \"error\";\r\n  let displayMsg;\r\n  if (typeof message === 'string') {\r\n    displayMsg = message.trim();\r\n    if (!displayMsg) return null;\r\n  } else if (Array.isArray(message)) {\r\n    if (message.length === 0) return null;\r\n    displayMsg = [];\r\n    // create an array in displayMsg:\r\n    // [item0, <br />, item1, <br />, item3]\r\n    message.forEach((item, i) => {\r\n      displayMsg.push(item);\r\n      if (i < message.length-1) {\r\n        displayMsg.push(<br />);\r\n      }\r\n    });\r\n  }\r\n\r\n  const classOf = {\r\n    error: \"danger\",\r\n    danger: \"danger\",\r\n    red: \"danger\",\r\n    warning: \"warning\",\r\n    yellow: \"warning\",\r\n    success: \"success\",\r\n    green: \"success\",\r\n    info: \"info\",\r\n    lightblue: \"info\",\r\n    light: \"light\",\r\n    white: \"light\",\r\n    primary: \"primary\",\r\n    blue: \"primary\",\r\n    secondary: \"secondary\",\r\n    lightgrey: \"secondary\",\r\n    dark: \"dark\",\r\n    grey: \"dark\",\r\n  }\r\n\r\n  const classname = `alert alert-${classOf[alertType]}${hide == null ? \" alert-dismissible fade show\" : \"\"}`;\r\n  return (\r\n    <div className={classname} role=\"alert\">\r\n      {displayMsg}\r\n      {hide == null ? null : (\r\n        <button type=\"button\" className=\"close\" onClick={hide}>\r\n          <span>&times;</span>\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../../actions/loginActions\";\r\nimport TextFieldGroup from \"../common/TextFieldGroup\";\r\nimport IsLoading from \"../common/IsLoading\";\r\nimport Alert from \"../common/Alert\";\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\"\r\n    };\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.login.isAuthenticated) {\r\n      this.props.history.push(\"/logged-in\");\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!prevProps.login.isAuthenticated && this.props.login.isAuthenticated) {\r\n      this.props.history.push(\"/logged-in\");\r\n    }\r\n  }\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const userData = {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    };\r\n    this.props.loginUser(userData);\r\n  };\r\n\r\n  render() {\r\n    const errors = this.props.login.errors;\r\n\r\n    return (\r\n      <div className=\"login\">\r\n        <IsLoading when={this.props.login.isBusy} />\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-8 m-auto\">\r\n              <h1 className=\"display-4 text-center\">Log In</h1>\r\n              <p className=\"lead text-center\">Sign in to your RLDB account</p>\r\n              <form noValidate onSubmit={this.onSubmit}>\r\n                <TextFieldGroup\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  placeholder=\"Email Address\"\r\n                  value={this.state.email}\r\n                  onChange={this.onChange}\r\n                  error={errors.email}\r\n                />\r\n                <TextFieldGroup\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  placeholder=\"Password\"\r\n                  value={this.state.password}\r\n                  onChange={this.onChange}\r\n                  error={errors.password}\r\n                />\r\n                {errors.message && <Alert message={errors.message} />}\r\n                <input type=\"submit\" className=\"btn btn-info btn-block mt-4\" />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({ login: state.login });\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { loginUser }\r\n)(Login);\r\n","import axios from \"axios\";\r\n//import * as extractMsg from \"./functions/extractMsg\";\r\nimport { REGISTER_BEGIN, REGISTER_SUCCESS, REGISTER_ERROR } from \"./types\";\r\n\r\nexport const registerBegin = () => ({\r\n  type: REGISTER_BEGIN\r\n});\r\n\r\nexport const registerSuccess = () => ({\r\n  type: REGISTER_SUCCESS\r\n});\r\n\r\nexport const registerError = errors => ({\r\n  type: REGISTER_ERROR,\r\n  payload: {errors}\r\n});\r\n\r\n// Register\r\nexport const registerUser = (userData, history) => dispatch => {\r\n  dispatch(registerBegin());\r\n  axios\r\n    .post(\"/api/users/register\", userData)\r\n    .then(res => {\r\n      dispatch(registerSuccess());\r\n      history.push(\"/\");\r\n    })\r\n    .catch(err => {\r\n      if (err.response) {\r\n        dispatch(registerError(err.response.data));\r\n      } else {\r\n        dispatch(registerError(err));\r\n      }   \r\n    });\r\n};\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\n\r\nconst SelectInputGroup = ({\r\n  options,\r\n  name,\r\n  id,\r\n  value,\r\n  onChange,\r\n  label,\r\n  size,\r\n  style,\r\n  multiple,\r\n  disabled,\r\n  classname,\r\n  divClassname,\r\n  error,\r\n  info\r\n}) => {\r\n  return (\r\n    <div className={divClassname}>\r\n      {label && <label htmlFor={id}>{label}</label>}\r\n      <select\r\n        className={classnames(classname, {'is-invalid': error})}\r\n        name={name}\r\n        id={id}\r\n        multiple={multiple} \r\n        disabled={disabled} \r\n        onChange={onChange}\r\n        size={size}\r\n        style={style}\r\n        value={value}\r\n      >\r\n        {options}\r\n      </select>\r\n      {info && <small className='form-text text-muted'>{info}</small>}\r\n      {error && (\r\n        <div className='invalid-feedback'>{error}</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nSelectInputGroup.defaultProps = {\r\n  classname: 'form-control',\r\n  divClassname: 'form-group'\r\n}\r\n\r\nexport default SelectInputGroup;","import axios from \"axios\";\r\n//import * as extractMsg from \"./functions/extractMsg\";\r\nimport {\r\n  THINGS_FETCH_BEGIN,\r\n  THINGS_FETCH_SUCCESS,\r\n  THINGS_FETCH_FAILURE\r\n} from \"./types\";\r\n\r\nexport const fetchThingsBegin = () => ({\r\n  type: THINGS_FETCH_BEGIN\r\n});\r\n\r\nexport const fetchThingsSuccess = things => ({\r\n  type: THINGS_FETCH_SUCCESS,\r\n  payload: { things }\r\n});\r\n\r\nexport const fetchThingsFailure = errormsg => {\r\n  return {\r\n    type: THINGS_FETCH_FAILURE,\r\n    payload: { errormsg }\r\n  };\r\n};\r\n\r\n// Get things for registering user\r\nexport const fetchRegisterThings = () => dispatch => {\r\n  dispatch(fetchThingsBegin());\r\n  axios\r\n    .get(\"/api/things/register\")\r\n    .then(res => dispatch(fetchThingsSuccess(res.data)))\r\n    .catch(err => dispatch(fetchThingsFailure(err.message)));\r\n};\r\n\r\n// // Get all things for defects\r\n// export const fetchDefectThings = () => dispatch => {\r\n//   dispatch(fetchThingsBegin());\r\n//   axios\r\n//     .get(\"/api/things/defects\")\r\n//     .then(res => dispatch(fetchThingsSuccess(res.data)))\r\n//     .catch(err => dispatch(fetchThingsFailure(err)));\r\n// };\r\n\r\n// // Get all things for weldings\r\n// export const fetchWeldingThings = () => dispatch => {\r\n//   dispatch(fetchThingsBegin());\r\n//   axios\r\n//     .get(\"/api/things/weldings\")\r\n//     .then(res => dispatch(fetchThingsSuccess(res.data)))\r\n//     .catch(err => dispatch(fetchThingsFailure(err)));\r\n// };\r\n\r\n// Get all things for all apps\r\nexport const fetchAllThings = () => dispatch => {\r\n  dispatch(fetchThingsBegin());\r\n  const v = localStorage.getItem(\"allThingsV\") || -1;\r\n  axios\r\n    .get(\"/api/things/all\", {params: {v}} )\r\n    .then(res => {\r\n      if (res.data.things) {\r\n        //console.log(\"res.data\", res.data);\r\n        localStorage.setItem(\"allThingsV\", res.data.v);\r\n        localStorage.setItem(\"allThings\", JSON.stringify(res.data.things));\r\n        dispatch(fetchThingsSuccess(res.data.things));\r\n      } else {\r\n        dispatch(fetchThingsSuccess(JSON.parse(localStorage.getItem(\"allThings\"))));\r\n      }\r\n    })\r\n    .catch(err => dispatch(fetchThingsFailure(err.message)));\r\n};\r\n","const isEmpty = value =>\r\n  value === undefined ||\r\n  value === null ||\r\n  (value.hasOwnProperty(\"length\") && value.length === 0) ||\r\n  (value.constructor === Object && Object.keys(value).length === 0);\r\n\r\nexport default isEmpty;\r\n","import React from \"react\";\r\n\r\nexport const createOptions = (\r\n  arr,\r\n  placeholder,\r\n  displayfunc = x => x.name,\r\n  keyfunc = x => x.id,\r\n  valuefunc = x => x.id\r\n) => {\r\n  // console.log(\"TESTING: recreating options \" + placeholder, arr);\r\n  let options = arr.map(x => (\r\n    <option key={keyfunc(x)} value={valuefunc(x)}>\r\n      {displayfunc(x)}\r\n    </option>\r\n  ));\r\n\r\n  if (placeholder != null) {\r\n    options.unshift(\r\n      <option key={\"--1\"} value=\" \">\r\n        {placeholder}\r\n      </option>\r\n    );\r\n  }\r\n  // console.log(\"option arr\", options);\r\n  return options;\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { registerUser } from \"../../actions/registerActions\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport TextFieldGroup from \"../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../common/SelectInputGroup\";\r\nimport { fetchRegisterThings } from \"../../actions/thingsActions\";\r\nimport isEmpty from \"../../validation/is-empty\";\r\nimport { createOptions } from \"../createOptions\";\r\nimport IsLoading from \"../common/IsLoading\";\r\nimport Alert from \"../common/Alert\";\r\n\r\nclass Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      role: \"\",\r\n      region: \"\",\r\n      password: \"\",\r\n      password2: \"\",\r\n      // passwordMatchError: {}\r\n    };\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.isAuthenticated) {\r\n      this.props.history.push(\"/logged-in\");\r\n    }\r\n    this.props.fetchRegisterThings();\r\n  }\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    // if (this.state.password !== this.state.password2) {\r\n    //   this.setState(passwordMatchError: {password2: \"passwords don't match\"});\r\n    //   return;\r\n    // }\r\n    const newUser = {\r\n      name: this.state.name,\r\n      email: this.state.email,\r\n      role: this.state.role,\r\n      region: this.state.region,\r\n      code: this.state.code,\r\n      password: this.state.password,\r\n      password2: this.state.password2\r\n    };\r\n\r\n    this.props.registerUser(newUser, this.props.history);\r\n  };\r\n\r\n  render() {\r\n    // things load error\r\n    if (this.props.things.errormsg) {\r\n      return <Alert message={this.props.things.errormsg} />;\r\n    }\r\n\r\n    const errors = this.props.register.errors;\r\n\r\n    const noUserRoles =\r\n      isEmpty(this.props.things.data) || isEmpty(this.props.things.data.urole);\r\n    const noRegions =\r\n      isEmpty(this.props.things.data) || isEmpty(this.props.things.data.region);\r\n\r\n    return (\r\n      <div className=\"register\">\r\n        <IsLoading when={this.props.register.isBusy} />\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-8 m-auto\">\r\n              <h1 className=\"display-4 text-center\">Sign Up</h1>\r\n              <p className=\"lead text-center\">Create your RLDB account</p>\r\n              {errors.message && <Alert message={errors.message} />}\r\n              <form noValidate onSubmit={this.onSubmit}>\r\n                <TextFieldGroup\r\n                  name=\"name\"\r\n                  placeholder=\"Name\"\r\n                  value={this.state.name}\r\n                  onChange={this.onChange}\r\n                  error={errors.name}\r\n                  autoComplete=\"off\"\r\n                />\r\n                <TextFieldGroup\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  placeholder=\"Email\"\r\n                  value={this.state.email}\r\n                  onChange={this.onChange}\r\n                  error={errors.email}\r\n                  autoComplete=\"off\"\r\n                />\r\n                {noUserRoles ? (\r\n                  <input\r\n                    className=\"form-control form-control-lg\"\r\n                    type=\"text\"\r\n                    value=\"waiting for data…\"\r\n                    readOnly\r\n                  />\r\n                ) : (\r\n                  <SelectInputGroup\r\n                    name=\"role\"\r\n                    options={createOptions(\r\n                      this.props.things.data.urole,\r\n                      \"Select Role\"\r\n                    )}\r\n                    value={this.state.role}\r\n                    onChange={this.onChange}\r\n                    error={errors.role}\r\n                  />\r\n                )}\r\n                {noRegions ? (\r\n                  <input\r\n                    className=\"form-control form-control-lg\"\r\n                    type=\"text\"\r\n                    value=\"waiting for data…\"\r\n                    readOnly\r\n                  />\r\n                ) : (\r\n                  <SelectInputGroup\r\n                    name=\"region\"\r\n                    options={createOptions(\r\n                      this.props.things.data.region,\r\n                      \"Select Region\"\r\n                    )}\r\n                    value={this.state.region}\r\n                    onChange={this.onChange}\r\n                    error={errors.region}\r\n                  />\r\n                )}\r\n                <TextFieldGroup\r\n                  name=\"code\"\r\n                  type=\"text\"\r\n                  placeholder=\"Code\"\r\n                  value={this.state.code}\r\n                  onChange={this.onChange}\r\n                  error={errors.code}\r\n                  autoComplete=\"off\"\r\n                />\r\n                <TextFieldGroup\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  placeholder=\"Password\"\r\n                  value={this.state.password}\r\n                  onChange={this.onChange}\r\n                  error={errors.password}\r\n                  autoComplete=\"off\"\r\n                />\r\n                <TextFieldGroup\r\n                  type=\"password\"\r\n                  name=\"password2\"\r\n                  placeholder=\"Retype Password\"\r\n                  value={this.state.password2}\r\n                  onChange={this.onChange}\r\n                  error={errors.password2}\r\n                  autoComplete=\"off\"\r\n                />\r\n                <input type=\"submit\" className=\"btn btn-info btn-block mt-4\" />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  register: state.register,\r\n  things: state.things,\r\n  isAuthenticated: state.login.isAuthenticated\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { registerUser, fetchRegisterThings }\r\n)(withRouter(Register));\r\n","export const filterReplacements = {\r\n  id: \"x.id\",\r\n  id1: \"x.id1\",\r\n  regbit: \"x.regbit\",\r\n  meistrija: \"x.meistrija\",\r\n  linija: \"x.linija\",\r\n  kelias: \"x.kelias\",\r\n  km: \"x.km\",\r\n  pk: \"x.pk\",\r\n  m: \"x.m\",\r\n  siule: \"x.siule\",\r\n  kodas: \"x.kodas\",\r\n  dl: \"x.dl\",\r\n  dh: \"x.dh\",\r\n  pavoj: \"x.pavoj\",\r\n  kkateg: \"x.kkateg\",\r\n  btipas: \"x.btipas\",\r\n  bgamykl: \"x.bgamykl\",\r\n  bmetai: \"x.bmetai\",\r\n  oper: \"x.oper\",\r\n  apar: \"x.apar\",\r\n  data: \"x.data\",\r\n  dtermin: \"x.dtermin\",\r\n  dstop: \"x.dstop\",\r\n  liko: \"(x.dtermin && !x.dstop) && Math.floor((Date.parse(x.dtermin)-Date.now())/86400000)\",\r\n  vt: \"(x.kelias && (x.kelias==='1' || x.kelias==='2') && x.km && x.pk && (x.m || x.m===0)) && (x.km*1000+(x.pk-1)*100+x.m)\"\r\n};\r\n\r\nexport function getSortingReplacement(fieldName, x) {\r\n  switch (fieldName) {\r\n    case \"id\": return x.id;\r\n    case \"id1\": return x.id1;\r\n    case \"regbit\": return x.regbit;\r\n    case \"meistrija\": return x.meistrija;\r\n    case \"linija\": return x.linija;\r\n    case \"kelias\": return x.kelias;\r\n    case \"km\": return x.km;\r\n    case \"pk\": return x.pk;\r\n    case \"m\": return x.m;\r\n    case \"siule\": return x.siule;\r\n    case \"kodas\": return x.kodas;\r\n    case \"dl\": return x.dl;\r\n    case \"dh\": return x.dh;\r\n    case \"pavoj\": return x.pavoj;\r\n    case \"kkateg\": return x.kkateg;\r\n    case \"btipas\": return x.btipas;\r\n    case \"bgamykl\": return x.bgamykl;\r\n    case \"bmetai\": return x.bmetai;\r\n    case \"oper\": return x.oper;\r\n    case \"apar\": return x.apar;\r\n    case \"data\": return x.data;\r\n    case \"dtermin\": return x.dtermin;\r\n    case \"dstop\": return x.dstop;\r\n    case \"liko\": return x.dtermin && !x.daction ? Math.floor((Date.parse(x.dtermin)-Date.now())/86400000) : Number.MAX_SAFE_INTEGER;\r\n\r\n    default:\r\n      throw new Error(\"Nesuprantamas rikiavimo parametras \" + fieldName);\r\n  }\r\n}\r\n","export const filterReplacements = {\r\n  id: \"x.id\",\r\n  oldid: \"x.oldid\",\r\n  regbit: \"x.regbit\",\r\n  linija: \"x.linija\",\r\n  kelias: \"x.kelias\",\r\n  km: \"x.km\",\r\n  pk: \"x.pk\",\r\n  m: \"x.m\",\r\n  siule: \"x.siule\",\r\n  vbudas: \"x.vbudas\",\r\n  suvnr: \"x.suvnr\",\r\n  nrschema: \"x.nrschema\",\r\n  data0: \"x.data0\",\r\n  dstop: \"x.stop\",\r\n  note: \"x.note\",\r\n\r\n  data: \"x.data\",\r\n  oper: \"x.oper\",\r\n  apar: \"x.apar\",\r\n  name: \"x.pvd\",\r\n  defectid: \"x.defectid\"\r\n};\r\n\r\nexport function getSortingReplacement(fieldName, x) {\r\n  switch (fieldName) {\r\n    case \"id\": return x.id;\r\n    case \"oldid\": return x.oldid;\r\n    case \"regbit\": return x.regbit;\r\n    case \"linija\": return x.linija;\r\n    case \"kelias\": return x.kelias;\r\n    case \"km\": return x.km;\r\n    case \"pk\": return x.pk;\r\n    case \"m\": return x.m;\r\n    case \"siule\": return x.siule;\r\n    case \"vbudas\": return x.vbudas;\r\n    case \"suvnr\": return x.suvnr;\r\n    case \"nrschema\": return x.nrschema;\r\n    case \"data0\": return x.data0;\r\n    case \"dstop\": return x.dstop;\r\n    case \"note\": return x.note;\r\n    \r\n    case \"data\": return x.data;\r\n    case \"apar\": return x.apar;\r\n    case \"oper\": return x.oper;\r\n    case \"pvd\": return x.pvd;\r\n    case \"defectid\": return x.defectid;\r\n\r\n    default:\r\n      throw new Error(\"Nesuprantamas rikiavimo parametras \" + fieldName);\r\n  }\r\n}\r\n","const absent = prop => prop == null ? \"\" : prop.toString(); \r\nexport default absent;\r\n","import React from \"react\";\r\nimport {liko} from \"./functions\";\r\n\r\nconst ItemRow = ({ item, editItem, deleteItem }) => {\r\n  return (\r\n    <tr>\r\n      <td className=\"regbit\">{item.regbit}</td>\r\n      <td className=\"meistrija\">{item.meistrija}</td>\r\n      <td className=\"id text-right\">{item.id}</td>\r\n      <td className=\"id1 text-right\">{item.id1}</td>\r\n      <td className=\"linija\">{item.linija}</td>\r\n      <td className=\"kelias\">{item.kelias}</td>\r\n      <td className=\"km text-right\">{item.km}</td>\r\n      <td className=\"pk text-right\">{item.pk}</td>\r\n      <td className=\"m text-right\">{item.m}</td>\r\n      <td className=\"siule\">{item.siule}</td>\r\n      <td className=\"kodas\">{item.kodas}</td>\r\n      <td className=\"dl text-right\">{item.dl}</td>\r\n      <td className=\"dh text-right\">{item.dh}</td>\r\n      <td className=\"pavoj\">{item.pavoj}</td>\r\n      <td className=\"kkateg\">{item.kkateg}</td>\r\n      <td className=\"btipas\">{item.btipas}</td>\r\n      <td className=\"bgamykl\">{item.bgamykl}</td>\r\n      <td className=\"bmetai\">{item.bmetai}</td>\r\n      <td className=\"oper\">{item.oper}</td>\r\n      <td className=\"apar\">{item.apar}</td>\r\n      <td className=\"data\">{item.data}</td>\r\n      <td className=\"dtermin\">{item.dtermin}</td>\r\n      <td className=\"dstop\">{item.dstop}</td>\r\n      <td className=\"liko\">{liko(item)}</td>\r\n      <td className=\"pastaba\">{item.note}</td>\r\n      <td>\r\n        <div className=\"button-group\">\r\n          <button\r\n            className=\"btn btn-xs btn-warning\"\r\n            data-id={item.id}\r\n            onClick={editItem}\r\n          >\r\n            <i className=\"fas fa-edit\" data-id={item.id} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-xs btn-danger\"\r\n            data-id={item.id}\r\n            data-v={item.v}\r\n            onClick={deleteItem}\r\n          >\r\n            <i \r\n              className=\"fas fa-trash-alt\" \r\n              data-id={item.id}\r\n              data-v={item.v} \r\n            />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst ItemHeadRow = () => {\r\n  return (\r\n    <tr>\r\n      <th className=\"region\">regbit</th>\r\n      <th className=\"meistrija\">meistrija</th>\r\n      <th className=\"id\">id</th>\r\n      <th className=\"id1\">id1</th>\r\n      <th className=\"linija\">linija</th>\r\n      <th className=\"kelias\">kelias</th>\r\n      <th className=\"km\">km</th>\r\n      <th className=\"pk\">pk</th>\r\n      <th className=\"m\">m</th>\r\n      <th className=\"siule\">siule</th>\r\n      <th className=\"kodas\">kodas</th>\r\n      <th className=\"dl\">dl</th>\r\n      <th className=\"dh\">dh</th>\r\n      <th className=\"pavoj\">pavoj</th>\r\n      <th className=\"kkateg\">kkateg</th>\r\n      <th className=\"btipas\">btipas</th>\r\n      <th className=\"bgamykl\">bgamykl</th>\r\n      <th className=\"bmetai\">bmetai</th>\r\n      <th className=\"oper\">oper</th>\r\n      <th className=\"apar\">apar</th>\r\n      <th className=\"data\">data</th>\r\n      <th className=\"dtermin\">dtermin</th>\r\n      <th className=\"dstop\">dstop</th>\r\n      <th className=\"liko\">liko</th>\r\n      <th className=\"note\">note</th>\r\n      <th className=\"controls\">controls</th>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport { ItemRow, ItemHeadRow };\r\n","function liko(defect) {\r\n  if (!defect.dtermin || defect.dstop) return \"\";\r\n  return Math.floor((Date.parse(defect.dtermin) - Date.now())/86400000)\r\n}\r\n\r\nexport {liko};","import React from \"react\";\r\n\r\nconst ItemRow = ({ item, editItem, deleteItem }) => {\r\n  return (\r\n    <tr>\r\n      <td className=\"regbit\">{item.regbit}</td>\r\n      <td className=\"id text-right\">{item.id}</td>\r\n      <td className=\"oldid text-right\">{item.oldid}</td>\r\n      <td className=\"data\">{item.data0}</td>\r\n      <td className=\"virino\">{item.virino}</td>\r\n      <td className=\"vbudas\">{item.vbudas}</td>\r\n      <td className=\"linija\">{item.linija}</td>\r\n      <td className=\"kelias\">{item.kelias}</td>\r\n      <td className=\"km text-right\">{item.km}</td>\r\n      <td className=\"pk text-right\">{item.pk}</td>\r\n      <td className=\"m text-right\">{item.m}</td>\r\n      <td className=\"siule\">{item.siule}</td>\r\n      <td className=\"suvnr\">{item.suvnr}</td>\r\n      <td className=\"nrschema\">{item.nrschema}</td>\r\n      <td className=\"data\">{item.data}</td>\r\n      <td className=\"pvd\">{item.pvd}</td>\r\n      <td className=\"oper\">{item.oper}</td>\r\n      <td className=\"apar\">{item.apar}</td>\r\n      <td className=\"dstop\">{item.dstop}</td>\r\n      <td className=\"pastaba\">{item.note}</td>\r\n      <td>\r\n        <div className=\"button-group\">\r\n          <button\r\n            className=\"btn btn-xs btn-warning\"\r\n            data-id={item.id}\r\n            onClick={editItem}\r\n          >\r\n            <i className=\"fas fa-edit\" data-id={item.id} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-xs btn-danger\"\r\n            data-id={item.id}\r\n            data-v={item.v}\r\n            onClick={deleteItem}\r\n          >\r\n            <i \r\n              className=\"fas fa-trash-alt\" \r\n              data-id={item.id}\r\n              data-v={item.v} \r\n            />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst ItemHeadRow = () => {\r\n  return (\r\n    <tr>\r\n      <th className=\"region\">regbit</th>\r\n      <th className=\"id\">id</th>\r\n      <th className=\"oldid\">oldid</th>\r\n      <th className=\"data\">data0</th>\r\n      <th className=\"virino\">virino</th>\r\n      <th className=\"vbudas\">vbudas</th>\r\n      <th className=\"linija\">linija</th>\r\n      <th className=\"kelias\">kelias</th>\r\n      <th className=\"km\">km</th>\r\n      <th className=\"pk\">pk</th>\r\n      <th className=\"m\">m</th>\r\n      <th className=\"siule\">siule</th>\r\n      <th className=\"suvnr\">suvnr</th>\r\n      <th className=\"nrschema\">nrschema</th>\r\n      <th className=\"data\">data</th>\r\n      <th className=\"pvd\">pvd</th>\r\n      <th className=\"oper\">oper</th>\r\n      <th className=\"apar\">apar</th>\r\n      <th className=\"dstop\">dstop</th>\r\n      <th className=\"note\">note</th>\r\n      <th className=\"controls\">controls</th>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport { ItemRow, ItemHeadRow };\r\n","export const defect = \"defect\";\r\nexport const welding = \"welding\";\r\nexport const employee = \"employee\";","import * as defectReplacements from \"./actions/functions/filterSort/replacements/defect\";\r\nimport * as weldingReplacements from \"./actions/functions/filterSort/replacements/welding\";\r\n\r\nimport * as defectMainDataForm from \"./components/items/specific/defects/MainDataForm\";\r\nimport * as weldingMainDataForm from \"./components/items/specific/weldings/MainDataForm\";\r\n\r\nimport * as defectSingleRow from \"./components/items/specific/defects/SingleRow\";\r\nimport * as weldingSingleRow from \"./components/items/specific/weldings/SingleRow\";\r\n\r\nimport * as defectJournalEditForm from \"./components/items/specific/defects/JournalEditForm\";\r\nimport * as weldingJournalEditForm from \"./components/items/specific/weldings/JournalEditForm\";\r\n\r\nimport * as defectJournalRow from \"./components/items/specific/defects/JournalRow\";\r\nimport * as weldingJournalRow from \"./components/items/specific/weldings/JournalRow\";\r\nimport * as iTypes from \"./itypes\";\r\n\r\n\r\nexport default {\r\n  [iTypes.defect]: {\r\n        replacements: defectReplacements,\r\n        mainDataForm: defectMainDataForm.MainDataForm,\r\n        singleRow: defectSingleRow,\r\n        journalEditForm: defectJournalEditForm.JournalEditForm,\r\n        journalRow: defectJournalRow.JournalRow,\r\n        journalListHead: defectJournalRow.JournalHeadRow,\r\n        listPath: \"/defects\",\r\n        panaikinta: item => !!item.dstop\r\n      },\r\n  [iTypes.welding]: {\r\n        replacements: weldingReplacements,\r\n        mainDataForm: weldingMainDataForm.MainDataForm,\r\n        singleRow: weldingSingleRow,\r\n        journalEditForm: weldingJournalEditForm.JournalEditForm,\r\n        journalRow: weldingJournalRow.JournalRow,\r\n        journalListHead: weldingJournalRow.JournalHeadRow,\r\n        listPath: \"/weldings\",\r\n        panaikinta: item => item.dstop === 0 || item.dstop === \"0\"\r\n      }\r\n};","import React from \"react\";\r\nimport TextFieldGroup from \"../../../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../../../common/SelectInputGroup\";\r\nimport absent from \"../../../../utils/absent-props\";\r\n\r\nconst MainDataForm = ({ item, onChange, options }) => {\r\n  return (\r\n    <div className=\"container item-info border border-primary text-center\">\r\n      <div className=\"form-group row main-data text-center\">\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-3\"\r\n          label=\"ID\"\r\n          id=\"item-id\"\r\n          name=\"id\"\r\n          placeholder=\"Defekto ID\"\r\n          readonly={true}\r\n          value={absent(item.id)}\r\n        />\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-1\"\r\n          label=\"Regionas\"\r\n          id=\"item-regbit\"\r\n          name=\"regbit\"\r\n          placeholder=\"Regionas\"\r\n          readonly={true}\r\n          value={absent(item.regbit)}\r\n        />\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-3\"\r\n          label=\"ID1\"\r\n          id=\"item-id1\"\r\n          name=\"id1\"\r\n          placeholder=\"Defekto ID1\"\r\n          value={absent(item.id1)}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"item-meistrija\"\r\n          name=\"meistrija\"\r\n          label=\"Meistrija\"\r\n          divClassname=\"form-group col-3\"\r\n          value={absent(item.meistrija)}\r\n          options={options.meistrija}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"item-kkateg\"\r\n          name=\"kkateg\"\r\n          label=\"Kelio kategorija\"\r\n          divClassname=\"form-group col-2\"\r\n          value={absent(item.kkateg)}\r\n          options={options.kkateg}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group row begis text-center\">\r\n        <SelectInputGroup\r\n          id=\"item-btipas\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"btipas\"\r\n          label=\"Bėgio tipas\"\r\n          value={absent(item.btipas)}\r\n          options={options.btipas}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"item-bgamykl\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"bgamykl\"\r\n          label=\"Bėgio gamykla\"\r\n          value={absent(item.bgamykl)}\r\n          options={options.bgamykl}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-4\"\r\n          label=\"Bėgio gam. metai\"\r\n          id=\"item-bmetai\"\r\n          name=\"bmetai\"\r\n          placeholder=\"Bėgio gam. metai\"\r\n          value={absent(item.bmetai)}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group row vieta text-center\">\r\n        <TextFieldGroup\r\n          label=\"Linija\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-linija\"\r\n          name=\"linija\"\r\n          placeholder=\"Linija\"\r\n          value={absent(item.linija)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"Kelias\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-kelias\"\r\n          name=\"kelias\"\r\n          placeholder=\"Kelio Nr.\"\r\n          value={absent(item.kelias)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"km\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-km\"\r\n          name=\"km\"\r\n          placeholder=\"km\"\r\n          value={absent(item.km)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"pk\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-pk\"\r\n          name=\"pk\"\r\n          placeholder=\"pk\"\r\n          value={absent(item.pk)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"m\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-m\"\r\n          name=\"m\"\r\n          placeholder=\"m\"\r\n          value={absent(item.m)}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"item-siule\"\r\n          divClassname=\"form-group col-2\"\r\n          name=\"siule\"\r\n          label=\"Siūlė\"\r\n          value={absent(item.siule)}\r\n          options={options.siule}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group row datos text-center\">\r\n        <TextFieldGroup\r\n          label=\"Galutinio panaikinimo data\"\r\n          divClassname=\"form-group col-3\"\r\n          type=\"date\"\r\n          id=\"item-daction\"\r\n          name=\"dstop\"\r\n          placeholder=\"Panaikinimo data\"\r\n          value={absent(item.dstop)}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { MainDataForm };\r\n","import React from \"react\";\r\nimport Alert from \"../../../common/Alert\";\r\nimport TextFieldGroup from \"../../../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../../../common/SelectInputGroup\";\r\nimport absent from \"../../../../utils/absent-props\";\r\n\r\nconst JournalEditForm = ({ jItem, onChange, options, submitJItem, cancelJItem, alert }) => {\r\n  \r\n  return (\r\n    <div className=\"container journal-info border border-primary text-center\">\r\n      <div className=\"form-group row text-center\">\r\n        {alert ? (\r\n          <div className=\"col-12\">\r\n            <Alert message={alert.msg} type={alert.type} />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"form-group row text-center\">\r\n        <TextFieldGroup\r\n          label=\"Data\"\r\n          divClassname=\"form-group col-4\"\r\n          type=\"date\"\r\n          id=\"jitem-data\"\r\n          name=\"data\"\r\n          value={absent(jItem.data)}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"jitem-oper\"\r\n          name=\"oper\"\r\n          label=\"Operatorius\"\r\n          divClassname=\"form-group col-4\"\r\n          value={absent(jItem.oper)}\r\n          options={options.oper}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"jitem-apar\"\r\n          name=\"apar\"\r\n          label=\"Defektoskopas\"\r\n          divClassname=\"form-group col-4\"\r\n          value={absent(jItem.apar)}\r\n          options={options.apar}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row text-center\">\r\n        <TextFieldGroup\r\n          label=\"Kodas\"\r\n          divClassname=\"form-group col-3\"\r\n          id=\"jitem-kodas\"\r\n          name=\"kodas\"\r\n          placeholder=\"Kodas\"\r\n          value={absent(jItem.kodas)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"L\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"jitem-dl\"\r\n          name=\"dl\"\r\n          placeholder=\"L\"\r\n          value={absent(jItem.dl)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"H\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"jitem-dh\"\r\n          name=\"dh\"\r\n          placeholder=\"H\"\r\n          value={absent(jItem.dh)}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"jitem-pavoj\"\r\n          name=\"pavoj\"\r\n          label=\"Pavojingumas\"\r\n          divClassname=\"form-group col-2\"\r\n          value={absent(jItem.pavoj)}\r\n          options={options.pavoj}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"Terminas\"\r\n          divClassname=\"form-group col-3\"\r\n          type=\"date\"\r\n          id=\"jitem-termin\"\r\n          name=\"dtermin\"\r\n          value={absent(jItem.dtermin)}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row pastaba text-center\">\r\n        <TextFieldGroup\r\n          label=\"Pastaba\"\r\n          divClassname=\"form-group col-12\"\r\n          placeholder=\"Pastaba\"\r\n          id=\"jitem-note\"\r\n          name=\"note\"\r\n          value={absent(jItem.note)}\r\n          onChange={onChange}\r\n        />\r\n      </div> \r\n      <div className=\"form-group row controls text-center\">\r\n        <div className=\"form-group col-3\">\r\n          <button type=\"submit\" className=\"btn btn-primary\" onClick={submitJItem}>\r\n            Submit This Journal Record\r\n          </button>\r\n        </div>\r\n        <div className=\"form-group col-3\">\r\n          <button type=\"submit\" className=\"btn btn-light\" onClick={cancelJItem}>\r\n            Clear\r\n          </button>\r\n        </div>\r\n      </div> \r\n    </div>\r\n  );\r\n};\r\n\r\nexport { JournalEditForm };\r\n","import React from \"react\";\r\n\r\nconst JournalRow = ({ jItem, setForEdit, deleteJItem, current }) => {\r\n  return (\r\n    <tr className={current ? \"current\" : undefined}>\r\n      <td className=\"id\">{jItem.jid}</td>\r\n      <td className=\"data\">{jItem.data}</td>\r\n      <td className=\"oper\">{jItem.oper}</td>\r\n      <td className=\"apar\">{jItem.apar}</td>\r\n      <td className=\"kodas\">{jItem.kodas}</td>\r\n      <td className=\"dl text-right\">{jItem.dl}</td>\r\n      <td className=\"dh text-right\">{jItem.dh}</td>\r\n      <td className=\"pavoj\">{jItem.pavoj}</td>\r\n      <td className=\"dtermin\">{jItem.dtermin}</td>\r\n      <td className=\"note\">{jItem.note}</td>\r\n      <td>\r\n        <div className=\"button-group\">\r\n          <button\r\n            className=\"btn btn-xs btn-warning\"\r\n            data-jid={jItem.jid}\r\n            onClick={setForEdit}\r\n          >\r\n            <i className=\"fas fa-edit\" data-jid={jItem.jid} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-xs btn-danger\"\r\n            data-jid={jItem.jid}\r\n            onClick={deleteJItem}\r\n          >\r\n            <i \r\n              className=\"fas fa-trash-alt\" \r\n              data-jid={jItem.jid}\r\n            />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst JournalHeadRow = () => {\r\n  return (\r\n    <tr>\r\n      <th className=\"id\">id</th>\r\n      <th className=\"data\">data</th>\r\n      <th className=\"oper\">oper</th>\r\n      <th className=\"apar\">apar</th>\r\n      <th className=\"kodas\">kodas</th>\r\n      <th className=\"dl\">dl</th>\r\n      <th className=\"dh\">dh</th>\r\n      <th className=\"pavoj\">pavoj</th>\r\n      <th className=\"dtermin\">dtermin</th>\r\n      <th className=\"note\">note</th>\r\n      <th className=\"controls\">controls</th>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport { JournalRow, JournalHeadRow };\r\n","import React from \"react\";\r\nimport TextFieldGroup from \"../../../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../../../common/SelectInputGroup\";\r\nimport absent from \"../../../../utils/absent-props\";\r\n\r\nconst MainDataForm = ({ item, onChange, options }) => {\r\n  return (\r\n    <div className=\"container item-info border border-primary text-center\">\r\n      <div className=\"form-group row main-data text-center\">\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-3\"\r\n          label=\"ID\"\r\n          id=\"item-id\"\r\n          name=\"id\"\r\n          placeholder=\"Defekto ID\"\r\n          readonly={true}\r\n          value={absent(item.id)}\r\n        />\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-3\"\r\n          label=\"Senasis ID\"\r\n          id=\"item-oldid\"\r\n          name=\"oldid\"\r\n          placeholder=\"Senasis ID\"\r\n          readonly={true}\r\n          value={absent(item.oldid)}\r\n        />\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-2\"\r\n          label=\"Regionas\"\r\n          id=\"item-regbit\"\r\n          name=\"regbit\"\r\n          placeholder=\"Regionas\"\r\n          readonly={true}\r\n          value={absent(item.regbit)}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group row virino text-center\">\r\n        <TextFieldGroup\r\n          id=\"item-data0\"\r\n          divClassname=\"form-group col-4\"\r\n          type=\"date\"\r\n          name=\"data0\"\r\n          label=\"Virinimo data\"\r\n          value={absent(item.data0)}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"item-virino\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"virino\"\r\n          label=\"Kas virino\"\r\n          value={absent(item.virino)}\r\n          options={options.virino}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"item-vbudas\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"vbudas\"\r\n          label=\"Virinimo būdas\"\r\n          value={absent(item.vbudas)}\r\n          options={options.vbudas}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group row vieta text-center\">\r\n        <TextFieldGroup\r\n          label=\"Linija\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-linija\"\r\n          name=\"linija\"\r\n          placeholder=\"Linija\"\r\n          value={absent(item.linija)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"Kelias\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-kelias\"\r\n          name=\"kelias\"\r\n          placeholder=\"Kelio Nr.\"\r\n          value={absent(item.kelias)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"km\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-km\"\r\n          name=\"km\"\r\n          placeholder=\"km\"\r\n          value={absent(item.km)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"pk\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-pk\"\r\n          name=\"pk\"\r\n          placeholder=\"pk\"\r\n          value={absent(item.pk)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"m\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-m\"\r\n          name=\"m\"\r\n          placeholder=\"m\"\r\n          value={absent(item.m)}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"item-siule\"\r\n          divClassname=\"form-group col-2\"\r\n          name=\"siule\"\r\n          label=\"Siūlė\"\r\n          value={absent(item.siule)}\r\n          options={options.siule}\r\n          onChange={onChange}\r\n        />\r\n\r\n        <TextFieldGroup\r\n          label=\"Suvir. Nr.\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-suvnr\"\r\n          name=\"suvnr\"\r\n          placeholder=\"suv nr\"\r\n          value={absent(item.suvnr)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"Nr. pagal schemą\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-nrschema\"\r\n          name=\"nrschema\"\r\n          placeholder=\"nrschema\"\r\n          value={absent(item.nrschema)}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group row datos text-center\">\r\n        <SelectInputGroup\r\n          id=\"item-dstop\"\r\n          divClassname=\"form-group col-3\"\r\n          name=\"dstop\"\r\n          label=\"Būsena\"\r\n          value={absent(item.dstop)}\r\n          options={options.itemStatus}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { MainDataForm };\r\n","import React from \"react\";\r\nimport Alert from \"../../../common/Alert\";\r\nimport TextFieldGroup from \"../../../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../../../common/SelectInputGroup\";\r\nimport absent from \"../../../../utils/absent-props\";\r\n\r\nconst JournalEditForm = ({ jItem, onChange, options, submitJItem, cancelJItem, alert }) => {\r\n\r\n  //console.log(\"jItem\", jItem);\r\n  //console.log(\"absent(jItem.oper), absent(jItem.apar)\", absent(jItem.oper), absent(jItem.apar));\r\n  \r\n  return (\r\n    <div className=\"container journal-info border border-primary text-center\">\r\n      <div className=\"form-group row text-center\">\r\n        {alert ? (\r\n          <div className=\"col-12\">\r\n            <Alert message={alert.msg} type={alert.type} />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"form-group row text-center\">\r\n        <TextFieldGroup\r\n          label=\"Data\"\r\n          divClassname=\"form-group col-3\"\r\n          type=\"date\"\r\n          id=\"jitem-data\"\r\n          name=\"data\"\r\n          value={absent(jItem.data)}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"jitem-oper\"\r\n          name=\"oper\"\r\n          label=\"Operatorius\"\r\n          divClassname=\"form-group col-3\"\r\n          value={absent(jItem.oper)}\r\n          options={options.oper}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"jitem-apar\"\r\n          name=\"apar\"\r\n          label=\"Defektoskopas\"\r\n          divClassname=\"form-group col-3\"\r\n          value={absent(jItem.apar)}\r\n          options={options.apar}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row text-center\">\r\n        <SelectInputGroup\r\n          id=\"jitem-pvd\"\r\n          name=\"pvd\"\r\n          label=\"Pavadinimas\"\r\n          divClassname=\"form-group col-3\"\r\n          value={absent(jItem.pvd)}\r\n          options={options.vpvd}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-9\"\r\n          label=\"Pastaba\"\r\n          id=\"jitem-jnote\"\r\n          name=\"note\"\r\n          placeholder=\"Pastaba\"\r\n          value={absent(jItem.note)}\r\n          onChange={onChange}\r\n        />\r\n      </div> \r\n      <div className=\"form-group row controls text-center\">\r\n        <div className=\"form-group col-3\">\r\n          <button type=\"submit\" className=\"btn btn-primary\" onClick={submitJItem}>\r\n            Submit This Journal Record\r\n          </button>\r\n        </div>\r\n        <div className=\"form-group col-3\">\r\n          <button type=\"submit\" className=\"btn btn-light\" onClick={cancelJItem}>\r\n            Clear\r\n          </button>\r\n        </div>\r\n      </div> \r\n    </div>\r\n  );\r\n};\r\n\r\nexport { JournalEditForm };\r\n","import React from \"react\";\r\n\r\nconst JournalRow = ({ jItem, setForEdit, deleteJItem, current, things }) => {\r\n  return (\r\n    <tr className={current ? \"current\" : undefined}>\r\n      <td className=\"id\">{jItem.jid}</td>\r\n      <td className=\"data\">{jItem.data}</td>\r\n      <td className=\"oper\">{jItem.oper}</td>\r\n      <td className=\"apar\">{jItem.apar}</td>\r\n      <td className=\"pvd\">{things.vpvd.find(th => th.pvdid === jItem.pvd).pvdname}</td>\r\n      <td className=\"note\">{jItem.note}</td>\r\n      <td>\r\n        <div className=\"button-group\">\r\n          <button\r\n            className=\"btn btn-xs btn-warning\"\r\n            data-jid={jItem.jid}\r\n            onClick={setForEdit}\r\n          >\r\n            <i className=\"fas fa-edit\" data-jid={jItem.jid} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-xs btn-danger\"\r\n            data-jid={jItem.jid}\r\n            onClick={deleteJItem}\r\n          >\r\n            <i \r\n              className=\"fas fa-trash-alt\" \r\n              data-jid={jItem.jid}\r\n            />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst JournalHeadRow = () => {\r\n  return (\r\n    <tr>\r\n      <th className=\"id\">id</th>\r\n      <th className=\"data\">data</th>\r\n      <th className=\"oper\">oper</th>\r\n      <th className=\"apar\">apar</th>\r\n      <th className=\"pvd\">pavadinimas</th>\r\n      <th className=\"note\">pastaba</th>\r\n      <th className=\"controls\">controls</th>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport { JournalRow, JournalHeadRow };\r\n","import React from \"react\";\r\nimport itemSpecific from \"../../itemSpecific\";\r\n\r\nconst ItemList = ({ items, editItem, deleteItem, itype }) => {\r\n  if (items.length < 1) {\r\n    return (\r\n      <div className=\"alert alert-info\">There's no items for this view.</div>\r\n    );\r\n  }\r\n\r\n  const singleRow = itemSpecific[itype].singleRow;\r\n  const ItemRow = singleRow.ItemRow;\r\n\r\n  const itemRows = items.map(item => (\r\n    <ItemRow\r\n      item={item}\r\n      editItem={editItem}\r\n      deleteItem={deleteItem}\r\n      key={item.id}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <table\r\n      className=\"table table-sm table-striped table-bordered items\"\r\n      style={{ fontSize: \".9rem\" }}\r\n    >\r\n      <thead>{singleRow.ItemHeadRow()}</thead>\r\n      <tbody>{itemRows}</tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default ItemList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ItemsCount = ({total, inView}) => {\r\n  return (\r\n    <div className=\"alert alert-info\" role=\"alert\">\r\n      {total} items total, {inView} items in this view\r\n    </div>\r\n  );\r\n}\r\n\r\nItemsCount.propTypes = {\r\n  total: PropTypes.number.isRequired,\r\n  inView: PropTypes.number.isRequired\r\n};\r\n\r\nItemsCount.defaultProps = {\r\n  total: 0,\r\n  inView: 0\r\n};\r\n\r\nexport default ItemsCount;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst PagerNav = ({buttons, onPageChanged}) => {\r\n\r\n  const makeButton = b => {\r\n    // if ellipsis\r\n    if (b.role === \"ellipsis-left\" || b.role === \"ellipsis-right\") {\r\n      return (\r\n        <li \r\n          key={b.role + b.pageIndex} \r\n          className=\"page-item ellipsis\"\r\n        >\r\n          {b.label}\r\n        </li>\r\n      );\r\n    }\r\n\r\n    // if clickable button\r\n    return (\r\n      <li\r\n        key={b.role + b.pageIndex}\r\n        className=\"page-item\"\r\n        onClick={\r\n          b.role !== \"current\" ? e => onPageChanged(b.pageIndex, e) : null\r\n        }\r\n      >\r\n        <button \r\n          className={\"page-link \" + b.role}\r\n          onClick={e => e.preventDefault()}\r\n        >\r\n          {b.label}\r\n        </button>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  let navButtons = [];\r\n  buttons.forEach(b => navButtons.push(makeButton(b)));\r\n\r\n  return (\r\n    <nav>\r\n      <ul className=\"pagination\">{navButtons}</ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nPagerNav.propTypes = {\r\n  buttons: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  onPageChanged: PropTypes.func.isRequired\r\n};\r\n\r\nexport default PagerNav;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst CurrentPageInfo = ({firstItemLabel, lastItemLabel}) => {\r\n  // // console.log(\"CurrentPageInfo firstItemLabel, lastItemLabel\", firstItemLabel, lastItemLabel);\r\n  return (\r\n    <div className=\"alert alert-info\" role=\"alert\">\r\n      Items: {firstItemLabel}-{lastItemLabel}\r\n    </div>\r\n  );\r\n};\r\n\r\nCurrentPageInfo.propTypes = {\r\n  firstItemLabel: PropTypes.number.isRequired,\r\n  lastItemLabel: PropTypes.number.isRequired\r\n};\r\n\r\nexport default CurrentPageInfo;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport SelectInputGroup from '../../SelectInputGroup';\r\nimport {createOptions} from '../../../createOptions';\r\n\r\nconst ItemsPerPageSelector = \r\n({availableItemsPerPage, onItemsPerPageChanged, itemsPerPage}) => {\r\n\r\n  const options = \r\n    createOptions(\r\n      availableItemsPerPage,\r\n      '',\r\n      x => x, \r\n      x => x, \r\n      x => x\r\n    );\r\n  \r\n\r\n\r\n  return (<SelectInputGroup \r\n      options={options}\r\n      name='items-per-page'\r\n      onChange={onItemsPerPageChanged}\r\n      value={itemsPerPage + ''}\r\n    />);\r\n};\r\n\r\nItemsPerPageSelector.propTypes = {\r\n  availableItemsPerPage: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n  onItemsPerPageChanged: PropTypes.func.isRequired,\r\n  itemsPerPage: PropTypes.number.isRequired\r\n};\r\n\r\nexport default ItemsPerPageSelector;\r\n","export const pagerSettings = {\r\n  availableItemsPerPage: [10, 20, 50]\r\n};","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport PagerNav from './components/PagerNav';\r\nimport CurrentPageInfo from './components/CurrentPageInfo';\r\nimport ItemsPerPageSelector from './components/ItemsPerPageSelector';\r\nimport {pagerSettings} from './settings';\r\n\r\nconst Pager = ({\r\n    firstItemIndex,\r\n    buttons, \r\n    itemsPerPage,\r\n    onPageChanged, \r\n    onItemsPerPageChanged, \r\n    itemCount}) => {\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      \r\n      <div className=\"col-7\">\r\n        <PagerNav \r\n          buttons={buttons} \r\n          onPageChanged={onPageChanged} \r\n        />\r\n      </div>\r\n\r\n      \r\n      <div className=\"col-2\">\r\n        <ItemsPerPageSelector \r\n          availableItemsPerPage={pagerSettings.availableItemsPerPage} \r\n          onItemsPerPageChanged={onItemsPerPageChanged} \r\n          itemsPerPage={itemsPerPage} \r\n        />\r\n      </div>\r\n\r\n      \r\n      <div className=\"col-3\">\r\n        <CurrentPageInfo \r\n          firstItemLabel={firstItemIndex + 1} \r\n          lastItemLabel={Math.min(firstItemIndex + itemsPerPage, itemCount)} \r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pager;","import React from 'react';\r\n\r\nconst Confirmation = ({body, title, confirmHandler, rejectHandler, show}) => {\r\n\r\n  return (\r\n    <div \r\n      className=\"my-modal\" \r\n      style={show ? {display: \"block\"} : {display: \"none\"}} \r\n      id=\"confirmation-modal\" tabIndex=\"-1\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"confirmationTitle\">{title}</h5>\r\n            <button type=\"button\" className=\"reject-button\" onClick={rejectHandler}>\r\n              &times;\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            {body}\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={rejectHandler}>\r\n              Close\r\n            </button>\r\n            <button type=\"button\" className=\"btn btn-danger\" onClick={confirmHandler}>\r\n              Confirm\r\n            </button>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Confirmation;\r\n\r\n","/*\tThis work is licensed under Creative Commons GNU LGPL License.\r\n\r\n\tLicense: http://creativecommons.org/licenses/LGPL/2.1/\r\n   Version: 0.9\r\n\tAuthor:  Stefan Goessner/2006\r\n\tWeb:     http://goessner.net/ \r\n*/\r\nfunction json2xml(o, tab) {\r\n   var toXml = function(v, name, ind) {\r\n      var xml = \"\";\r\n      if (v instanceof Array) {\r\n         for (var i=0, n=v.length; i<n; i++)\r\n            xml += ind + toXml(v[i], name, ind+\"\\t\") + \"\\n\";\r\n      }\r\n      else if (typeof(v) == \"object\") {\r\n         var hasChild = false;\r\n         xml += ind + \"<\" + name;\r\n         for (var m1 in v) {\r\n            if (m1.charAt(0) === \"@\")\r\n               xml += \" \" + m1.substr(1) + \"=\\\"\" + v[m1].toString() + \"\\\"\";\r\n            else\r\n               hasChild = true;\r\n         }\r\n         xml += hasChild ? \">\" : \"/>\";\r\n         if (hasChild) {\r\n            for (var m2 in v) {\r\n               if (m2 === \"#text\")\r\n                  xml += v[m2];\r\n               else if (m2 === \"#cdata\")\r\n                  xml += \"<![CDATA[\" + v[m2] + \"]]>\";\r\n               else if (m2.charAt(0) !== \"@\")\r\n                  xml += toXml(v[m2], m2, ind+\"\\t\");\r\n            }\r\n            xml += (xml.charAt(xml.length-1)===\"\\n\"?ind:\"\") + \"</\" + name + \">\";\r\n         }\r\n      }\r\n      else {\r\n         xml += ind + \"<\" + name + \">\" + v.toString() +  \"</\" + name + \">\";\r\n      }\r\n      return xml;\r\n   }, xml=\"\";\r\n   for (var m in o)\r\n      xml += toXml(o[m], m, \"\");\r\n   return tab ? xml.replace(/\\t/g, tab) : xml.replace(/\\t|\\n/g, \"\");\r\n}\r\n\r\nfunction arrayToXml(arr, parentName, childName) {\r\n  var xml = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>'\r\n  xml += `<${parentName}>`;\r\n  arr.forEach((item, index) => \r\n    xml += \r\n        `<${childName} index=\"${index}\">` + \r\n        json2xml(item) +  \r\n        `</${childName}>`\r\n  );\r\n  xml += `</${parentName}>`;\r\n  return xml;\r\n}\r\n\r\nexport default arrayToXml;","//import * as json2xml from \"js2xmlparser\";\r\nimport json2csv from \"json2csv\";\r\nimport arrayToXml from \"./arrayToXml\";\r\n\r\nconst jsonToCsv = items => json2csv.parse(items, { delimiter: \";\" });\r\nconst jsonToXml = items => arrayToXml(items, \"items\", \"item\");\r\n\r\nconst modifiers = [\r\n  {\r\n    convert: JSON.stringify,\r\n    label: \"JSON\",\r\n    defaultFnFunction: () => \"json_items\",\r\n    fnExtension: \".json\"\r\n  },\r\n  {\r\n    convert: jsonToCsv,\r\n    label: \"CSV\",\r\n    defaultFnFunction: () => \"csv_items\",\r\n    fnExtension: \".csv\"\r\n  },\r\n  {\r\n    convert: jsonToXml,\r\n    label: \"XML\",\r\n    defaultFnFunction: () => \"xml_items\",\r\n    fnExtension: \".xml\"\r\n  }\r\n];\r\n\r\nexport default modifiers;\r\n","import React from \"react\";\r\nimport Blob from 'blob';\r\nimport FileSaver from 'file-saver';\r\n\r\n\r\nconst GenericExporter = ({convertItems, label, fname, getItems}) => {\r\n  //if (!getItems) getItems = () => [\"empty\"];\r\n  // // console.log(\"genericExporter getItems\", getItems);\r\n  if (!getItems) return null;\r\n  // // console.log(\"GenericExporter\");\r\n  const getBlob = () => new Blob([convertItems(getItems())], {type: \"text/plain;charset=utf-8\"});\r\n  const fileName = fname;\r\n  const saveToFile = () => FileSaver.saveAs(getBlob(), fileName);\r\n  return (\r\n    <button className=\"btn\" type=\"button\" onClick={saveToFile}>\r\n      {label}\r\n    </button>\r\n  );\r\n}\r\n\r\n// const GenericExporter = ({convertItems, label, fname, getItems}) => {\r\n  \r\n//   const blob = new Blob([convertItems(getItems())], {type: \"text/plain;charset=utf-8\"});\r\n//   const fileName = fname;\r\n//   const saveToFile = () => FileSaver.saveAs(blob, fileName);\r\n//   return (\r\n//     <button className=\"btn\" type=\"button\" onClick={saveToFile}>\r\n//       {label}\r\n//     </button>\r\n//   );\r\n// }\r\n\r\nexport default GenericExporter;","import React from \"react\";\r\nimport modifiers from \"./modifiers\";\r\nimport GenericExporter from \"./GenericExporter\"\r\n\r\nconst ExportItems = ({getItems}) => {\r\n  // // console.log(\"exportItems getItems\", {getItems});\r\n  const exporters = modifiers.map(m => \r\n    <GenericExporter  \r\n      convertItems={m.convert} \r\n      label={m.label} \r\n      fname={m.defaultFnFunction() + m.fnExtension} \r\n      getItems={getItems}\r\n      key={m.label}\r\n    />);\r\n  return (\r\n    <div className=\"btn-group\" role=\"group\">\r\n      {exporters}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ExportItems","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\nconst TextAreaGroup = ({\r\n  classname,\r\n  divClassname,\r\n  name, \r\n  rows,\r\n  placeholder,\r\n  readonly,\r\n  value,\r\n  error,\r\n  info,\r\n  onChange,\r\n  style,\r\n  id\r\n}) => {\r\n  return (\r\n    <div className={divClassname}>\r\n      <textarea\r\n        className={classnames(classname, {\r\n          'is-invalid': error\r\n        })}\r\n        name={name}\r\n        rows={rows}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        onChange={onChange}\r\n        style={style}\r\n        id={id}\r\n        readOnly={readonly}\r\n      />\r\n      {info && <small className='form-text text-muted'>{info}</small>}\r\n      {error && (\r\n        <div className='invalid-feedback'>{error}</div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nTextAreaGroup.defaultProps = {\r\n  classname: 'form-control',\r\n  divClassname: 'form-group',\r\n  onChange: null\r\n}\r\n\r\nexport default TextAreaGroup;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TextAreaGroup from '../../TextAreaGroup';\r\n\r\nconst Filter = ({filterText, onChange, clearText, valid}) => {\r\n  return (\r\n    <React.Fragment>\r\n      <h5>\r\n        Filter <button \r\n          className=\"btn btn-sm btn-light\"\r\n          onClick={clearText}\r\n        >\r\n          Clear\r\n        </button>\r\n      </h5>\r\n\r\n      <TextAreaGroup\r\n        name=\"filter\" \r\n        rows=\"3\"\r\n        onChange={onChange}\r\n        value={filterText}\r\n        valid={valid}\r\n      >\r\n      </TextAreaGroup>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nFilter.propTypes = {\r\n  filterText: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  clearText: PropTypes.func.isRequired,\r\n  valid: PropTypes.bool\r\n};\r\n\r\nFilter.defaultProps = {\r\n  filterText: ''\r\n};\r\n\r\nexport default Filter;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TextAreaGroup from '../../TextAreaGroup';\r\n\r\n\r\nconst Sort = ({sortText, onChange, clearText, valid}) => {\r\n  return (\r\n    <React.Fragment>\r\n      <h5>\r\n        Sort <button \r\n          className=\"btn btn-sm btn-light\"\r\n          onClick={clearText}\r\n        >\r\n          Clear\r\n        </button>\r\n      </h5>\r\n\r\n      <TextAreaGroup\r\n        name=\"filter\" \r\n        rows=\"3\"\r\n        onChange={onChange}\r\n        value={sortText}\r\n        valid={valid}\r\n      >\r\n      </TextAreaGroup>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nSort.propTypes = {\r\n  sortText: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  clearText: PropTypes.func.isRequired,\r\n  valid: PropTypes.bool\r\n};\r\n\r\nSort.defaultProps = {\r\n  sortText: ''\r\n};\r\n\r\nexport default Sort;","import React from 'react';\r\nimport SelectInputGroup from \"../../SelectInputGroup\";\r\nimport { createOptions } from \"../../../createOptions\";\r\n\r\nconst QuerySelect = ({queries, onChange, value}) => {\r\n      return (\r\n          <SelectInputGroup\r\n            options={createOptions(queries, \"Filter-Sort Queries\")}\r\n            name=\"fsqueries\"\r\n            value={value || ''}\r\n            placeholder='Queries'\r\n            onChange={onChange}\r\n            size=\"6\"\r\n            style={{ fontSize: \".95rem\" }}\r\n          /> \r\n      );\r\n  }\r\n\r\nexport default QuerySelect;\r\n","import React from \"react\";\r\n\r\nconst Manual = () => {\r\n  return (\r\n    <div className=\"manual border p-2 mt-2\">\r\n      <p>\r\n        Skaičiais yra išreikšti šie laukai: <span className=\"fn\">km</span>,{\" \"}\r\n        <span className=\"fn\">pk</span>, <span className=\"fn\">m</span>,{\" \"}\r\n        <span className=\"fn\">metai</span> (turimi omeny bėgio valcavimo metai).\r\n        Visų kitų laukų reikšmės išreikštos tekstu, todėl filtravimo sąlygose jų\r\n        reikšmės turi būti rašomos kabutėse. Pvz.:{\" \"}\r\n        <span className=\"cd\">\r\n          meistrij != '11' &amp;&amp; km &lt;= 211 &amp;&amp; (kkateg = '2' ||\r\n          kkateg = '1')\r\n        </span>\r\n      </p>\r\n      <p>\r\n        Su skaičiais išreikštų laukų reikšmėmis galima atlikti aritmetikos\r\n        veiksmus. Vietos koordinačių pagrindiniame kelyje palyginimui galima\r\n        naudoti išraišką <span className=\"cd\">_m_</span> (metrai), kurios reikšmė yra{\" \"}\r\n        <span className=\"cd\">km*1000&nbsp;+&nbsp;(pk-1)*100&nbsp;+&nbsp;m</span>\r\n        , ir kuri faktiškai reiškia kelio koordinatę, išreikštą metrais.\r\n        Pavyzdžiui, norint išfiltruoti visus defektus, kurie yra nuo 214.03.65\r\n        iki 222.05.99, galima rašyti filtravimo sąlygą{\" \"}\r\n        <span className=\"cd\">_m_ &gt;= 214265 &amp;&amp; _m_ &lt;= 222499</span>\r\n        . Atkreipti dėmesį, kad piketo reikšmė mažinama vienetu. Kabutės negalimos.\r\n      </p>\r\n      <p>\r\n        Panaši į <span className=\"cd\">_m_</span> išraišką vietos koordinatei\r\n        pagrindiniame kelyje nurodyti yra <span className=\"cd\">_k_</span> (koordinatė). Tik čia formatas yra: <span className=\"cd\">km.pk.m</span>. Pavyzdžiui,\r\n        norint išfiltruoti visus defektus, kurie yra nuo 74.03.65 iki 112.10.09,\r\n        galima rašyti filtravimo sąlygą{\" \"}\r\n        <span className=\"cd\">_k_ &gt;= 74.3.65 &amp;&amp; _k_ &lt;= 112.10.9</span>. Čia piketas rašomas toks kaip defekto kode. Piketams ir metrams nuliai\r\n        priekyje nebūtini. Piketas turėtų būti skaičius nuo 1 iki 10, metrai - skaičius nuo 0 iki 99. Kabutės negalimos.\r\n      </p>\r\n      <p>\r\n        Laukai <span className=\"fn\">action</span>,{\" \"}\r\n        <span className=\"fn\">data</span>, <span className=\"fn\">oper</span>,{\" \"}\r\n        <span className=\"fn\">apar</span>, <span className=\"fn\">kodas</span>,{\" \"}\r\n        <span className=\"fn\">dh</span>, <span className=\"fn\">dl</span>,{\" \"}\r\n        <span className=\"fn\">pavoj</span> - yra history įrašuose, kurių vienas\r\n        defektas gali turėti kelis. <span className=\"fn\">action</span>{\" \"}\r\n        <span className=\"fv\">\"aptikta\"</span> ir{\" \"}\r\n        <span className=\"fv\">\"perrašyta\"</span> atlieka tik operatorius,{\" \"}\r\n        <span className=\"fv\">\"pakeista\"</span>,{\" \"}\r\n        <span className=\"fv\">\"tvarsliuota\"</span>,{\" \"}\r\n        <span className=\"fv\">\"pervirinta\"</span> alieka tik eksploatacija.\r\n      </p>\r\n      <p>Skirtingų history įrašų laukus galima pasiekti:</p>\r\n      <ul>\r\n        <li>\r\n          <em>paties pirmojo</em> history įrašo - prie lauko pavadinimo\r\n          pridedant galūnę <span className=\"cd\">_0</span>:{\" \"}\r\n          <span className=\"fn\">action_0</span>,{\" \"}\r\n          <span className=\"fn\">pavoj_0</span>, <span className=\"fn\">dh_0</span>{\" \"}\r\n          ir pan. Pvz.:\r\n          <br />\r\n          <span className=\"cd\">kodas_0 = '17.2' &amp;&amp; pavoj_0 = 'D3'</span>\r\n          <br />\r\n          (pats pirmasis history įrašas bus atliktas operatoriaus, nes defektus\r\n          randa operatoriai);\r\n        </li>\r\n        <li>\r\n          pirmojo <em>eksploatacijos</em> atlikto history įrašo - prie lauko\r\n          pavadinimo pridedant galūnę <span className=\"cd\">_ex0</span>:{\" \"}\r\n          <span className=\"fn\">action_ex0</span>,{\" \"}\r\n          <span className=\"fn\">date_ex0</span>. Pvz.:\r\n          <br />\r\n          <span className=\"cd\">\r\n            date_ex0 &lt; '2017-02-18' &amp;&amp; action_ex0 = 'tvarsliuota'\r\n          </span>\r\n          ;\r\n        </li>\r\n        <li>\r\n          <em>paties paskutiniojo</em> history įrašo - prie lauko pavadinimo\r\n          pridedant galūnę <span className=\"cd\">_9</span>:{\" \"}\r\n          <span className=\"fn\">action_9</span>,{\" \"}\r\n          <span className=\"fn\">pavoj_9</span>, <span className=\"fn\">dh_9</span>{\" \"}\r\n          ir pan. Pvz.:\r\n          <br />\r\n          <span className=\"cd\">kodas_9 = '17.2' &amp;&amp; pavoj_9 = 'D3'</span>\r\n          ;\r\n        </li>\r\n        <li>\r\n          paskutiniojo <em>operatoriaus</em> atlikto veiksmo įrašo - prie lauko\r\n          pavadinimo pridedant galūnę <span className=\"cd\">_op9</span>:{\" \"}\r\n          <span className=\"fn\">action_op9</span>,{\" \"}\r\n          <span className=\"fn\">pavoj_op9</span>,{\" \"}\r\n          <span className=\"fn\">dh_op9</span> ir pan. Pvz.:\r\n          <br />\r\n          <span className=\"cd\">\r\n            kodas_op9 = '17.2' &amp;&amp; pavoj_op9 = 'D3'\r\n          </span>\r\n          ;\r\n        </li>\r\n        <li>\r\n          paskutiniojo <em>eksploatacijos</em> atlikto veiksmo įrašo - prie\r\n          lauko pavadinimo pridedant galūnę <span className=\"cd\">_ex9</span>:{\" \"}\r\n          <span className=\"fn\">action_ex9</span>,{\" \"}\r\n          <span className=\"fn\">pavoj_ex9</span>,{\" \"}\r\n          <span className=\"fn\">dh_ex9</span>. Pvz.:\r\n          <br />\r\n          <span className=\"cd\">\r\n            date_ex9 &lt; '2017-02-18' &amp;&amp; action_ex9 = 'tvarsliuota'\r\n          </span>\r\n          ;\r\n        </li>\r\n        <li>\r\n          norint nurodyti, kad salygą turėtų tenkinti <em>kuris nors</em> iš\r\n          history įrašų <em>arba keli</em>, sąlygos reiškiniai įrašomi į\r\n          funkciją <span className=\"cd\">some</span>, o prie laukų pavadinimų\r\n          pridedama galūnė <span className=\"fn\">_x</span>.<br />\r\n          Pavyzdžiui, užrašas{\" \"}\r\n          <span className=\"cd\">\r\n            some(apar_x = '806' &amp;&amp; data &lt; '2017-01-01')\r\n          </span>{\" \"}\r\n          reiškia, kad ieškoma tokių defektų, kurių history turėtų bent vieną\r\n          įrašą, kuriame būtų nurodytas aparato kodas 806 ir to įrašo data būtų\r\n          ankstesnė nei 2017 metai.\r\n        </li>\r\n      </ul>\r\n      <p>\r\n        Sakykime, norime rasti visus šiuo metu sutvarsliuotus defektus kelyje.\r\n        Tada jų pats paskutinis <em>eksploatacijos atliktas</em> įrašas turėtų\r\n        turėti <span className=\"fn\">action</span> reikšmę{\" \"}\r\n        <span className=\"fv\">\"tvarsliuota\"</span>. Filtras būtų{\" \"}\r\n        <span className=\"cd\">action_ex9 = 'tvarsliuota'</span>.\r\n      </p>\r\n      <p>\r\n        Sakykime, norime rasti visus defektus, kurie kada nors buvo tvarsliuoti.\r\n        Tada jų history turėtų turėti <em>bent vieną</em> įrašą, kurio{\" \"}\r\n        <span className=\"fn\">action</span> reikšmė būtų{\" \"}\r\n        <span className=\"fv\">\"tvarsliuota\"</span>. Filtras būtų{\" \"}\r\n        <span className=\"cd\">some(action_x = 'tvarsliuota')</span>.\r\n      </p>\r\n      <p>\r\n        Sakykime, norime rasti visus defektus, kurie šiuo metu yra sutvarsliuoti\r\n        ir kuriems po sutvarsliavimo kažkas keitėsi. Tada jų pats paskutinis{\" \"}\r\n        <em>eksploatacijos atliktas</em> įrašas turėtų turėti{\" \"}\r\n        <span className=\"fn\">action</span> reikšmę{\" \"}\r\n        <span className=\"fv\">\"tvarsliuota\"</span>, o pats{\" \"}\r\n        <em>apskritai paskutinis</em> įrašas turėtų turėti{\" \"}\r\n        <span className=\"fn\">action</span> reikšmę{\" \"}\r\n        <span className=\"fv\">\"perrasyta\"</span>. Filtras būtų{\" \"}\r\n        <span className=\"cd\">\r\n          action_ex9 = 'tvarsliuota' &amp;&amp; action_9 = 'perrasyta'\r\n        </span>\r\n        .\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Manual;\r\n","// turi kkk.pp.mm kelio koordinatę paversti metrais\r\n// ir pakeisti tekste\r\nconst parseAndReplaceVk = inputText => {\r\n  const regexVk = /\\b(\\d{1,3})\\.(\\d{1,2})\\.(\\d{1,2})\\b/g;\r\n  let match, m;\r\n  let replaced = inputText;\r\n  while ((match = regexVk.exec(inputText)) !== null) {\r\n    m =\r\n      parseInt(match[1], 10) * 1000 +\r\n      (parseInt(match[2], 10) - 1) * 100 +\r\n      parseInt(match[3], 10);\r\n    replaced = replaced.replace(match[0], m);\r\n  }\r\n  return replaced;\r\n}\r\n\r\n\r\nexport default parseAndReplaceVk;\r\n","import parseAndReplaceVk from \"./parseAndReplaceVk\";\r\n/**\r\n * Returns filter function.\r\n * Takes a raw filter string and an object with field name replacement rules,\r\n * and returns a filter function which can be used for filtering object list.\r\n * @param {string} filterString - raw filter field string, may be trimmed.\r\n * @param {object} fnReplacements - object which keys are field names of\r\n * the object in the list to be filtered, and values are strings which should\r\n * be put instead of field names into the filterString.\r\n * @return {function} a function which takes an object as a parameter and\r\n * returns a boolean value indicating if the object passes the filter.\r\n */\r\nexport function getFilterFunc(filterString, fnReplacements) {\r\n  if (!filterString || !filterString.trim()) {\r\n    return x => true;\r\n  }\r\n\r\n  const filterFuncString =\r\n    \"return \" + replaceFieldNames(filterString, fnReplacements);\r\n  // console.log(\"filterFuncString\", filterFuncString);\r\n  // eslint-disable-next-line\r\n  return new Function(\"x\", filterFuncString);\r\n}\r\n\r\n/**\r\n * Replaces field names with corresponding object key names in filter string.\r\n * For the sake of simplicity filter string contains only bare field names of object,\r\n * which in order to access object field values should be replaced by real paths inside\r\n * the object ('id === 5' in filter text should be replaced by 'obj[\"id\"] === 5' in filter\r\n * function text; additionaly, object may be not flat).\r\n * @param {string} filterString - raw filter field string, may be trimmed.\r\n * @param {object} fnReplacements - object which keys are field names of\r\n * the object in the list to be filtered, and values are strings which should\r\n * be put instead of field names into the filterString.\r\n * @return {string} a filter string where field names are replaced by real paths inside the object\r\n */\r\nfunction replaceFieldNames(filterString, fnReplacements) {\r\n  // replaces a.b.c with a*1000 + (b-1)*100 + z\r\n  let filterText = parseAndReplaceVk(filterString);\r\n  // replaces consecutive spaces, tabs, etc with one space\r\n  // replaces all consecutive \"=\" with \"===\"\r\n  filterText = filterText\r\n    .replace(/=+/g, \"===\")\r\n    .replace(/!=+/g, \" !== \")\r\n    .replace(/>=+/g, \" >= \")\r\n    .replace(/<=+/g, \" <= \")\r\n    //.replace(/===/g, \" === \")\r\n    .replace(/<>/g, \" !== \")\r\n    .replace(/&+/g, \" && \")\r\n    .replace(/\\|+/g, \" || \")\r\n    .replace(/\\s+/g, \" \");\r\n\r\n  // replaces field names with paths:\r\n  // \"fieldName\" -> obj[\"inner_prop\"][\"fieldName\"]\r\n  Object.keys(fnReplacements).forEach(key => {\r\n    const regex = new RegExp(\"(\\\\b[\\\\W]*)(\" + key + \")([\\\\W]*\\\\b)\", \"g\");\r\n    filterText = filterText.replace(regex, \"$1\" + fnReplacements[key] + \"$3\");\r\n  });\r\n  // console.log(\"filterText\", filterText);\r\n  return filterText;\r\n}\r\n\r\n// SORTING\r\n\r\n/**\r\n * Returns sorter function.\r\n * Takes a raw sort string and a function which can replace field names with\r\n * object values, and returns a sorter function which can be used for sorting\r\n * object list.\r\n * @param {string} sortString - raw sort field string, may be trimmed.\r\n * @param {function} getSortingReplacement - function which takes a field key\r\n * as a string parameter and returns a function which supplied with object\r\n * returns a value of corresponding field of that object.\r\n * @return {function} a sorter function which takes two objects of the same\r\n * type as a parameters and returns an integer indicating which of those\r\n * objects goes first in the sort.\r\n */\r\nexport function getSortFunc(sortString, getSortingReplacement) {\r\n  if (!sortString || !sortString.trim()) {\r\n    return (a, b) => 0;\r\n  }\r\n\r\n  return fieldSorter(splitString(sortString), getSortingReplacement);\r\n}\r\n\r\n/**\r\n * Splits a string on commas, semicolons or spaces.\r\n * @param {string} rawString - raw sort field string, may be trimmed.\r\n * @return {array<string>} an array of field names as strings.\r\n */\r\nfunction splitString(rawString) {\r\n  // sukapoja rawString i atskirus lauku pavadinimus\r\n  const re = /[\\s,;]/;\r\n  return rawString.split(re).filter(x => x !== \"\");\r\n}\r\n\r\n/**\r\n * Returns sorter function.\r\n * Takes an array of object field names as strings and a function which can\r\n * replace field names with object values, and returns a sorter function\r\n * which can be used for sorting object list.\r\n * @param {array<string>} fields - array of object field names.\r\n * @param {function} fnToValue - function which takes a field key\r\n * as a string parameter and returns a function which supplied with object\r\n * returns a value of corresponding field of that object.\r\n * @return {function} a sorter function which takes two objects of the same\r\n * type as a parameters and returns an integer indicating which of those\r\n * objects goes first in the sort.\r\n */\r\nfunction fieldSorter(fields, fnToValue) {\r\n  return (a, b) => {\r\n    return fields\r\n      .map(field => {\r\n        let fname = field;\r\n        var dir = 1;\r\n        if (field[0] === \"-\") {\r\n          dir = -1;\r\n          fname = field.substring(1);\r\n        }\r\n        if (fnToValue(fname, a) > fnToValue(fname, b)) return dir;\r\n        if (fnToValue(fname, a) < fnToValue(fname, b)) return -dir;\r\n        return 0;\r\n      })\r\n      .reduce((p, n) => {\r\n        return p ? p : n;\r\n      }, 0);\r\n  };\r\n}\r\n","import {\r\n  getFilterFunc,\r\n  getSortFunc\r\n} from \"./functions/fsRoutines\";\r\nimport itemSpecific from \"../../../itemSpecific\";\r\n\r\n\r\n\r\n\r\nconst funcCreator = (filterString, sortString, itype) => {\r\n  const replacements = itemSpecific[itype].replacements;\r\n  return {\r\n    filter: getFilterFunc(filterString, replacements.filterReplacements),\r\n    sort: getSortFunc(sortString, replacements.getSortingReplacement)\r\n  };\r\n}\r\n\r\nexport default funcCreator;","const journalSorter = (a, b) => {\r\n    if (a.data > b.data) return 1;\r\n    if (a.data < b.data) return -1;\r\n    if (a.id > b.id) return 1;\r\n    if (a.id < b.id) return -1;\r\n    return 0;\r\n  }\r\n\r\nexport default journalSorter;","import axios from \"axios\";\r\nimport {\r\n  ITEMS_FETCH_BEGIN,\r\n  ITEMS_FETCH_SUCCESS,\r\n  ITEMS_FETCH_FAILURE,\r\n  ITEM_INSERT_BEGIN,\r\n  ITEM_INSERT_SUCCESS,\r\n  ITEM_INSERT_FAILURE,\r\n  ITEM_INSERT_FAILURE_NO_RETRY,\r\n  ITEM_UPDATE_BEGIN,\r\n  ITEM_UPDATE_SUCCESS,\r\n  ITEM_UPDATE_FAILURE,\r\n  ITEM_UPDATE_FAILURE_NO_RETRY,\r\n  ITEM_DELETE_BEGIN,\r\n  ITEM_DELETE_SUCCESS,\r\n  ITEM_DELETE_FAILURE,\r\n  ITEMS_INVALIDATE,\r\n  ITEMS_FILTERSORT_APPLIED,\r\n  ITEMS_FILTERSORT_APPLY_ERROR,\r\n  ITEM_TOGGLE_FS,\r\n  ITEM_TOGGLE_FS_MANUAL,\r\n  ITEMS_PAGE_CHANGE,\r\n  ITEMS_PER_PAGE_CHANGE,\r\n  ITEM_LIST_HIDE_ALERT,\r\n  ITEM_LIST_SET_ALERT,\r\n  ITEM_EDIT_HIDE_ALERT,\r\n  CURRENT_ITEM_SET_TYPE\r\n} from \"./types\";\r\nimport funcCreator from \"./functions/filterSort/itemFilterSort\";\r\nimport itemSpecific from \"../itemSpecific\";\r\nimport journalSorter from \"../utils/journalSorter\";\r\n\r\nconst errors2msgs = errors => {\r\n  return errors.map(e => `id${e.id}-${e.key}: ${e.msg}`);\r\n}\r\n\r\nexport const setCurrentItemType = itype => dispatch =>\r\n  dispatch({\r\n    type: CURRENT_ITEM_SET_TYPE,\r\n    payload: { itype }\r\n  });\r\n\r\nexport const setItemListAlert = (itype, msg, type) => ({\r\n    type: ITEM_LIST_SET_ALERT,\r\n    payload: { itype, msg, type }\r\n  });\r\n\r\nexport const hideItemListAlert = itype => dispatch =>\r\n  dispatch({\r\n    type: ITEM_LIST_HIDE_ALERT,\r\n    payload: { itype }\r\n  });\r\n\r\nexport const hideItemEditAlert = itype => dispatch =>\r\n  dispatch({\r\n    type: ITEM_EDIT_HIDE_ALERT,\r\n    payload: { itype }\r\n  });\r\n\r\nexport const pageChange = (pageIndex, itemCount, itype) => dispatch => \r\n  dispatch({\r\n    type: ITEMS_PAGE_CHANGE,\r\n    payload: { itemCount, pageIndex, itype }\r\n  });\r\n\r\nexport const itemsPerPageChange = (\r\n  itemsPerPage,\r\n  itemCount,\r\n  itype\r\n) => dispatch =>\r\n  dispatch({\r\n    type: ITEMS_PER_PAGE_CHANGE,\r\n    payload: { itemCount, itemsPerPage, itype }\r\n  });\r\n\r\nexport const toggleFS = itype => dispatch =>\r\n  dispatch({\r\n    type: ITEM_TOGGLE_FS,\r\n    payload: { itype }\r\n  });\r\n\r\nexport const toggleFSManual = itype => dispatch =>\r\n  dispatch({\r\n    type: ITEM_TOGGLE_FS_MANUAL,\r\n    payload: { itype }\r\n  });\r\n\r\n// apply filter and sort and return result action\r\nconst applyFilterSort = (items, filterText, sortText, itype) => {\r\n  try {\r\n    const funcs = funcCreator(filterText, sortText, itype);\r\n    const fsedItems = items.filter(funcs.filter).sort(funcs.sort);\r\n    return {\r\n      type: ITEMS_FILTERSORT_APPLIED,\r\n      payload: { items: fsedItems, filterText, sortText, itype }\r\n    };\r\n  } catch (err) {\r\n    console.error(err);\r\n    return {\r\n      type: ITEMS_FILTERSORT_APPLY_ERROR,\r\n      payload: { errormsg: err.toString(), itype }\r\n    };\r\n  }\r\n};\r\n\r\n// just filtersort items\r\nexport const filterSortItems = (filterText, sortText, itype) => (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  dispatch(\r\n    applyFilterSort(getState().allItems[itype], filterText, sortText, itype)\r\n  );\r\n};\r\n\r\n// fetch items\r\nconst fetchItemsBegin = itype => ({\r\n  type: ITEMS_FETCH_BEGIN,\r\n  payload: { itype }\r\n});\r\n\r\nconst fetchItemsSuccess = (items, itype) => ({\r\n  type: ITEMS_FETCH_SUCCESS,\r\n  payload: { items, itype }\r\n});\r\n\r\nconst fetchItemsFailure = (errormsg, itype) => ({\r\n  type: ITEMS_FETCH_FAILURE,\r\n  payload: { errormsg, itype }\r\n});\r\n\r\nexport const fetchItems = itype => (dispatch, getState) => {\r\n  dispatch(fetchItemsBegin(itype));\r\n  let paramsObj = { params: { itype } };\r\n  if (getState().itemsStatus[itype].all) paramsObj.params.all = 1;\r\n  axios\r\n    .get(\"/api/items\", paramsObj)\r\n    .then(res => {\r\n      dispatch(fetchItemsSuccess(res.data, itype));\r\n      refilter(dispatch, getState, itype);\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n      dispatch(fetchItemsFailure(err.toString(), itype))\r\n    });\r\n};\r\n\r\nexport const invalidateItems = (all, itype) => dispatch => {\r\n  dispatch({\r\n    type: ITEMS_INVALIDATE,\r\n    payload: { all, itype }\r\n  });\r\n};\r\n\r\nconst refilter = (dispatch, getState, itype) => {\r\n  const fetchedItems = getState().allItems[itype];\r\n  const filterText = getState().itemsFS[itype].filterText;\r\n  const sortText = getState().itemsFS[itype].sortText;\r\n  dispatch(applyFilterSort(fetchedItems, filterText, sortText, itype));\r\n};\r\n\r\n// insert item\r\nconst itemInsertBegin = itype => ({\r\n  type: ITEM_INSERT_BEGIN,\r\n  payload: { itype }\r\n});\r\n\r\nconst itemInsertSuccess = (item, itype) => ({\r\n  type: ITEM_INSERT_SUCCESS,\r\n  payload: { item, itype }\r\n});\r\n\r\nconst itemInsertFailure = (errormsg, itype) => ({\r\n  type: ITEM_INSERT_FAILURE,\r\n  payload: { errormsg, itype }\r\n});\r\n\r\nconst itemInsertFailureNoRetry = (errormsg, itype) => ({\r\n  type: ITEM_INSERT_FAILURE_NO_RETRY,\r\n  payload: { errormsg, itype }\r\n});\r\n\r\nexport const insertItem = (main, journal, history, itype) => (dispatch, getState) => {\r\n  dispatch(itemInsertBegin(itype));\r\n  axios\r\n    .put(\"/api/items/insert\", { main, journal, itype })\r\n    .then(res => {\r\n      // suformuojamas pranešimas apie rezultatą\r\n      // console.log(\"inserting item response\", res.data);\r\n      if (res.data.ok) {\r\n        dispatch(setItemListAlert(itype, res.data.msg, \"success\"));\r\n      } else {\r\n        dispatch(setItemListAlert(itype, res.data.msg, \"warning\"));\r\n      }\r\n\r\n      // pagal rezultatą updateinamas local cache\r\n      if (\r\n        getState().itemsStatus[itype].all ||\r\n        !itemSpecific[itype].panaikinta(res.data.item.main)\r\n      ) {\r\n        // jeigu rodyti visus (ir panaikintus, ir ne) ARBA\r\n        // jeigu buvo sukurtas nepanaikintas -\r\n        // updateinamas local cache ir refilter\r\n        const lastJournalRecord = res.data.item.journal.sort(journalSorter)[res.data.item.journal.length - 1];\r\n        const item = {...lastJournalRecord, ...res.data.item.main};\r\n        dispatch(itemInsertSuccess(item, itype));\r\n        refilter(dispatch, getState, itype);\r\n      } else {\r\n        // jeigu insertintas toks, kurio neturėtų būti local cache,\r\n        // tuomet su local cache nedaroma nieko - nei insertinama, nei refilter\r\n        dispatch(itemInsertSuccess(null, itype));\r\n      }\r\n\r\n      // return to list\r\n      history.push(itemSpecific[itype].listPath);\r\n    })\r\n    .catch(err => {\r\n      if (err.response && err.response.data) {\r\n        if (err.response.data.reason === \"bad criteria\") {\r\n          // \"bad criteria\" - kartoti nėra prasmės, grįžtama į sąrašą\r\n          dispatch(itemInsertFailureNoRetry(err.response.data.msg, itype));\r\n          history.push(itemSpecific[itype].listPath);\r\n        } else if (err.response.data.reason === \"bad draft\") {\r\n          // \"bad draft\" - reikia paredaguoti draft, pasiliekama item edit'e\r\n          // gali perduoti vieną string - msg, o gali perduoti objektų array - errors\r\n          let responseMsg = err.response.data.msg;\r\n          if (err.response.data.errors) {\r\n            responseMsg = errors2msgs(err.response.data.errors);\r\n          }\r\n          dispatch(itemInsertFailure(responseMsg, itype));\r\n        } else {\r\n          console.error(err);\r\n          // kt. - galbūt serverio klaida ar kažkas, apsimoka pamėginti dar kartą\r\n          dispatch(itemInsertFailure(err.response.data.msg, itype));\r\n        }\r\n      } else {\r\n        console.error(err);\r\n        // galbūt serverio klaida ar kažkas, apsimoka pamėginti dar kartą\r\n        dispatch(itemInsertFailure(err.toString(), itype));\r\n      }\r\n    });\r\n};\r\n\r\n// edit item\r\nconst itemUpdateBegin = itype => ({\r\n  type: ITEM_UPDATE_BEGIN,\r\n  payload: { itype }\r\n});\r\n\r\nconst itemUpdateSuccess = (item, itype) => ({\r\n  type: ITEM_UPDATE_SUCCESS,\r\n  payload: { item, itype }\r\n});\r\n\r\nconst itemUpdateFailure = (errormsg, itype) => ({\r\n  type: ITEM_UPDATE_FAILURE,\r\n  payload: { errormsg, itype }\r\n});\r\n\r\nconst itemUpdateFailureNoRetry = (errormsg, itype) => ({\r\n  type: ITEM_UPDATE_FAILURE_NO_RETRY,\r\n  payload: { errormsg, itype }\r\n});\r\n\r\nexport const updateItem = (main, journal, history, itype) => (dispatch, getState) => {\r\n  dispatch(itemUpdateBegin(itype));\r\n  axios\r\n    .post(\"/api/items/update\", { main, journal, itype })\r\n    .then(res => {\r\n      // suformuojamas pranešimas apie rezultatą\r\n      if (res.data.ok) {\r\n        dispatch(setItemListAlert(itype, res.data.msg, \"success\"));\r\n      } else {\r\n        dispatch(setItemListAlert(itype, res.data.msg, \"warning\"));\r\n      }      \r\n\r\n      // pagal rezultatą updateinamas local cache\r\n      if (getState().itemsStatus[itype].all || !itemSpecific[itype].panaikinta(res.data.item.main)) {\r\n        // jeigu rodyti visus (ir panaikintus, ir nepanaikintus)\r\n        // ARBA \r\n        // jeigu sukurtas nepanaikintas\r\n        // - updateinamas local\r\n        const lastJournalRecord = res.data.item.journal.sort(journalSorter)[res.data.item.journal.length - 1];        \r\n        const item = { ...lastJournalRecord, ...res.data.item.main};\r\n        dispatch(itemUpdateSuccess(item, itype));\r\n      } else {\r\n        // jeigu rodyti tik nepanaikintus\r\n        // o modifikuotas į panaikintą - \r\n        // jis ištrinamas iš local\r\n        dispatch(itemDeleteSuccess(res.data.item.main.id, itype));\r\n      }\r\n\r\n      // refilter local cache\r\n      refilter(dispatch, getState, itype);\r\n\r\n      // return to list\r\n      history.push(itemSpecific[itype].listPath);\r\n    })\r\n    .catch(err => {\r\n      if (err.response && err.response.data) {\r\n        if (err.response.data.reason === \"bad criteria\") {\r\n          // \"bad criteria\" - kartoti nėra prasmės, grįžtama į sąrašą\r\n          dispatch(itemUpdateFailureNoRetry(err.response.data.msg, itype));\r\n          history.push(itemSpecific[itype].listPath);\r\n        } else if (err.response.data.reason === \"bad draft\") {\r\n          // \"bad draft\" - reikia paredaguoti draft, pasiliekama item edit'e\r\n          // gali perduoti vieną string - msg, o gali perduoti objektų array - errors\r\n          let responseMsg = err.response.data.msg;\r\n          if (err.response.data.errors) {\r\n            responseMsg = errors2msgs(err.response.data.errors);\r\n          }\r\n          dispatch(itemUpdateFailure(responseMsg, itype));\r\n        } else {\r\n          console.error(err);\r\n          // kt. - galbūt serverio klaida ar kažkas, apsimoka pamėginti dar kartą\r\n          dispatch(itemUpdateFailure(err.response.data.msg, itype));\r\n        }\r\n      } else {\r\n        console.error(err);\r\n        // galbūt serverio klaida ar kažkas, apsimoka pamėginti dar kartą\r\n        dispatch(itemUpdateFailure(err.toString(), itype));\r\n      }\r\n    });\r\n};\r\n\r\n// delete item\r\n\r\nconst itemDeleteBegin = itype => ({\r\n  type: ITEM_DELETE_BEGIN,\r\n  payload: { itype }\r\n});\r\n\r\nconst itemDeleteSuccess = (id, itype) => ({\r\n  type: ITEM_DELETE_SUCCESS,\r\n  payload: { id, itype }\r\n});\r\n\r\nconst itemDeleteFailure = (errormsg, itype, target) => ({\r\n  type: ITEM_DELETE_FAILURE,\r\n  payload: { errormsg, itype, target }\r\n});\r\n\r\nexport const deleteItem = (itemId, itemV, itype) => (dispatch, getState) => {\r\n  dispatch(itemDeleteBegin(itype));\r\n  axios\r\n    .delete(\"/api/items/delete\", { params: { id: itemId, v: itemV, itype } })\r\n    .then(res => {\r\n      // console.log(\"res.data\", res.data);\r\n      dispatch(setItemListAlert(itype, res.data.msg, \"success\"));\r\n      // console.log(\"going to dispatch itemDeleteSucces\");\r\n      dispatch(itemDeleteSuccess(res.data.id, itype));\r\n      // console.log(\"going to refilter\");\r\n      refilter(dispatch, getState, itype);\r\n    })\r\n    .catch(err => {\r\n      if (err.response && err.response.data) {\r\n        dispatch(itemDeleteFailure(err.response.data.msg, itype));\r\n      } else {\r\n        console.error(err);\r\n        dispatch(itemDeleteFailure(err.toString(), itype));\r\n      }\r\n    });\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Filter from \"./components/Filter\";\r\nimport Sort from \"./components/Sort\";\r\nimport QuerySelect from \"./components/QuerySelect\";\r\nimport Manual from \"./components/Manual\";\r\nimport Alert from \"../Alert\";\r\nimport {toggleFSManual, filterSortItems,} from \"../../../actions/itemsActions\";\r\n\r\nclass FilterSort extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentQueryId: null,\r\n      filterText: this.props.filterSort.filterText,\r\n      sortText: this.props.filterSort.sortText\r\n    };\r\n    this.clearFilter = this.clearFilter.bind(this);\r\n    this.clearSort = this.clearSort.bind(this);\r\n    this.changeFilter = this.changeFilter.bind(this);\r\n    this.changeSort = this.changeSort.bind(this);\r\n    this.applyFS = this.applyFS.bind(this);\r\n    this.useSelectedQuery = this.useSelectedQuery.bind(this);\r\n    this.onSelectedQueryChange = this.onSelectedQueryChange.bind(this);\r\n    this.editQueries = this.editQueries.bind(this);\r\n    this.toggleManual = this.toggleManual.bind(this); \r\n  }\r\n\r\n  clearFilter() {\r\n    this.setState({ filterText: \"\", currentQueryId: \"\" });\r\n  }\r\n\r\n  clearSort() {\r\n    this.setState({ sortText: \"\", currentQueryId: \"\" });\r\n  }\r\n\r\n  changeFilter(e) {\r\n    this.setState({ filterText: e.target.value, currentQueryId: \"\" });\r\n  }\r\n\r\n  changeSort(e) {\r\n    this.setState({ sortText: e.target.value, currentQueryId: \"\" });\r\n  }\r\n  \r\n\r\n  applyFS(filterText, sortText) {\r\n    this.props.filterSortItems(this.state.filterText, this.state.sortText, this.props.itype);\r\n  }\r\n\r\n  onSelectedQueryChange(e) {\r\n    const id = parseInt(e.target.value);\r\n    this.setState({ currentQueryId: id });\r\n  }\r\n\r\n  toggleManual() {\r\n    this.props.toggleFSManual(this.props.itype);\r\n  }\r\n\r\n  useSelectedQuery() {\r\n    if (!this.state.currentQueryId) return;\r\n\r\n    const query = this.props.queries.find(\r\n      q => q.id === this.state.currentQueryId\r\n    );\r\n\r\n    if (!query) {\r\n      // this must not happen\r\n      //console.log(\r\n      //  \"didn't found a selected query by its id\",\r\n      //  this.state.currentQueryId\r\n      //);\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      filterText: query.filter,\r\n      sortText: query.sort\r\n    });\r\n  }\r\n\r\n  editQueries() {\r\n    this.props.history.push(`/queries/edit/${this.props.itype}`);\r\n  }\r\n\r\n  render() {\r\n    const isValidFS = null;\r\n    // let isValidFS;\r\n    // if (this.props.filterSort.isCurrentValidated) {\r\n    //   isValidFS = this.props.filterSort.error !== true\r\n    // } else {\r\n    //   isValidFS = null;\r\n    // }\r\n\r\n    return (\r\n      <div className=\"row fs-view mb-2\">\r\n        <div className=\"col-7\" id=\"fscontent\">\r\n          <div className=\"row\">\r\n            <div className=\"col-7\">\r\n              <Filter\r\n                filterText={this.state.filterText}\r\n                onChange={this.changeFilter}\r\n                clearText={this.clearFilter}\r\n                valid={isValidFS}\r\n              />\r\n            </div>\r\n            <div className=\"col-5\">\r\n              <Sort\r\n                sortText={this.state.sortText}\r\n                onChange={this.changeSort}\r\n                clearText={this.clearSort}\r\n                valid={isValidFS}\r\n              />\r\n            </div>\r\n            {\r\n              this.props.filterSort.errormsg &&\r\n              <div className=\"col-12\">\r\n                <Alert message={this.props.filterSort.errormsg} />\r\n              </div>\r\n            }\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-sm btn-secondary col-1\"\r\n                onClick={this.toggleManual}\r\n              >\r\n                Manual\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-sm btn-info col-11\"\r\n                onClick={this.applyFS}\r\n              >\r\n                Apply Filter-Sort\r\n              </button>\r\n            </div>\r\n            {this.props.showFSManual ? (\r\n              <div className=\"col-12\">\r\n                <Manual />\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-3\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <h5>\r\n                Filter-Sort Queries{\" \"}\r\n                <button\r\n                  className=\"btn btn-sm btn-warning\"\r\n                  onClick={this.editQueries}\r\n                >\r\n                  Edit\r\n                </button>\r\n                <button\r\n                  className=\"btn btn-sm btn-info\"\r\n                  onClick={this.useSelectedQuery}\r\n                >\r\n                  Use\r\n                </button>\r\n              </h5>\r\n              <QuerySelect\r\n                queries={this.props.queries}\r\n                onChange={this.onSelectedQueryChange}\r\n                value={this.state.currentQueryId}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  queries: state.queries[ownProps.itype].data,\r\n  filterSort: state.itemsFS[ownProps.itype],\r\n  showFSManual: state.itemsShow[ownProps.itype].fsManualOn\r\n});\r\n\r\nFilterSort.defaultProps = {\r\n  queries: []\r\n};\r\n\r\nexport default connect(mapStateToProps, {toggleFSManual, filterSortItems})(FilterSort);\r\n","import axios from \"axios\";\r\n//import * as extractMsg from \"./functions/extractMsg\";\r\nimport {\r\n  QUERIES_FETCH_BEGIN,\r\n  QUERIES_FETCH_SUCCESS,\r\n  QUERIES_FETCH_FAILURE,\r\n  QUERY_INSERT_BEGIN,\r\n  QUERY_INSERT_SUCCESS,\r\n  QUERY_INSERT_FAILURE,\r\n  QUERY_UPDATE_BEGIN,\r\n  QUERY_UPDATE_SUCCESS,\r\n  QUERY_UPDATE_FAILURE,\r\n  QUERY_DELETE_BEGIN,\r\n  QUERY_DELETE_SUCCESS,\r\n  QUERY_DELETE_FAILURE,\r\n  QUERIES_HIDE_SUCCESS,\r\n  QUERIES_HIDE_ERROR\r\n} from \"./types\";\r\n\r\nconst err2msg = err => {\r\n  if (err.response) {\r\n      // Request made and server responded\r\n      if (err.response.data.errors) {\r\n        return err.response.data.errors.map(e => `${e.key} - ${e.msg}`);\r\n      }\r\n      if (err.response.data.msg) {\r\n        return err.response.data.msg;\r\n      };\r\n      return \"Kažkokia klaida\";\r\n  }  \r\n  // Something happened in setting up the request that triggered an Error\r\n  return 'Error: ' + err.message;\r\n}\r\n\r\n\r\nexport const hideSuccess = itype => dispatch =>\r\n  dispatch({\r\n    type: QUERIES_HIDE_SUCCESS,\r\n    payload: { itype }\r\n  });\r\n\r\nexport const hideError = itype => dispatch =>\r\n  dispatch({\r\n    type: QUERIES_HIDE_ERROR,\r\n    payload: { itype }\r\n  });\r\n\r\nconst fetchQueriesBegin = itype => ({\r\n  type: QUERIES_FETCH_BEGIN,\r\n  payload: { itype }\r\n});\r\n\r\nconst fetchQueriesSuccess = (queries, itype) => ({\r\n  type: QUERIES_FETCH_SUCCESS,\r\n  payload: { queries, itype }\r\n});\r\n\r\nconst fetchQueriesFailure = (error, itype) => ({\r\n  type: QUERIES_FETCH_FAILURE,\r\n  payload: { error, itype }\r\n});\r\n\r\n// Get fsqueries\r\nexport const fetchQueries = itype => (dispatch, getState) => {\r\n  dispatch(fetchQueriesBegin(itype));\r\n  axios\r\n    .get(`/api/fsqueries/fetch`, { params: { itype } })\r\n    .then(res => {\r\n      // console.log(\"state before\", getState().queries);\r\n      dispatch(fetchQueriesSuccess(res.data, itype));\r\n      // console.log(\"state after\", getState().queries);\r\n    })\r\n    .catch(err => {\r\n      dispatch(fetchQueriesFailure(err2msg(err), itype));\r\n    });\r\n};\r\n\r\nconst updateQueryBegin = itype => ({\r\n  type: QUERY_UPDATE_BEGIN,\r\n  payload: { itype }\r\n});\r\n\r\nconst updateQuerySuccess = (query, itype) => ({\r\n  type: QUERY_UPDATE_SUCCESS,\r\n  payload: { query, itype }\r\n});\r\n\r\nconst updateQueryFailure = (error, itype) => ({\r\n  type: QUERY_UPDATE_FAILURE,\r\n  payload: { error, itype }\r\n});\r\n\r\n// update fsquery\r\nexport const updateQuery = draft => dispatch => {\r\n  const itype = draft.itype;\r\n  dispatch(updateQueryBegin(itype));\r\n  axios\r\n    .post(`/api/fsqueries/update`, draft)\r\n    .then(res => dispatch(updateQuerySuccess(res.data, itype)))\r\n    .catch(err => {\r\n      dispatch(updateQueryFailure(err2msg(err), itype));\r\n    });\r\n};\r\n\r\nconst insertQueryBegin = itype => ({\r\n  type: QUERY_INSERT_BEGIN,\r\n  payload: { itype }\r\n});\r\n\r\nconst insertQuerySuccess = (query, itype) => ({\r\n  type: QUERY_INSERT_SUCCESS,\r\n  payload: { query, itype }\r\n});\r\n\r\nconst insertQueryFailure = (error, itype) => ({\r\n  type: QUERY_INSERT_FAILURE,\r\n  payload: { error, itype }\r\n});\r\n\r\n// insert fsquery\r\nexport const insertQuery = draft => dispatch => {\r\n  const itype = draft.itype;\r\n  dispatch(insertQueryBegin(itype));\r\n  axios\r\n    .put(`/api/fsqueries/insert`, draft)\r\n    .then(res => {\r\n      // console.log(\"insertQuery action res.data\", res.data);\r\n      dispatch(insertQuerySuccess(res.data, itype));\r\n    })\r\n    .catch(err => {\r\n      dispatch(insertQueryFailure(err2msg(err), itype));\r\n    });\r\n};\r\n\r\nconst deleteQueryBegin = itype => ({\r\n  type: QUERY_DELETE_BEGIN,\r\n  payload: { itype }\r\n});\r\n\r\nconst deleteQuerySuccess = (id, itype) => {\r\n  //console.log(\"success\", id, itype);\r\n  return {\r\n    type: QUERY_DELETE_SUCCESS,\r\n    payload: { id, itype }\r\n  };\r\n};\r\n\r\nconst deleteQueryFailure = (error, itype) => {\r\n  // console.log(\"failure\", errormsg, itype);\r\n  return {\r\n    type: QUERY_DELETE_FAILURE,\r\n    payload: { error, itype }\r\n  };\r\n};\r\n\r\n// delete fsquery\r\nexport const deleteQuery = (id, itype) => dispatch => {\r\n  dispatch(deleteQueryBegin(itype));\r\n  axios\r\n    .delete(`/api/fsqueries/delete`, { params: { id } })\r\n    .then(res => {\r\n      //console.log(\"res.data\", res.data);      \r\n      dispatch(deleteQuerySuccess(res.data.id, itype))\r\n    })\r\n    .catch(err => {\r\n      dispatch(deleteQueryFailure(err2msg(err), itype));\r\n    });\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ItemList from \"./ItemList\";\r\nimport IsLoading from \"../common/IsLoading\";\r\nimport Alert from \"../common/Alert\";\r\nimport ItemsCount from \"../common/ItemsCount\";\r\nimport Pager from \"../common/pager/Pager\";\r\nimport Confirmation from \"../common/Confirmation\";\r\nimport ExportItems from \"../common/exportItems/ExportItems\";\r\nimport FilterSort from \"../common/filterSort/FilterSort\";\r\nimport {\r\n  deleteItem,\r\n  fetchItems,\r\n  invalidateItems,\r\n  pageChange,\r\n  itemsPerPageChange,\r\n  toggleFS,\r\n  hideItemListAlert\r\n} from \"../../actions/itemsActions\";\r\nimport { fetchQueries } from \"../../actions/queriesActions\";\r\n//import * from \"../../iTypes\";\r\n\r\nclass Items extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showConfirmationDialog: false,\r\n      idToDelete: \"\",\r\n      vToDelete: \"\"\r\n    };\r\n    this.toggleFilterSort = this.toggleFilterSort.bind(this);\r\n    this.editItem = this.editItem.bind(this);\r\n    this.createItem = this.createItem.bind(this);\r\n    this.pageChange = this.pageChange.bind(this);\r\n    this.itemsPerPageChange = this.itemsPerPageChange.bind(this);\r\n    this.showDeleteConfirmation = this.showDeleteConfirmation.bind(this);\r\n    this.confirmDelete = this.confirmDelete.bind(this);\r\n    this.unconfirmDelete = this.unconfirmDelete.bind(this);\r\n    this.refreshItems = this.refreshItems.bind(this);\r\n    this.refreshItemsAll = this.refreshItemsAll.bind(this);\r\n    this.hideAlert = this.hideAlert.bind(this);\r\n    this.getItems = this.getItems.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.props.fsedItemsAreValid) {\r\n      this.props.fetchItems(this.props.itype);\r\n    }\r\n\r\n    if (!this.props.queriesAreValid) {\r\n      this.props.fetchQueries(this.props.itype);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // console.log(\"items.componentDidUpdate props\",this.props);\r\n    if (prevProps.fsedItemsAreValid && !this.props.fsedItemsAreValid) {\r\n      this.props.fetchItems(this.props.itype);\r\n    }\r\n    if (prevProps.queriesAreValid && !this.props.queriesAreValid) {\r\n      this.props.fetchQueries(this.props.itype);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.hideItemListAlert(this.props.itype);\r\n  }\r\n\r\n  pageChange(pageIndex) {\r\n    this.props.pageChange(\r\n      pageIndex,\r\n      this.props.fsedItems.length,\r\n      this.props.itype\r\n    );\r\n  }\r\n\r\n  itemsPerPageChange(e) {\r\n    const selectedValue = parseInt(e.target.value, 10);\r\n    this.props.itemsPerPageChange(\r\n      selectedValue,\r\n      this.props.fsedItems.length,\r\n      this.props.itype\r\n    );\r\n  }\r\n\r\n  toggleFilterSort() {\r\n    this.props.toggleFS(this.props.itype);\r\n  }\r\n\r\n  createItem() {\r\n    this.props.history.push(`/${this.props.itype}s/new`);\r\n  }\r\n\r\n  editItem(e) {\r\n    const id = e.target.dataset.id;\r\n    this.props.history.push(`${this.props.itype}s/edit/${id}`);\r\n  }\r\n\r\n  showDeleteConfirmation(e) {\r\n    this.setState({\r\n      showConfirmationDialog: true,\r\n      idToDelete: e.target.dataset.id,\r\n      vToDelete: e.target.dataset.v\r\n    });\r\n  }\r\n\r\n  confirmDelete() {\r\n    this.props.deleteItem(\r\n      this.state.idToDelete,\r\n      this.state.vToDelete,\r\n      this.props.itype\r\n    );\r\n    this.setState({\r\n      showConfirmationDialog: false,\r\n      idToDelete: \"\",\r\n      vToDelete: \"\"\r\n    });\r\n  }\r\n\r\n  unconfirmDelete() {\r\n    this.setState({\r\n      showConfirmationDialog: false,\r\n      idToDelete: \"\",\r\n      vToDelete: \"\"\r\n    });\r\n  }\r\n\r\n  refreshItems() {\r\n    this.props.invalidateItems(false, this.props.itype);\r\n  }\r\n\r\n  refreshItemsAll() {\r\n    this.props.invalidateItems(true, this.props.itype);\r\n  }\r\n\r\n  hideAlert() {\r\n    this.props.hideItemListAlert(this.props.itype);\r\n  }\r\n\r\n  getItems() {\r\n    return this.props.fsedItems;\r\n  }\r\n\r\n  render() {\r\n    if (this.props.fatalError) {\r\n      return (\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <Alert\r\n              message={this.props.fatalError.msg}\r\n              type={this.props.fatalError.type}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (\r\n      !this.props.queriesAreValid ||\r\n      this.props.queriesIsLoading ||\r\n      !this.props.fsedItemsAreValid ||\r\n      this.props.itemsIsLoading\r\n    ) {\r\n      return <IsLoading />;\r\n    }\r\n    const { firstItemIndex, itemsPerPage, buttons } = this.props.pager;\r\n\r\n    const pagerComponent =\r\n      buttons.length > 0 ? (\r\n        <Pager\r\n          firstItemIndex={firstItemIndex}\r\n          buttons={buttons}\r\n          itemsPerPage={itemsPerPage}\r\n          onPageChanged={this.pageChange}\r\n          onItemsPerPageChanged={this.itemsPerPageChange}\r\n          itemCount={this.props.fsedItems.length}\r\n        />\r\n      ) : null;\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <Confirmation\r\n          title=\"Delete Confirmation\"\r\n          body=\"Please confirm that you really want to delete this item from database.\"\r\n          confirmHandler={this.confirmDelete}\r\n          rejectHandler={this.unconfirmDelete}\r\n          show={this.state.showConfirmationDialog}\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col-12 commands button-group mb-2\">\r\n            <button\r\n              className=\"btn btn-sm btn-secondary\"\r\n              onClick={this.toggleFilterSort}\r\n            >\r\n              Filter-Sort\r\n            </button>\r\n            <button\r\n              className=\"btn btn-sm btn-primary\"\r\n              onClick={this.createItem}\r\n            >\r\n              New Item\r\n            </button>\r\n            <button\r\n              className={\"btn btn-sm btn-warning\" + (this.props.allItems ? \"\" : \" active\")} \r\n              onClick={this.refreshItems}\r\n            >\r\n              Refresh Active\r\n            </button>\r\n            <button\r\n              className={\"btn btn-sm btn-warning\" + (this.props.allItems ? \" active\" : \"\")}\r\n              onClick={this.refreshItemsAll}\r\n            >\r\n              Refresh All\r\n            </button>\r\n          </div>\r\n          <div className=\"col-12\">\r\n            {this.props.showFS ? (\r\n              <FilterSort\r\n                itype={this.props.itype}\r\n                history={this.props.history}\r\n              />\r\n            ) : null}\r\n            <div className=\"row\">\r\n              {this.props.infoAlert ? (\r\n                <div className=\"col-12\">\r\n                  <Alert\r\n                    message={this.props.infoAlert.msg}\r\n                    type={this.props.infoAlert.type}\r\n                    hide={this.hideAlert}\r\n                  />\r\n                </div>\r\n              ) : null}\r\n              <div className=\"col-12\">\r\n                <ItemList\r\n                  itype={this.props.itype}\r\n                  items={this.props.fsedItems.slice(\r\n                    firstItemIndex,\r\n                    firstItemIndex + itemsPerPage\r\n                  )}\r\n                  editItem={this.editItem}\r\n                  deleteItem={this.showDeleteConfirmation}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-3\">\r\n                <ItemsCount\r\n                  inView={this.props.fsedItems.length}\r\n                  total={this.props.allItemCount}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-7\">{pagerComponent}</div>\r\n\r\n              <div className=\"col-xl-2\">\r\n                <ExportItems getItems={this.getItems} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  queriesIsLoading: state.queries[ownProps.itype].isLoading,\r\n  queriesAreValid: state.queries[ownProps.itype].valid,\r\n\r\n  allItemCount: state.allItems[ownProps.itype].length,\r\n  fsedItems: state.fsedItems[ownProps.itype].data,\r\n  fsedItemsAreValid: state.fsedItems[ownProps.itype].valid,\r\n  itemsIsLoading: state.itemsStatus[ownProps.itype].isBusy,\r\n  allItems: state.itemsStatus[ownProps.itype].all,\r\n  pager: state.itemsPager[ownProps.itype],\r\n  showFS: state.itemsShow[ownProps.itype].fsOn,\r\n  fatalError: state.itemAlerting[ownProps.itype].itemList.fatal,\r\n  infoAlert: state.itemAlerting[ownProps.itype].itemList.info,\r\n});\r\n\r\nItems.defaultProps = {\r\n  fsedItems: [],\r\n  allItemCount: 0\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    deleteItem,\r\n    fetchItems,\r\n    fetchQueries,\r\n    invalidateItems,\r\n    pageChange,\r\n    itemsPerPageChange,\r\n    toggleFS,\r\n    hideItemListAlert\r\n  }\r\n)(Items);\r\n","import React from 'react';\r\nimport itemSpecific from \"../../itemSpecific\";\r\nimport journalSorter from \"../../utils/journalSorter\";\r\n\r\nconst JournalList = ({jItems, setForEdit, deleteJItem, itype, currentJid, things}) => {\r\n\r\n  if (jItems.length < 1) {\r\n    return (\r\n      <div className=\"container journal-list text-center\">\r\n        <div className=\"alert alert-info\">\r\n          No journal as yet\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const JournalRow = itemSpecific[itype].journalRow;\r\n  const JournalHeadRow = itemSpecific[itype].journalListHead;\r\n  \r\n  const jItemRows = jItems.sort(journalSorter).map((jItem, ind) => \r\n    <JournalRow\r\n      jItem={jItem} \r\n      setForEdit={setForEdit}\r\n      deleteJItem={deleteJItem}\r\n      key={jItem.jid}\r\n      current={jItem.jid === currentJid}\r\n      things={things}\r\n    />\r\n  );\r\n\r\n  return ( \r\n    <div className=\"container journal-list text-center\">     \r\n      <table \r\n        className=\"table table-sm table-striped table-bordered jitems\" style={{fontSize: \".85rem\"}}\r\n      >\r\n        <thead>\r\n          {JournalHeadRow()}\r\n        </thead>\r\n        <tbody>\r\n          {jItemRows}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default JournalList;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Alert from \"../common/Alert\";\r\nimport { createOptions } from \"../createOptions\";\r\nimport IsLoading from \"../common/IsLoading\";\r\nimport JournalList from \"./JournalList\";\r\nimport {\r\n  updateItem,\r\n  insertItem,\r\n  hideItemEditAlert\r\n} from \"../../actions/itemsActions\";\r\nimport { fetchJournal, removeJournal } from \"../../actions/journalActions\";\r\nimport itemSpecific from \"../../itemSpecific\";\r\n\r\nclass EditItem extends Component {\r\n  #options;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      main: {}, // duodamas MainDataForm'ai\r\n      journal: [], // duodamas JournalList'ui\r\n      jItem: {}, // duodamas JournalEdit'ui\r\n      jToDelete: [], // indices to delete\r\n      jAlert: null // duodamas JournalEdit'ui\r\n    };\r\n\r\n    this.onSubmitItem = this.onSubmitItem.bind(this);\r\n    this.submitJItem = this.submitJItem.bind(this);\r\n    this.deleteJItem = this.deleteJItem.bind(this);\r\n    this.setJItemForEdit = this.setJItemForEdit.bind(this);\r\n    this.cancelJItem = this.cancelJItem.bind(this);\r\n    this.onChangeMain = this.onChangeMain.bind(this);\r\n    this.onChangeJItem = this.onChangeJItem.bind(this);\r\n\r\n    this.#options = {\r\n      meistrija: createOptions(\r\n        this.props.things.meistrija.sort((m1, m2) => m1.ind - m2.ind),\r\n        \"-- nenurodyta --\",\r\n        x => x.abbr + \", \" + x.name\r\n      ),\r\n      vpvd: createOptions(\r\n        this.props.things.vpvd,\r\n        \"-- nenurodyta --\",        \r\n        x => x.pvdname,\r\n        x => x.pvdid,\r\n        x => x.pvdid\r\n      ),\r\n      kkateg: createOptions(\r\n        this.props.things.kkateg,\r\n        \"-- nenurodyta --\",\r\n        x => x.id\r\n      ),\r\n      btipas: createOptions(\r\n        this.props.things.btipas,\r\n        \"-- nenurodyta --\",\r\n        x => x.id\r\n      ),\r\n      bgamykl: createOptions(\r\n        this.props.things.bgamykl,\r\n        \"-- nenurodyta --\",\r\n        x => x.id\r\n      ),\r\n      siule: createOptions(\r\n        this.props.things.siule,\r\n        \"-- nenurodyta --\",\r\n        x => x.id\r\n      ),\r\n      pavoj: createOptions(\r\n        this.props.things.pavoj.sort((p1, p2) => p1.ind - p2.ind),\r\n        \"-- nenurodyta --\",\r\n        x => x.id\r\n      ),\r\n      apar: createOptions(\r\n        this.props.things.defskop.sort((d1, d2) => d1.id - d2.id),\r\n        \"-- nenurodyta --\",\r\n        x => x.id\r\n      ),\r\n      oper: createOptions(\r\n        this.props.things.operat.sort((o1, o2) => o1.name - o2.name),\r\n        \"-- nenurodyta --\",\r\n        x => x.id + \", \" + x.name\r\n      ),\r\n      virino: createOptions(\r\n        this.props.things.virino.sort((v1, v2) => v1.name - v2.name),\r\n        \"-- nenurodyta --\",\r\n        x => x.name\r\n      ),\r\n      vbudas: createOptions(\r\n        this.props.things.vbudas.sort((b1, b2) => b1.id - b2.id),\r\n        \"-- nenurodyta --\",\r\n        x => x.id + \", \" + x.name\r\n      ),\r\n      itemStatus: createOptions(\r\n        this.props.things.itemstatus.sort((b1, b2) => b1.id - b2.id),\r\n        \"-- nenurodyta --\",\r\n        x => x.id + \", \" + x.name\r\n      )\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.match.params.id) {\r\n      const id = parseInt(this.props.match.params.id);\r\n      const item = this.props.items.find(item => item.id === id);\r\n      if (item) {\r\n        //console.log(\"current main version\", item.v);\r\n        this.setState({ main: item });\r\n      }\r\n      this.props.fetchJournal(id, this.props.itype);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // journal has been fetched\r\n    if (prevProps.journal.length < 1 && this.props.journal.length > 0) {\r\n      this.setState({ journal: this.props.journal });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.hideItemEditAlert(this.props.itype);\r\n    this.props.removeJournal();\r\n  }\r\n\r\n  submitJItem() {\r\n    // Duodamas JournalEdit formai\r\n\r\n    if (!this.state.jItem) return;\r\n    const jItem = this.state.jItem;\r\n\r\n    let journal;\r\n    if (jItem.jid) {\r\n      if (!jItem.status) {\r\n        jItem.status = \"edit\";\r\n      }\r\n      // replacing\r\n      const ind = this.state.journal.findIndex(\r\n        item => item.jid.toString() === jItem.jid.toString()\r\n      );\r\n      journal = [\r\n        ...this.state.journal.slice(0, ind),\r\n        { ...jItem },\r\n        ...this.state.journal.slice(ind + 1)\r\n      ];\r\n    } else {\r\n      // no jid, so there must be no status as well -\r\n      // it's being created\r\n      jItem.jid = Date.now() - 10000000;\r\n      jItem.status = \"add\";\r\n\r\n      // pushing\r\n      journal = [...this.state.journal, { ...jItem }];\r\n    }\r\n\r\n    //journal.sort((a, b) => a.hdata - b.hdata);\r\n    this.setState({\r\n      journal,\r\n      jItem: {},\r\n      jAlert: { msg: \"įrašas sėkmingai pakeistas/pridėtas\", type: \"success\" }\r\n    });\r\n  }\r\n\r\n  cancelJItem() {\r\n    // Duodamas JournalEdit formai\r\n    this.setState({ jItem: {} });\r\n  }\r\n\r\n  deleteJItem(e) {\r\n    // Duodamas JournalListui\r\n\r\n    // get id from e-data,\r\n    const jid = e.target.dataset.jid;\r\n\r\n    // find jitem index in state.journal;\r\n    const index = this.state.journal.findIndex(\r\n      j => j.jid.toString() === jid.toString()\r\n    );\r\n    if (index < 0) return;\r\n\r\n    let journal = [...this.state.journal];\r\n    let jToDelete = [...this.state.jToDelete];\r\n\r\n    if (\r\n      !this.state.journal[index].status ||\r\n      this.state.journal[index].status === \"edit\"\r\n    ) {\r\n      jToDelete.push(jid);\r\n    }\r\n\r\n    journal.splice(index, 1);\r\n\r\n    this.setState({\r\n      journal,\r\n      jToDelete,\r\n      jItem: {},\r\n      jAlert: { msg: \"įrašas ištrintas\", type: \"success\" }\r\n    });\r\n  }\r\n\r\n  setJItemForEdit(e) {\r\n    // Duodamas JournalListui\r\n    // state.journal[index] kopijuojamas į state.jItem\r\n    const jid = e.target.dataset.jid;\r\n    const jItem = this.state.journal.find(\r\n      j => j.jid.toString() === jid.toString()\r\n    );\r\n    if (!jItem) return;\r\n    this.setState({ jItem: { ...jItem }, jAlert: null });\r\n  }\r\n\r\n  onChangeMain(e) {\r\n    // paduodamas MainDataForm\r\n    const main = {\r\n      ...this.state.main,\r\n      [e.target.name]: e.target.value\r\n    };\r\n    this.setState({ main });\r\n  }\r\n\r\n  onChangeJItem(e) {\r\n    // paduodamas JournalEditForm\r\n    const jItem = {\r\n      ...this.state.jItem,\r\n      [e.target.name]: e.target.value\r\n    };\r\n    this.setState({ jItem });\r\n  }\r\n\r\n  onSubmitItem(e) {\r\n    e.preventDefault();\r\n    if (this.state.main == null) return;\r\n    const main = this.state.main;\r\n\r\n    // journal items are already validated.\r\n    // validate main data here\r\n    // if bad - set stateError and return\r\n\r\n    if (main.id) {\r\n      let journal = {};\r\n      journal.insert = this.state.journal\r\n        .filter(jItem => jItem.status === \"add\")\r\n        .map(jItem => {\r\n          let j = { ...jItem };\r\n          delete j.status;\r\n          return j;\r\n        });\r\n      journal.update = this.state.journal\r\n        .filter(jItem => jItem.status === \"edit\")\r\n        .map(jItem => {\r\n          let j = { ...jItem };\r\n          delete j.status;\r\n          return j;\r\n        });\r\n      journal.delete = [...this.state.jToDelete];\r\n      this.props.updateItem(\r\n        main,\r\n        journal,\r\n        this.props.history,\r\n        this.props.itype\r\n      );\r\n    } else {\r\n      // jeigu nėra id, reiškia, kuriamas naujas\r\n      // todėl visa jo journal - state.journal\r\n      this.props.insertItem(\r\n        main,\r\n        { insert: [...this.state.journal] },\r\n        this.props.history,\r\n        this.props.itype\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.props.fatalError) {\r\n      return (\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <Alert\r\n              message={this.props.fatalError.msg}\r\n              type={this.props.fatalError.type}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // select form type\r\n    const mainDataForm = itemSpecific[this.props.itype].mainDataForm;\r\n    //console.log(this.props.itype);\r\n    //console.log(itemSpecific);\r\n\r\n    const journalEditForm = itemSpecific[this.props.itype].journalEditForm;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          {this.props.infoAlert ? (\r\n            <div className=\"col-12\">\r\n              <Alert\r\n                message={this.props.infoAlert.msg}\r\n                type={this.props.infoAlert.type}\r\n                hide={this.props.hideItemEditAlert}\r\n              />\r\n            </div>\r\n          ) : null}\r\n          <IsLoading when={this.props.isBusyItem || this.props.isBusyJournal} />\r\n        </div>\r\n        <div className=\"row\">\r\n          {mainDataForm({\r\n            item: this.state.main,\r\n            onChange: this.onChangeMain,\r\n            options: this.#options\r\n          })}\r\n        </div>\r\n        <div className=\"row\">\r\n          {this.props.journalFetchErrorMsg ? (\r\n            <Alert message={this.props.journalFetchErrorMsg} />\r\n          ) : (\r\n            <JournalList\r\n              jItems={this.state.journal}\r\n              setForEdit={this.setJItemForEdit}\r\n              deleteJItem={this.deleteJItem}\r\n              itype={this.props.itype}\r\n              currentJid={this.state.jItem && this.state.jItem.jid}\r\n              things={this.props.things}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"row\">\r\n          {journalEditForm({\r\n            jItem: this.state.jItem,\r\n            onChange: this.onChangeJItem,\r\n            options: this.#options,\r\n            submitJItem: this.submitJItem,\r\n            cancelJItem: this.cancelJItem,\r\n            alert: this.state.jAlert\r\n          })}\r\n        </div>\r\n        <div className=\"row\">\r\n          <button className=\"btn btn-info\" onClick={this.onSubmitItem}>\r\n            Submit Item\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  isBusyItem: state.itemsStatus[ownProps.itype].isBusy,\r\n  fatalError: state.itemAlerting[ownProps.itype].itemEdit.fatal,\r\n  infoAlert: state.itemAlerting[ownProps.itype].itemEdit.info,\r\n  journalFetchErrorMsg: state.journal.errormsg,\r\n  journal: state.journal.items,\r\n  things: state.things.data,\r\n  items: state.fsedItems[ownProps.itype].data,\r\n  isBusyJournal: state.journal.isBusy\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    updateItem,\r\n    insertItem,\r\n    hideItemEditAlert,\r\n    fetchJournal,\r\n    removeJournal\r\n  }\r\n)(EditItem);\r\n","import axios from \"axios\";\r\n//import * as extractMsg from \"./functions/extractMsg\";\r\nimport {\r\n  JOURNAL_FETCH_BEGIN,\r\n  JOURNAL_FETCH_SUCCESS,\r\n  JOURNAL_FETCH_FAILURE,\r\n  JOURNAL_REMOVE,\r\n  JOURNAL_SET\r\n} from \"./types\";\r\n\r\n// fetch journal\r\nconst fetchJournalBegin = () => ({\r\n  type: JOURNAL_FETCH_BEGIN\r\n});\r\n\r\nconst fetchJournalSuccess = journal => ({\r\n  type: JOURNAL_FETCH_SUCCESS,\r\n  payload: { journal }\r\n});\r\n\r\nconst fetchJournalFailure = errormsg => ({\r\n  type: JOURNAL_FETCH_FAILURE,\r\n  payload: { errormsg }\r\n});\r\n\r\nexport const fetchJournal = (mainid, itype) => (dispatch, getState) => {\r\n  dispatch(fetchJournalBegin());\r\n  axios\r\n    .get(\"/api/journal\", { params: {mainid, itype} })\r\n    .then(res => {\r\n      dispatch(fetchJournalSuccess(res.data));\r\n    })\r\n    .catch(err => dispatch(fetchJournalFailure(err.message)));\r\n};\r\n\r\nexport const removeJournal = () => dispatch => {\r\n  dispatch({type: JOURNAL_REMOVE});\r\n};\r\n\r\nexport const setJournal = journal => dispatch => {\r\n  dispatch({type: JOURNAL_SET, payload: {journal}});\r\n}","import React, { Component } from \"react\";\r\n//import { connect } from \"react-redux\";\r\nimport TextFieldGroup from \"../../common/TextFieldGroup\";\r\nimport TextAreaGroup from \"../../common/TextAreaGroup\";\r\n\r\nclass EditQueryForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // console.log(\"EQF constructor this.props.query\", this.props.query);\r\n    this.state = this.props.query ? {\r\n      id: this.props.query.id || \"\",\r\n      filter: this.props.query.filter || \"\",\r\n      sort: this.props.query.sort || \"\",\r\n      name: this.props.query.name || \"\"\r\n    } : {\r\n      id: \"\",\r\n      filter: \"\",\r\n      sort: \"\",\r\n      name: \"\"\r\n    };\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.submit = this.submit.bind(this);\r\n  }\r\n\r\n  submit(e) {\r\n    e.preventDefault();\r\n    const modifiedQuery = {\r\n      id: this.state.id,\r\n      filter: this.state.filter,\r\n      sort: this.state.sort,\r\n      name: this.state.name\r\n    };\r\n    \r\n    this.props.submitQuery(modifiedQuery);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.query) {\r\n      // console.log(\"EQF cDMount this.props.query\", this.props.query);\r\n        this.setState({\r\n          id: this.props.query.id || \"\",\r\n          filter: this.props.query.filter || \"\",\r\n          sort: this.props.query.sort || \"\",\r\n          name: this.props.query.name || \"\"\r\n        });\r\n      } else {\r\n        // console.log(\"EQF cDMount no query\", this.props.query);\r\n        this.setState({\r\n          id: \"\",\r\n          filter: \"\",\r\n          sort: \"\",\r\n          name: \"\"\r\n        });\r\n      }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.differentQueries(this.props.query, prevProps.query)) {\r\n    // console.log(\"EQF cDUpdate differentQueries this.props.query\", this.props.query);\r\n      if (this.props.query) {\r\n        this.setState({\r\n          id: this.props.query.id || \"\",\r\n          filter: this.props.query.filter || \"\",\r\n          sort: this.props.query.sort || \"\",\r\n          name: this.props.query.name || \"\"\r\n        });\r\n      } else {\r\n        this.setState({\r\n          id: \"\",\r\n          filter: \"\",\r\n          sort: \"\",\r\n          name: \"\"\r\n        });\r\n      }      \r\n      // console.log(\"EQF cDUpdate this.state\", this.state);\r\n    }\r\n  }\r\n\r\n  differentQueries(q1, q2) {\r\n    return (q1 && !q2) ||\r\n      (!q1 && q2) ||\r\n      (q1 && q2 && (\r\n        (q1.id !== q2.id) ||\r\n        (q1.filter !== q2.filter) ||\r\n        (q1.sort !== q2.sort) ||\r\n        (q1.name !== q2.name)\r\n      ));\r\n  }\r\n\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    // console.log(\"EQF render this.state\", this.state);\r\n    return (\r\n      <div className=\"row pt-3 mb-2 border border-primary\">\r\n        <div className=\"col-12\">\r\n          <form className=\"\">\r\n            <div className=\"form-group row\">\r\n              <TextAreaGroup\r\n                divClassname=\"form-group col-7\"\r\n                id=\"filter\"\r\n                name=\"filter\"\r\n                rows=\"4\"\r\n                readonly={true}\r\n                placeholder=\"Filter\"\r\n                value={this.state.filter}\r\n              />\r\n              <TextAreaGroup\r\n                divClassname=\"form-group col-5\"\r\n                id=\"sort\"\r\n                name=\"sort\"\r\n                rows=\"4\"\r\n                readonly={true}\r\n                placeholder=\"Sort\"\r\n                value={this.state.sort}\r\n              />\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <TextFieldGroup\r\n                divClassname=\"form-group col-7\"\r\n                name=\"name\"\r\n                id=\"name\"\r\n                placeholder=\"Name\"\r\n                value={this.state.name}\r\n                onChange={this.onChange}\r\n              />\r\n              <div className=\"form-group col-2\">\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-primary\"\r\n                  onClick={this.submit}\r\n                >\r\n                  Submit Query Name\r\n                </button>\r\n              </div>\r\n              <TextFieldGroup\r\n                divClassname=\"form-group col-3\"\r\n                name=\"id\"\r\n                id=\"id\"\r\n                placeholder=\"ID\"\r\n                readonly={true}\r\n                value={this.state.id}\r\n              />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditQueryForm;\r\n","import React from 'react';\r\n\r\nconst QueryRow = ({query, remove, setForEditing}) => {\r\n  return (\r\n    <tr>\r\n      <td className=\"id\">{query.id}</td>\r\n      <td className=\"filter\">{query.filter}</td>\r\n      <td className=\"sort\">{query.sort}</td>\r\n      <td className=\"name\">{query.name}</td>\r\n      <td nowrap=\"nowrap\">\r\n        <div className=\"button-group\">\r\n          <button className=\"btn btn-xs btn-warning\" data-id={query.id} onClick={setForEditing}>\r\n            <i data-id={query.id} className=\"fas fa-edit\"></i>\r\n          </button>\r\n          <button className=\"btn btn-xs btn-danger\" data-id={query.id} onClick={remove}>\r\n            <i data-id={query.id} className=\"fas fa-trash-alt\"></i>\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default QueryRow;","import React from 'react';\r\nimport QueryRow from './QueryRow';\r\n\r\nconst QueryList = ({queries, remove, setItemForEditing}) => {\r\n  // console.log(\"queries\", queries);\r\n \r\n  const queryRows = queries.map(q => \r\n      <QueryRow \r\n        key={q.id} \r\n        query={q} \r\n        remove={remove}\r\n        setForEditing={setItemForEditing}\r\n      />\r\n  );\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-12\">\r\n        <table className=\"table table-sm table-striped table-bordered query-list-table\" style={{fontSize: \".95rem\"}}>\r\n          <thead>\r\n            <tr>\r\n              <th className=\"id\">id</th>\r\n              <th className=\"filter\">filter</th>\r\n              <th className=\"sort\">sort</th>\r\n              <th className=\"name\">name</th>\r\n              <th className=\"controls\">controls</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {queryRows}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default QueryList;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport EditQueryForm from \"./components/EditQueryForm\";\r\nimport QueryList from \"./components/QueryList\";\r\nimport Alert from \"../common/Alert\";\r\nimport IsLoading from \"../common/IsLoading\";\r\nimport {\r\n  updateQuery,\r\n  insertQuery,\r\n  deleteQuery,\r\n  hideSuccess,\r\n  hideError\r\n} from \"../../actions/queriesActions\";\r\n//import getId from \"../../utils/getId\";\r\n\r\nclass EditQueries extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentQuery: null,\r\n      errormsg: \"\"\r\n    };\r\n\r\n    //this.submitQueries = this.submitQueries.bind(this);\r\n    this.submitDraft = this.submitDraft.bind(this);\r\n    this.setForEditing = this.setForEditing.bind(this);\r\n    this.submitDelete = this.submitDelete.bind(this);\r\n    this.hideSuccess = this.hideSuccess.bind(this);\r\n    this.hideError = this.hideError.bind(this);\r\n    this.hideErrorInState = this.hideErrorInState.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // no valid query\r\n    // console.log(\"EditQueries cDM this.props.filterSort\", this.props.filterSort);\r\n\r\n    if (\r\n      this.props.filterSort.filterText === \"\" &&\r\n      this.props.filterSort.sortText === \"\"\r\n    ) {\r\n      // console.log(\"no current query\");\r\n      this.setState({ currentQuery: null });\r\n      return;\r\n    }\r\n\r\n    // some valid query\r\n    // if found - it's a query from queries list\r\n    // if not found - it's a new raw query without id yet\r\n    const query = this.props.queries.find(\r\n      q =>\r\n        q.filter === this.props.filterSort.filterText &&\r\n        q.sort === this.props.filterSort.sortText\r\n    ) || {\r\n      filter: this.props.filterSort.filterText,\r\n      sort: this.props.filterSort.sortText\r\n    };\r\n\r\n    // console.log(\"setting this query to state currentQuery\", query);\r\n    this.setState({ currentQuery: query });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // console.log(\"EditQueries state\", this.state)\r\n    // console.log(\"cDU this.state\", this.state);\r\n    // console.log(\"cDU this.props.queries\", this.props.queries);\r\n    // must check if currentQuery is in queries. if not, then currentQuery - null\r\n    if (\r\n      this.state.currentQuery &&\r\n      this.state.currentQuery.id &&\r\n      !this.props.queries.some(q => q.id === this.state.currentQuery.id)\r\n    ) {\r\n      // console.log(\"setting state.currentQuery to null\");\r\n      this.setState({ currentQuery: null });\r\n    }\r\n  }\r\n\r\n  hideError() {\r\n    this.props.hideError(this.props.match.params.itype);\r\n  }\r\n  hideErrorInState() {\r\n    this.setState({ errormsg: \"\" });\r\n  }\r\n  hideSuccess() {\r\n    this.props.hideSuccess(this.props.match.params.itype);\r\n  }\r\n  submitDelete(e) {\r\n    const id = e.target.dataset.id;\r\n    const itype = this.props.match.params.itype;\r\n    this.props.deleteQuery(id, itype);\r\n  }\r\n\r\n  submitDraft(modifiedQuery) {    \r\n    const draft = modifiedQuery;\r\n\r\n    if (!draft.name || draft.name.trim() === \"\") {\r\n      this.setState({ errormsg: \"Name must be not empty\" });\r\n      return;\r\n    }\r\n\r\n    const sameNameQuery = this.props.queries.find(\r\n      q => q.name.trim() === draft.name.trim()\r\n    );\r\n    if (sameNameQuery) {\r\n      this.setState({\r\n        errormsg: `Same name as ${sameNameQuery.id}; name must be unique`\r\n      });\r\n      return;\r\n    }\r\n\r\n    const itype = this.props.match.params.itype;\r\n    draft.itype = itype;\r\n\r\n    if (draft.id) {\r\n      this.props.updateQuery(draft);\r\n    } else {\r\n      this.props.insertQuery(draft);\r\n    }\r\n  }\r\n\r\n  setForEditing(e) {\r\n    this.setState({\r\n      currentQuery:\r\n        this.props.queries.find(q => q.id === parseInt(e.target.dataset.id)) ||\r\n        null,\r\n      errormsg: null\r\n    });\r\n  }\r\n\r\n  render() {\r\n    // console.log(\"EditQueries render - this.props.queries\", this.props.queries);\r\n    // čia reikia susitvarkyti su error\r\n    const storeError = this.props.storeError; // gali būti string arba Array of strings\r\n    const stateError = this.state.errormsg;\r\n    const storeSuccess = this.props.successmsg;\r\n\r\n    return (\r\n      <div className=\"container thing-edit\">\r\n        {storeError && (\r\n          <Alert\r\n            message={storeError}\r\n            type=\"error\"\r\n            hide={this.hideError}\r\n          />\r\n        )}\r\n        {stateError && (\r\n          <Alert\r\n            message={stateError}\r\n            type=\"error\"\r\n            hide={this.hideErrorInState}\r\n          />\r\n        )}\r\n        {storeSuccess && (\r\n          <Alert\r\n            message={storeSuccess}\r\n            type=\"success\"\r\n            hide={this.hideSuccess}\r\n          />\r\n        )}\r\n\r\n        <IsLoading when={this.props.isLoading} />\r\n\r\n        <QueryList\r\n          queries={this.props.queries}\r\n          remove={this.submitDelete}\r\n          setItemForEditing={this.setForEditing}\r\n        />\r\n\r\n        <EditQueryForm\r\n          query={this.state.currentQuery}\r\n          submitQuery={this.submitDraft}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const itype = ownProps.match.params.itype;\r\n  const stateQueries = state.queries[itype];\r\n  return {\r\n    queries: stateQueries.data,\r\n    isLoading: stateQueries.isLoading,\r\n    storeError: stateQueries.error,\r\n    successmsg: stateQueries.successmsg,\r\n    filterSort: state.itemsFS[itype]\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    updateQuery,\r\n    deleteQuery,\r\n    insertQuery,\r\n    hideSuccess,\r\n    hideError\r\n  }\r\n)(EditQueries);\r\n","export default class UDDataTransformer {\r\n  things;\r\n  data;\r\n\r\n  constructor(thingsAndData) {\r\n    // data comes from reportActions\r\n    this.things = thingsAndData.things;\r\n    this.data = thingsAndData.data;\r\n  }\r\n\r\n  byIndSorter(a, b, descending) {\r\n    return a.ind - b.ind;\r\n  }\r\n\r\n  byIndSorterDesc(a, b) {\r\n    return b.ind - a.ind;\r\n  }\r\n}","import UDDataTransformer from \"./UDDataTransformer\";\r\n\r\nexport class UDDataDefectsTransformer extends UDDataTransformer {\r\n  byVietaSorter(a, b) {\r\n    if (a.linija > b.linija) return 1;\r\n    if (a.linija < b.linija) return -1;\r\n    if (a.kelias > b.kelias) return 1;\r\n    if (a.kelias < b.kelias) return -1;\r\n    if (a.km > b.km) return 1;\r\n    if (a.km < b.km) return -1;\r\n    if (a.pk > b.pk) return 1;\r\n    if (a.pk < b.pk) return -1;\r\n    if (a.m > b.m) return 1;\r\n    if (a.m < b.m) return -1;\r\n    if (a.siule > b.siule) return 1;\r\n    if (a.siule < b.siule) return -1;\r\n    if (a.iesmas > b.iesmas) return 1;\r\n    if (a.iesmas < b.iesmas) return -1;\r\n    if (a.nr > b.nr) return 1;\r\n    if (a.nr < b.nr) return -1;\r\n    return 0;\r\n  }\r\n\r\n  distributeDefects(defs) {\r\n    // gauna filtruotus defektus iš serverio.\r\n    // paskirsto defektus po meistrijas ir tinkamai išrikiuoja\r\n    return this.things.meistrija\r\n      .map(meistrija => {\r\n        return {\r\n          ...meistrija,\r\n          defects: defs\r\n            .filter(d => d.meistrija === meistrija.id)\r\n            .sort(this.byVietaSorter)\r\n        };\r\n      })\r\n      .sort(this.byIndSorter);\r\n  }\r\n\r\n  createReport() {\r\n    // console.log(\"this.data\", this.data);\r\n    return this.distributeDefects(this.data);\r\n  }\r\n}\r\n","import UDDataTransformer from \"./UDDataTransformer\";\r\n\r\nexport class UDDataNumberTransformer extends UDDataTransformer {\r\n\r\n  createDefectCountGroups(things) {\r\n    const kkateg = [\r\n        { label: \"1\", ind: 1, ids: [\"1\"] },\r\n        { label: \"2\", ind: 2, ids: [\"2\"] },\r\n        { label: \"3, 4\", ind: 3, ids: [\"3\", \"4\"] },\r\n        { label: \"kt.\", ind: 4, ids: [\"5\", \"6\", \"7\"] }\r\n      ];\r\n\r\n    const meistrija = things.meistrija\r\n        .map(m => ({ label: m.abbr, ind: m.ind, ids: [m.id] }))\r\n        .sort(this.byIndSorter);\r\n\r\n    const pavoj = things.pavoj\r\n        .filter(p => p.id !== \"L\")\r\n        .map(p => ({ label: p.id, ind: p.ind, ids: [p.id] }))\r\n        .sort(this.byIndSorterDesc);\r\n        \r\n    return {meistrija, pavoj, kkateg}  \r\n  }\r\n\r\n  createReport() {\r\n    const groups = this.createDefectCountGroups(this.things);\r\n\r\n    // skirta išfiltruoti defectCount'us, kurie atitinka konkrečias\r\n    // meistrijas, kategorijas ir pavojingumus\r\n    const fitFunction = (meistrijaIds, kkategIds, pavojIds) => {\r\n      return defectCount => meistrijaIds.includes(defectCount._id.meistrija) &&\r\n        kkategIds.includes(defectCount._id.kkateg) && \r\n        pavojIds.includes(defectCount._id.pavoj);\r\n    }\r\n\r\n    // susumuoja count iš defectCountų masyvo\r\n    const sumReducer = (acc, curr) => acc + curr.count;\r\n\r\n    // pagal meistrijų, kkateg'ų ir pavojų ids išfiltruoja tinkančius defectCountus ir \r\n    // susumuoja jų count property values\r\n    const sumCounts = (defectCounts, meistrijaIds, kkategIds, pavojIds) =>\r\n      defectCounts.filter(fitFunction(meistrijaIds, kkategIds, pavojIds)).reduce(sumReducer, 0);\r\n\r\n    // veiksmas\r\n    return groups.meistrija.map(m => ({...m, kkateg: groups.kkateg.map(kk => ({...kk, pavoj: groups.pavoj.map(p => ({...p, count: sumCounts(this.data, m.ids, kk.ids, p.ids)}))}))}));\r\n  }\r\n}","export class K33DataTransformer {\r\n  vbudai;\r\n  pavojai;\r\n  operatoriai;\r\n  defskopai;\r\n  defects;\r\n  weldings;\r\n\r\n  constructor(thingsAndData) {\r\n    this.vbudai = thingsAndData.things.vbudas;\r\n    this.pavojai = thingsAndData.things.pavoj;\r\n    this.operatoriai = thingsAndData.things.operat;\r\n    this.defskopai = thingsAndData.things.defskop;\r\n    this.defectCounts = thingsAndData.data.defectCounts;\r\n    this.weldingCounts = thingsAndData.data.weldingCounts;\r\n  }\r\n\r\n  byIndSorter = (a, b) => a.ind - b.ind;\r\n\r\n  createVbudasGroups = () => {\r\n    return this.vbudai.sort(this.byIndSorter).map(vb => ({id: vb.id}));\r\n  };\r\n\r\n  createPavojGroups = () => {\r\n    return this.pavojai.sort(this.byIndSorter).map(pav => ({id: pav.id}));\r\n  };\r\n\r\n  createPropertyGroups = () => {\r\n    return {\r\n      pavojai: [...this.createPavojGroups()], \r\n      vbudai: [...this.createVbudasGroups()]\r\n    };\r\n  };\r\n\r\n  createDistinctOperatDefskop = () => {\r\n    // mėginau\r\n    // [\r\n    //   {defskop: {id: aaa, model: bbb, ...}, operat: {id: ccc, name: ddd, ...}},\r\n    //   {defskop: {id: eee, model: fff, ...}, operat: {id: ggg, name: hhh, ...}},\r\n    //   {defskop: {id: iii, model: jjj, ...}, operat: {id: kkk, name: lll, ...}},\r\n    //   ....\r\n    // ]\r\n    // , bet nusprendžiau, kad užteks\r\n    // [\r\n    //   {defskop: aaa, operat: bbb},\r\n    //   {defskop: ccc, operat: ddd},\r\n    //   {defskop: eee, operat: fff},\r\n    //   ....\r\n    // ]\r\n    return [\r\n      ...this.defectCounts.map(c => ({defskop: c._id.defskop, operat: c._id.operat})),      \r\n      ...this.weldingCounts.map(c => ({defskop: c._id.defskop, operat: c._id.operat})),\r\n    ].filter(\r\n        (v, i, a) => a.findIndex(x => x.defskop === v.defskop && x.operat === v.operat) === i\r\n      )\r\n      .sort(\r\n        (a, b) => {\r\n          if (a.defskop > b.defskop) return 1;\r\n          if (a.defskop < b.defskop) return -1;\r\n          if (a.operat > b.operat) return 1;\r\n          if (a.operat < b.operat) return -1;\r\n          return 0;\r\n        }\r\n      );\r\n  };\r\n\r\n  distribute = () => {\r\n    \r\n    let operDefPairs = this.createDistinctOperatDefskop();\r\n    // console.log(\"operDefPairs\", operDefPairs);\r\n    // [\r\n    //   {defskop: aaa, operat: bbb},\r\n    //   {defskop: ccc, operat: ddd},\r\n    //   {defskop: eee, operat: fff},\r\n    //   ....\r\n    // ]\r\n    return operDefPairs.map(odPair => {\r\n      // 0. current defectoskop-operator pair:\r\n      //    {defskop: aaa, operat: bbb}\r\n\r\n      // 1. find all defectPavojCounts for this particular defektoskop-operator pair\r\n      const defectPavojCounts = this.defectCounts.filter(dc => dc._id.defskop === odPair.defskop && dc._id.operat === odPair.operat);\r\n      // [\r\n      //   {_id: {operat: aaa, defskop: bbb, pavoj: \"D1\"}, count: ???},\r\n      //   {_id: {operat: aaa, defskop: bbb, pavoj: \"D2\"}, count: ???},\r\n      //   {_id: {operat: aaa, defskop: bbb, pavoj: \"D3\"}, count: ???}\r\n      // ]\r\n\r\n      // 2. find all weldingVbudasCounts for this particular defektoskop-operator pair\r\n      const weldingVbudasCounts = this.weldingCounts.filter(wc => wc._id.defskop === odPair.defskop && wc._id.operat === odPair.operat);\r\n      // [\r\n      //   {_id: {operat: aaa, defskop: bbb, vbudas: \"t\"}, count: ???},\r\n      //   {_id: {operat: aaa, defskop: bbb, vbudas: \"e\"}, count: ???}\r\n      // ]\r\n\r\n      const propGroupContainer = this.createPropertyGroups();\r\n      // {\r\n      //   vbudai: [\r\n      //     {id: \"t\"},\r\n      //     {id: \"e\"}\r\n      //   ]\r\n      //   pavoj: [\r\n      //     {id: \"D3\"},\r\n      //     {id: \"D2\"},\r\n      //     {id: \"D1\"},\r\n      //     {id: \"DP\"},\r\n      //     ....\r\n      //   ]\r\n      // }\r\n\r\n      // 3. add property \"count\" to each propGroupContainer.pavojai array item:\r\n      //  [\r\n      //    {id: \"t\", count: n},\r\n      //    {id: \"e\", count: z}\r\n      //  ]\r\n      const propGroupVB = propGroupContainer.vbudai.map(vb => {\r\n        const weldingVbudasCount = weldingVbudasCounts.find(wvc => wvc._id.vbudas === vb.id);\r\n        if (weldingVbudasCount !== undefined) {\r\n          vb.count = weldingVbudasCount.count; \r\n        } else {\r\n          vb.count = 0;\r\n        }\r\n        return vb;\r\n      });\r\n\r\n      // 4. add property \"count\" to each propGroupTemplate.vbudas array item:\r\n      //  [\r\n      //     {id: \"D3\", count: z},\r\n      //     {id: \"D2\", count: x},\r\n      //     {id: \"D1\", count: y,\r\n      //     {id: \"DP\", count: u},\r\n      //     ....\r\n      //  ] \r\n      const propGroupPav = propGroupContainer.pavojai.map(pav => {\r\n        const defectPavojCount = defectPavojCounts.find(dpc => dpc._id.pavoj === pav.id);\r\n        if (defectPavojCount !== undefined) {\r\n          pav.count = defectPavojCount.count; \r\n        } else {\r\n          pav.count = 0;\r\n        }\r\n        return pav;\r\n      });\r\n\r\n      // 5. add property \"counts\" to this particular defectoskop-operator pair :\r\n      //    {\r\n      //      defskop: aaa, \r\n      //      operat: bbb, \r\n      //      counts: [\r\n      //        {id: \"t\", count: n},\r\n      //        {id: \"e\", count: z},\r\n      //        {id: \"D3\", count: z},\r\n      //        {id: \"D2\", count: x},\r\n      //        {id: \"D1\", count: y,\r\n      //        {id: \"DP\", count: u},\r\n      //        ....\r\n      //      ]\r\n      //    }\r\n      odPair.counts = [...propGroupPav, ...propGroupVB];\r\n\r\n      // console.log(\"current odPair\", odPair)\r\n      return odPair;\r\n    });\r\n\r\n  }\r\n\r\n  createReport() {\r\n    return this.distribute();\r\n  }\r\n}\r\n","export class ToInspectDataTransformer {\r\n  data;\r\n  constructor(data) {\r\n    this.data = data;\r\n  }\r\n\r\n  createReport() {\r\n    return this.data;\r\n  }\r\n}\r\n","import * as rtypes from \"../../reportTypes\";\r\nimport {UDDataDefectsTransformer} from \"./defectsUndone/UDDataDefectsTransformer\";\r\nimport {UDDataNumberTransformer} from \"./defectsUndone/UDDataNumberTransformer\";\r\nimport {K33DataTransformer} from \"./k33/K33DataTransformer\";\r\nimport {ToInspectDataTransformer} from \"./toInspect/ToInspectDataTransformer\";\r\n\r\nconst reporterMap = {\r\n  [rtypes.defectsUndone]: {\r\n     apiUrl: \"/api/report/defects-undone\",\r\n     DataTransformerClass: UDDataDefectsTransformer\r\n  },\r\n  [rtypes.defectsUndoneCount]: {\r\n     apiUrl: \"/api/report/defects-undone-count\",\r\n     DataTransformerClass: UDDataNumberTransformer\r\n  },\r\n  [rtypes.k33]: {\r\n     apiUrl: \"/api/report/k33\",\r\n     DataTransformerClass: K33DataTransformer\r\n  },\r\n  [rtypes.toInspect]: {\r\n     apiUrl: \"/api/report/to-inspect\",\r\n     DataTransformerClass: ToInspectDataTransformer\r\n  }\r\n}\r\n\r\nexport default reporterMap;","export const defectsUndone = \"defects-undone\";\r\nexport const defectsUndoneCount = \"defects-undone-count\"\r\nexport const k33 = \"k33\";\r\nexport const weldingsExamine = \"weldings-examine\";\r\nexport const toInspect = \"to-inspect\";\r\n","import reporterMap from \"./reporterMap\";\r\n\r\nexport default class Reporter {\r\n  reporter;\r\n\r\n  constructor(rtype) {\r\n    this.reporter = reporterMap[rtype];\r\n  }\r\n\r\n  // public\r\n  createReport(data) {\r\n    // console.log(\"createReport data params\", data, params);\r\n    const transformer = new this.reporter.DataTransformerClass(data);\r\n    return transformer.createReport();\r\n  }\r\n\r\n  // public\r\n  getUrl() {\r\n    return this.reporter.apiUrl;\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n//import * as extractMsg from \"./functions/extractMsg\";\r\nimport {\r\n  REPORT_BEGIN,\r\n  REPORT_SUCCESS,\r\n  REPORT_ERROR,\r\n  REPORT_ERASE\r\n} from \"./types\";\r\nimport Reporter from \"./reporters/Reporter\";\r\n\r\nconst reportBegin = params => ({\r\n  type: REPORT_BEGIN,\r\n  payload: { params }\r\n});\r\n\r\nconst reportSuccess = (report, rtype) => ({\r\n  type: REPORT_SUCCESS,\r\n  payload: { report, rtype }\r\n});\r\n\r\nconst reportFailure = errormsg => ({\r\n  type: REPORT_ERROR,\r\n  payload: { errormsg }\r\n});\r\n\r\nexport const eraseReport = () => dispatch => {\r\n  // console.log(\"dispatching erase report\");\r\n  dispatch({\r\n    type: REPORT_ERASE\r\n  });\r\n};\r\n\r\nexport const createReport = (rtype, params) => dispatch => {\r\n  // parinkti reporterį\r\n  const reporter = new Reporter(rtype);\r\n  // console.log(\"reporter\", reporter);\r\n  if (!reporter) {\r\n    dispatch(reportFailure({ errormsg: \"Unknown report type\" }));\r\n    return;\r\n  }\r\n\r\n  dispatch(reportBegin(params));\r\n\r\n  // fetch report data async and create report\r\n  axios\r\n    .get(reporter.getUrl(), { params: { ...params } })\r\n    .then(res => {\r\n      const report = reporter.createReport(res.data);\r\n      dispatch(reportSuccess(report, rtype));\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n      dispatch(reportFailure(err));\r\n    });\r\n};\r\n","import React from \"react\";\r\n\r\nconst ActiveDefectsTable = ({ report }) => {\r\n  if (!report) return null;\r\n\r\n  const tHead = (\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\">Meistrija</th>\r\n        <th scope=\"col\">Linija</th>\r\n        <th scope=\"col\">Kelias</th>\r\n        <th scope=\"col\">Km</th>\r\n        <th scope=\"col\">Pk</th>\r\n        <th scope=\"col\">M</th>\r\n        <th scope=\"col\">Siūlė</th>\r\n        <th scope=\"col\">Kodas</th>\r\n        <th scope=\"col\">Pavoj</th>\r\n        <th scope=\"col\">Aptikta</th>\r\n        <th scope=\"col\">Terminas</th>\r\n      </tr>\r\n    </thead>\r\n  );\r\n\r\n  const DefectRow = ({ meistrijaLabel, defect }) => {\r\n    return (\r\n      <tr>\r\n        <th scope=\"row\">{meistrijaLabel}</th>\r\n        <td>{defect.linija}</td>\r\n        <td>{defect.kelias}</td>\r\n        <td>{defect.km}</td>\r\n        <td>{defect.pk}</td>\r\n        <td>{defect.m}</td>\r\n        <td>{defect.siule}</td>\r\n        <td>{defect.kodas}</td>\r\n        <td>{defect.pavoj}</td>\r\n        <td>{defect.daptik}</td>\r\n        <td>{defect.dtermin}</td>\r\n      </tr>\r\n    );\r\n  };\r\n\r\n  // console.log(\"report right before bodyRows\", report);\r\n  const bodyRows = report.map(meistrija =>\r\n    meistrija.defects.map(defect => (\r\n      <DefectRow\r\n        meistrijaLabel={meistrija.abbr}\r\n        defect={defect}\r\n        key={defect.id}\r\n      />\r\n    ))\r\n  );\r\n  // console.log(\"bodyRows\", bodyRows);\r\n\r\n  return (\r\n    <table className=\"table\">\r\n      {tHead}\r\n      <tbody>{bodyRows}</tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default ActiveDefectsTable;\r\n","import React, { Component } from \"react\";\r\nimport { createReport } from \"../../../actions/reportActions\";\r\nimport { connect } from \"react-redux\";\r\nimport TextFieldGroup from \"../../common/TextFieldGroup\";\r\nimport absent from '../../../utils/absent-props';\r\n\r\nexport class ActiveDefectsParamsCollector extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        byDate: new Date().toISOString().split(\"T\")[0],\r\n        whichDefects: 'active'\r\n    };\r\n    this.submitParams = this.submitParams.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  submitParams() {\r\n    this.props.createReport(this.props.rtype, this.state);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"form\">\r\n        <TextFieldGroup\r\n          type=\"date\"\r\n          id=\"bydate\"\r\n          label=\"Datai\"\r\n          name=\"byDate\"\r\n          value={absent(this.state.byDate)}\r\n          onChange={this.onChange}\r\n          className=\"form-group\"\r\n        />\r\n        <div className=\"form-group whichDefects\">\r\n          <div className=\"form-check form-check-inline\">\r\n            <input\r\n              className=\"form-check-input\"\r\n              name=\"whichDefects\"\r\n              type=\"radio\"\r\n              id=\"radio-active\"\r\n              checked={this.state.whichDefects === \"active\"}\r\n              value=\"active\"\r\n              onChange={this.onChange}\r\n            />\r\n            <label\r\n              className=\"form-check-label\"\r\n              htmlFor=\"radio-active\"\r\n            >\r\n              Visi esantys kelyje\r\n            </label>\r\n          </div>\r\n          <div className=\"form-check form-check-inline\">\r\n            <input\r\n              className=\"form-check-input\"\r\n              name=\"whichDefects\"\r\n              type=\"radio\"\r\n              id=\"radio-overdued\"\r\n              checked={this.state.whichDefects === \"overdued\"}\r\n              value=\"overdued\"\r\n              onChange={this.onChange}\r\n            />\r\n            <label className=\"form-check-label\" htmlFor=\"radio-overdued\">\r\n              Tik pradelsti\r\n            </label>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <button type=\"button\" className=\"btn\" onClick={this.submitParams}>\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  params: state.report.params\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { createReport }\r\n)(ActiveDefectsParamsCollector);\r\n","export const itemsToExport = report => {\r\n  /*\r\n    {meistrija:\"...\", defects: [{linija, kelias, km, pk, m, siule, kodas, pavoj, daptik, dtermin}]}\r\n  */\r\n  let items = [];\r\n  report.forEach(m => {\r\n    m.defects.forEach(def => {\r\n      let defect = {...def}; \r\n      ensureAllProps(defect);\r\n      defect.meistrija = m;\r\n      items.push(defect)\r\n    });\r\n  });\r\n  return items;  \r\n}\r\n\r\nconst ensureAllProps = defect => {\r\n  [\"linija\",\"kelias\",\"km\",\"pk\",\"m\",\"siule\",\"kodas\",\"pavoj\", \"daptik\", \"dtermin\"].forEach(prop => {\r\n    if (defect[prop] == null) defect[prop] = \"\";\r\n  });\r\n}","export const itemCount = report => {\r\n  return report.reduce(reducer, 0);\r\n}\r\n\r\nconst reducer = (acc, currentMeistrija) => acc + currentMeistrija.defects.length;","import React from \"react\";\r\n\r\nconst ActiveDefectsCountTable = ({ report }) => {\r\n  if (!report) return null;\r\n  // console.log(\"active defects count report\", report);\r\n\r\n  const kkategColSpan = report[0].kkateg[0].pavoj.length;\r\n\r\n  const THead = ({ report }) => (\r\n    <thead>\r\n      <tr>\r\n        <th rowSpan=\"2\" scope=\"col\">\r\n          Meistrija\r\n        </th>\r\n        {report[0].kkateg.map(kk => (\r\n          <th key={kk.ind} colSpan={kkategColSpan}>\r\n            {kk.label}\r\n          </th>\r\n        ))}\r\n      </tr>\r\n      <tr>\r\n        {report[0].kkateg.map(kk =>\r\n          kk.pavoj.map(p => (\r\n            <th scope=\"col\" key={p.ind}>\r\n              {p.label}\r\n            </th>\r\n          ))\r\n        )}\r\n      </tr>\r\n    </thead>\r\n  );\r\n\r\n  const ReportRow = ({ meistrija }) => {\r\n    return (\r\n      <tr>\r\n        <th scope=\"row\">{meistrija.label}</th>\r\n        {meistrija.kkateg.map(kk =>\r\n          kk.pavoj.map(p => <td key={kk.ind + \"-\" + p.ind}>{p.count > 0 ? p.count : \"\"}</td>)\r\n        )}\r\n      </tr>\r\n    );\r\n  };\r\n\r\n  const TBody = ({ report }) => {\r\n    return (\r\n      <tbody>\r\n        {report.map(m => (\r\n          <ReportRow key={m.ind} meistrija={m} />\r\n        ))}\r\n      </tbody>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <table className=\"table table-bordered table-striped\">\r\n      <THead report={report} />\r\n      <TBody report={report} />\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default ActiveDefectsCountTable;\r\n","import React from \"react\";\r\n\r\nconst K33Table = ({ report }) => {\r\n  if (!report) return null;\r\n\r\n  // console.log(\"active defects table report\", report);\r\n\r\n  const tHead = (\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\">Def</th>\r\n        <th scope=\"col\">Oper</th>\r\n        {report[0].counts.map(c => (\r\n          <th scope=\"col\" key={c.id}>\r\n            {c.id}\r\n          </th>\r\n        ))}\r\n      </tr>\r\n    </thead>\r\n  );\r\n\r\n  const tRows = report.map((row, i) => (\r\n    <tr key={i}>\r\n      <th scope=\"row\">{row.defskop}</th>\r\n      <th scope=\"row\">{row.operat}</th>\r\n      {row.counts.map(c => (\r\n        <td key={c.id}>{c.count > 0 ? c.count : \"\"}</td>\r\n      ))}\r\n    </tr>\r\n  ));\r\n\r\n  return (\r\n    <table className=\"table\">\r\n      {tHead}\r\n      <tbody>{tRows}</tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default K33Table;\r\n","import React, { Component } from \"react\";\r\nimport { createReport } from \"../../../actions/reportActions\";\r\nimport { connect } from \"react-redux\";\r\nimport TextFieldGroup from \"../../common/TextFieldGroup\";\r\nimport absent from \"../../../utils/absent-props\";\r\n\r\nexport class ActiveDefectsParamsCollector extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.today = new Date();\r\n    this.oneMonthAgo = new Date();\r\n    this.oneMonthAgo.setMonth(this.oneMonthAgo.getMonth() - 1);\r\n    this.state = {\r\n      startDate: this.today.toISOString().split(\"T\")[0],\r\n      endDate: this.oneMonthAgo.toISOString().split(\"T\")[0]\r\n    };\r\n    this.submitParams = this.submitParams.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  submitParams() {\r\n    this.props.createReport(this.props.rtype, this.state);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"form\">\r\n        <TextFieldGroup\r\n          type=\"date\"\r\n          id=\"startDate\"\r\n          label=\"Nuo datos\"\r\n          name=\"startDate\"\r\n          value={absent(this.state.startDate)}\r\n          onChange={this.onChange}\r\n          className=\"form-group\"\r\n        />\r\n        <TextFieldGroup\r\n          type=\"date\"\r\n          id=\"endDate\"\r\n          label=\"iki datos\"\r\n          name=\"endDate\"\r\n          value={absent(this.state.endDate)}\r\n          onChange={this.onChange}\r\n          className=\"form-group\"\r\n        />\r\n\r\n        <div className=\"form-group\">\r\n          <button type=\"button\" className=\"btn\" onClick={this.submitParams}>\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  params: state.report.params\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { createReport }\r\n)(ActiveDefectsParamsCollector);\r\n","import React from \"react\";\r\n\r\nconst ToInspectTable = ({ report }) => {\r\n  if (!report) return null;\r\n\r\n  const tHead = (\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\">id</th>\r\n        <th scope=\"col\">linija</th>\r\n        <th scope=\"col\">kelias</th>\r\n        <th scope=\"col\">km</th>\r\n        <th scope=\"col\">pk</th>\r\n        <th scope=\"col\">m</th>\r\n        <th scope=\"col\">siule</th>\r\n        <th scope=\"col\">vbudas</th>\r\n        <th scope=\"col\">data1</th>\r\n        <th scope=\"col\">kelintas</th>\r\n        <th scope=\"col\">galima_nuo</th>\r\n        <th scope=\"col\">reikia_iki</th>\r\n      </tr>\r\n    </thead>\r\n  );\r\n\r\n  const tRows = report.map(welding => (\r\n    <tr key={welding.id}>\r\n      <td>{welding.id}</td>\r\n      <td>{welding.linija}</td>\r\n      <td>{welding.kelias}</td>\r\n      <td>{welding.km}</td>\r\n      <td>{welding.pk}</td>\r\n      <td>{welding.m}</td>\r\n      <td>{welding.siule}</td>\r\n      <td>{welding.vbudas}</td>\r\n      <td>{welding.data1}</td>\r\n      <td>{welding.kelintas}</td>\r\n      <td>{welding.galimanuo}</td>\r\n      <td>{welding.reikiaiki}</td>\r\n    </tr>\r\n  ));\r\n\r\n  return (\r\n    <table className=\"table\">\r\n      {tHead}\r\n      <tbody>{tRows}</tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default ToInspectTable;\r\n","import React, { Component } from \"react\";\r\nimport { createReport } from \"../../../actions/reportActions\";\r\nimport { connect } from \"react-redux\";\r\nimport TextFieldGroup from \"../../common/TextFieldGroup\";\r\nimport absent from '../../../utils/absent-props';\r\n\r\nexport class ToInspectParamsCollector extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        byDate: new Date().toISOString().split(\"T\")[0],\r\n        onlyOverdued: false\r\n    };\r\n    this.submitParams = this.submitParams.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  submitParams() {\r\n    this.props.createReport(this.props.rtype, this.state);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"form\">\r\n        <TextFieldGroup\r\n          type=\"date\"\r\n          id=\"todate\"\r\n          label=\"Datai\"\r\n          name=\"toDate\"\r\n          value={absent(this.state.toDate)}\r\n          onChange={this.onChange}\r\n          className=\"form-group\"\r\n        />\r\n        <div className=\"form-group whichDefects\">\r\n          <div className=\"form-check form-check-inline\">\r\n            <input\r\n              className=\"form-check-input\"\r\n              name=\"onlyover\"\r\n              type=\"radio\"\r\n              id=\"checkbox\"\r\n              checked={this.state.onlyOverdued}\r\n              value={false}\r\n              onChange={this.onChange}\r\n            />\r\n            <label\r\n              className=\"form-check-label\"\r\n              htmlFor=\"radio-active\"\r\n            >\r\n              Tik pradelsti\r\n            </label>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <button type=\"button\" className=\"btn\" onClick={this.submitParams}>\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  params: state.report.params\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { createReport }\r\n)(ToInspectParamsCollector);\r\n","import ActiveDefectsTable from './activeDefects/ActiveDefectsTable';\r\nimport ActiveDefectsParamsCollector from './activeDefects/ActiveDefectsParamsCollector';\r\nimport {itemsToExport as adItemsToExport} from './activeDefects/adItemsToExport';\r\nimport {itemCount as adItemCount} from './activeDefects/adItemCount';\r\nimport ActiveDefectsCountTable from './activeDefects/ActiveDefectsCountTable';\r\nimport {itemsToExport as adCountItemsToExport} from './activeDefects/adCountItemsToExport';\r\nimport {itemCount as adCountItemCount} from './activeDefects/adCountItemCount';\r\nimport K33Table from './k33/K33Table';\r\nimport K33ParamsCollector from './k33/K33ParamsCollector';\r\nimport {itemCount as k33ItemCount} from './k33/itemCount';\r\nimport {itemsToExport as k33ItemsToExport} from './k33/itemsToExport';\r\nimport ToInspectTable from './toInspect/ToInspectTable';\r\nimport ToInspectParamsCollector from './toInspect/ToInspectParamsCollector';\r\nimport {itemsToExport as toInspectItemsToExport} from './toInspect/itemsToExport';\r\nimport {itemCount as toInspectItemCount} from './toInspect/itemCount';\r\n\r\nimport * as rtypes from '../../reportTypes';\r\n\r\nconst rTypeComponentMap = {\r\n  [rtypes.defectsUndone]: {\r\n    title: \"Keliuose esantys defektai.\",\r\n    subtitle: \"Tik pradelsti arba visi\",\r\n    paramsCollector: ActiveDefectsParamsCollector,    \r\n    reportTable: ActiveDefectsTable,\r\n    itemsToExportFormat: adItemsToExport, \r\n    itemCount: adItemCount\r\n  },\r\n  [rtypes.defectsUndoneCount]: {\r\n    title: \"Keliuose esančių defektų skaičiai.\",\r\n    subtitle: \"Tik pradelstų arba visų\",\r\n    paramsCollector: ActiveDefectsParamsCollector,\r\n    reportTable: ActiveDefectsCountTable,\r\n    itemsToExportFormat: adCountItemsToExport,\r\n    itemCount: adCountItemCount\r\n  },\r\n  [rtypes.k33]: {\r\n    title: \"Per periodą atliktas darbas.\",\r\n    subtitle: \"Ataskaita K-33\",\r\n    paramsCollector: K33ParamsCollector,\r\n    reportTable: K33Table,\r\n    itemsToExportFormat: k33ItemsToExport,\r\n    itemCount: k33ItemCount\r\n  },\r\n  [rtypes.toInspect]: {\r\n    title: \"Suvirinimai, kuriuos galima tikrinti.\",\r\n    subtitle: \"\",\r\n    paramsCollector: ToInspectParamsCollector,\r\n    reportTable: ToInspectTable,\r\n    itemsToExportFormat: toInspectItemsToExport,\r\n    itemCount: toInspectItemCount\r\n  },\r\n};\r\n\r\nexport default rTypeComponentMap;","export const itemsToExport = report => {\r\n  //{meistrija: {kkateg: {..., pavoj[{..., count: x}]}}}\r\n\r\n  let items = [];\r\n  report.forEach(meistrija => {\r\n    meistrija.kkateg.forEach(kkateg => {\r\n      kkateg.pavoj.forEach(pavoj => {\r\n        items.push({ meistrija, kkateg, pavoj, count: pavoj.count });\r\n      });\r\n    });\r\n  });\r\n  return items;\r\n};\r\n","export const itemCount = report => {\r\n  return report.length;\r\n};\r\n","export const itemsToExport = report => {\r\n  return report.map(row => ({defskop: row.defskop, operat: row.operat, ...row.counts}));\r\n  // pagalvoti, kaip daryti, jeigu kažkurio counts komponento nebus \r\n}","export const itemCount = report => {\r\n  return report.length;\r\n}","export const itemsToExport = report => {\r\n  return report;\r\n}","export const itemCount = report => {\r\n  return report.length;\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { eraseReport } from \"../../actions/reportActions\";\r\nimport rTypeComponentMap from \"./rTypeComponentMap\";\r\nimport IsLoading from \"../common/IsLoading\";\r\nimport Alert from \"../common/Alert\";\r\nimport ItemsCount from \"../common/ItemsCount\";\r\nimport ExportItems from \"../common/exportItems/ExportItems\";\r\n\r\nclass Report extends Component {\r\n  reporter = null;\r\n  constructor(props) {\r\n    super(props);\r\n    this.reporter = rTypeComponentMap[props.rtype];\r\n    this.getItems = this.getItems.bind(this);\r\n  }\r\n\r\n  getItems() {\r\n    return this.reporter.itemsToExportFormat(this.props.report);\r\n  }\r\n\r\n  render() {\r\n    // // console.log(\"report render this.props.report\", this.props.report);\r\n    // // console.log(\"this.props.error\", this.props.error);\r\n\r\n    const ParamsCollector = this.reporter.paramsCollector;\r\n    const ReportTable = this.reporter.reportTable;\r\n    let report, itemCount;\r\n    if (this.props.rtype === this.props.storeReportType) {\r\n      report = this.props.report;\r\n      itemCount = this.reporter.itemCount(this.props.report);\r\n    }\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"report-title\">\r\n          <h3>\r\n            {this.reporter.title}{\" \"}\r\n            <small className=\"text-muted\">{this.reporter.subtitle}</small>\r\n          </h3>\r\n        </div>\r\n        <div className=\"row\">\r\n          <ParamsCollector rtype={this.props.rtype} />\r\n        </div>\r\n\r\n        {this.props.isLoading ? (\r\n          <IsLoading />\r\n        ) : this.props.errormsg ? (\r\n          <Alert message={this.props.errormsg} />\r\n        ) : (report && Object.keys(report).length !== 0) ? (\r\n          <div>\r\n            <div className=\"row\">\r\n              <ReportTable report={report} />\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-6\">\r\n                <ItemsCount\r\n                  inView={itemCount}\r\n                  total={itemCount}\r\n                />\r\n              </div>\r\n              <div className=\"col-6\">\r\n                <ExportItems getItems={this.getItems} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  report: state.report.data,\r\n  errormsg: state.report.errormsg,\r\n  storeReportType: state.report.rtype,\r\n  isLoading: state.report.isLoading\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { eraseReport }\r\n)(Report);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { fetchAllThings } from \"../../actions/thingsActions\";\r\nimport Alert from \"../common/Alert\";\r\nimport IsLoading from \"../common/IsLoading\";\r\n\r\nclass LoggedIn extends Component {\r\n\r\n  componentDidMount() {\r\n    // čia pradėti krauti things\r\n    this.props.fetchAllThings();\r\n  }\r\n\r\n  render() {\r\n    // things load error\r\n    if (this.props.things.errormsg) {\r\n      return <Alert message={this.props.things.errormsg} />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"logged-in\">\r\n        <IsLoading when={this.props.things.isLoading} />\r\n        <div className=\"dark-overlay logged-in-inner text-light\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12 text-center\">\r\n                <h1 className=\"display-3 mb-4\">\r\n                  Rail Defect Data Base\r\n                </h1>\r\n                <p className=\"lead\">\r\n                  Manage your data with confidence\r\n                </p>\r\n                <hr />\r\n                <p className=\"lead\">\r\n                  You're logged-in, and now you can start working\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  things: state.things\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchAllThings }\r\n)(withRouter(LoggedIn));\r\n","import React from \"react\";\r\n\r\nconst actionMap = {\r\n  none: { display: \"None\", value: \"none\", classname: \"none\" },\r\n  ok: { display: \"OK\", value: \"ok\", classname: \"ok\" },\r\n  return: { display: \"Return\", value: \"return\", classname: \"return\" },\r\n  delete: { display: \"Delete\", value: \"delete\", classname: \"delete\" }\r\n};\r\n\r\nconst Option = ({ action, ind }) => {\r\n  return (\r\n    <option\r\n      key={ind}\r\n      value={actionMap[action].value}\r\n      className={actionMap[action].value}\r\n    >\r\n      {actionMap[action].display}\r\n    </option>\r\n  );\r\n};\r\n\r\nconst ActionSelector = ({ action, ind, changeAction }) => {\r\n  return (\r\n    <select\r\n      name=\"action\"\r\n      className={\"by-option \" + action}\r\n      data-ind={ind}\r\n      value={action}\r\n      onChange={changeAction}\r\n      id={\"select-action-\" + ind}\r\n    >\r\n      {Object.keys(actionMap) \r\n        .map((ac, nr) => (\r\n          <Option action={ac} ind={nr} key={nr} />\r\n        ))}\r\n    </select>\r\n  );\r\n};\r\n\r\nexport default ActionSelector;\r\n","const absent = val => (val == null ? \"\" : val);\r\n\r\nconst pad = (num, size = 2) => {\r\n  if (num == null || num === \"\") return \"-\".repeat(size);\r\n  return (\"0\".repeat(size) + num).substr(-size);\r\n};\r\n\r\nconst getDTString = timestamp =>\r\n  new Date(timestamp).toLocaleString(\"lt-LT\").slice(0, -3);\r\n\r\nconst getValidationString = validation => {\r\n  let errs = \"\";\r\n  if (validation.errors) {\r\n    if (Array.isArray(validation.errors)) {\r\n      errs = validation.errors.map(e => `${e.key} - ${e.msg}`).join(\", \");\r\n    } else {\r\n      errs = validation.errors.toString();\r\n    }\r\n    return `Validation: ${validation.reason}. Errors: ${errs}`;\r\n  }\r\n  return \"Validation: \" + validation.reason;\r\n};\r\n\r\nconst getOperApar = item => `${absent(item.oper)}-${absent(item.apar)}`;\r\n\r\nconst getHL = item => `${absent(item.dh)}/${absent(item.dl)}`;\r\n\r\nconst getVietosKodas = item =>\r\n  `${pad(item.linija)}.${absent(item.kelias)}${pad(item.km, 3)}.${pad(\r\n    item.pk\r\n  )}.${pad(item.m)}.${absent(item.siule)}`;\r\n\r\nconst getBegis = item =>\r\n  `${absent(item.btipas)} ${absent(item.bgamykl)} ${absent(item.bmetai)}`;\r\n\r\nconst splitMainJournalClear = (input, model) => {\r\n  let main = {};\r\n  Object.keys(model.main).forEach(key => (main[key] = input[key]));\r\n\r\n  let journal = {};\r\n  Object.keys(model.journal).forEach(key => (journal[key] = null));\r\n\r\n  journal.mainid = input.id;\r\n\r\n  return { main, journal };\r\n};\r\n\r\nconst samePlace = (main1, main2) => {\r\n  const areEq = propName => {\r\n    const val1 = main1[propName];\r\n    const val2 = main2[propName];\r\n    return (\r\n      ((val1 == null || val1 === \"\") && (val2 == null || val2 === \"\")) ||\r\n      (val1 != null && val2 != null && val1.toString() === val2.toString())\r\n    );\r\n  };\r\n  return (\r\n    areEq(\"linija\") &&\r\n    areEq(\"kelias\") &&\r\n    areEq(\"km\") &&\r\n    areEq(\"pk\") &&\r\n    areEq(\"m\") &&\r\n    areEq(\"siule\")\r\n  );\r\n};\r\n\r\nexport {\r\n  getDTString,\r\n  getValidationString,\r\n  getOperApar,\r\n  getHL,\r\n  getVietosKodas,\r\n  getBegis,\r\n  splitMainJournalClear,\r\n  samePlace\r\n};\r\n","import React from \"react\";\r\nimport ActionSelector from \"../ActionSelector\";\r\nimport {\r\n  getDTString, \r\n  getValidationString, \r\n  getOperApar, \r\n  getHL, \r\n  getVietosKodas, \r\n  getBegis\r\n} from \"../functions\";\r\n\r\nconst PrimaryRow = ({ item, ind, changeAction, setEdit }) => {\r\n  const main = item.main;\r\n  const journal = item.journal;\r\n  return (\r\n    <tr className=\"approve-primary-row\">\r\n      <td className=\"meistrija vieta\">{main.meistrija}</td>\r\n      <td className=\"vk vieta\">{getVietosKodas(main)}</td>      \r\n      <td className=\"oper-apar\">{getOperApar(journal)}</td>\r\n      <td className=\"data def\">{journal.data}</td>\r\n      <td className=\"kodas def\">{journal.kodas}</td>\r\n      <td className=\"hl\">{getHL(journal)}</td>\r\n      <td className=\"kkateg def\">{main.kkateg}</td>\r\n      <td className=\"pavoj def\">{journal.pavoj}</td>\r\n      <td className=\"dtermin def\">{journal.dtermin}</td>\r\n      <td className=\"controls\">\r\n        <button\r\n          className=\"btn btn-xs btn-light\"\r\n          data-ind={ind}\r\n          onClick={setEdit}\r\n        >\r\n          <i className=\"fas fa-edit\" data-ind={ind} />\r\n        </button>\r\n        <ActionSelector \r\n          action={item.action}\r\n          ind={ind}\r\n          changeAction={changeAction}\r\n        />\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst SecondaryRow = ({ item }) => {\r\n  const main = item.main;\r\n  const journal = item.journal;\r\n  return (\r\n    <tr className=\"approve-secondary-row\">\r\n      <td className=\"supplied-by\">{item.oper}</td>\r\n      <td className=\"supplied-when\">{getDTString(item.timestamp)}</td>\r\n      <td className=\"id\">{main.id}</td>\r\n      <td className=\"begis\">{getBegis(main)}</td>\r\n      <td className=\"note\" colSpan=\"6\">\r\n        {journal.note}\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst ValidationRow = ({ item }) => {\r\n  if (!item.validation) return null;\r\n  return (\r\n    <tr className=\"approve-validation-row\">\r\n      <td className=\"pastaba\" colSpan=\"10\">\r\n        {getValidationString(item.validation)}\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst SingleRow = ({\r\n  item,\r\n  ind,\r\n  changeAction,\r\n  setEdit\r\n}) => {\r\n  return (\r\n    <React.Fragment>\r\n      <PrimaryRow\r\n        item={item}\r\n        ind={ind}\r\n        changeAction={changeAction}\r\n        setEdit={setEdit}\r\n      />\r\n      <SecondaryRow item={item} />\r\n      <ValidationRow item={item} />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst HeadRow = () => {\r\n  return (\r\n    <thead>\r\n      <tr className=\"approve-primary-row\">\r\n        <th className=\"meistrija vieta\">Meistrija</th>\r\n        <th className=\"vk vieta\">Vietos kodas</th>\r\n        <th className=\"oper-apar\">Oper-Apar</th>\r\n        <th className=\"data def\">Data</th>\r\n        <th className=\"kodas def\">Kodas</th>\r\n        <th className=\"hl\">H/L</th>\r\n        <th className=\"kkateg def\">KKateg</th>\r\n        <th className=\"pavoj def\">Pavoj</th>\r\n        <th className=\"dtermin def\">Terminas</th>\r\n        <th className=\"controls\">Actions</th>\r\n      </tr>\r\n      <tr className=\"approve-secondary-row\">\r\n        <th className=\"supplied-by\">Pateikė</th>\r\n        <th className=\"supplied-when\">Kada</th>\r\n        <th className=\"id\">ID</th>\r\n        <th className=\"begis\">Bėgis</th>\r\n        <th className=\"note\" colSpan=\"7\">\r\n          Pastaba\r\n        </th>\r\n      </tr>\r\n    </thead>\r\n  );\r\n};\r\n\r\nexport { SingleRow, HeadRow };\r\n","const absent = (obj, level1, level2) =>\r\n  obj == null || obj[level1] == null || obj[level1][level2] == null\r\n    ? \"\"\r\n    : obj[level1][level2].toString();\r\nexport default absent;\r\n","import React from \"react\";\r\nimport TextFieldGroup from \"../../../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../../../common/SelectInputGroup\";\r\nimport Alert from \"../../../common/Alert\";\r\nimport absent from \"../../../../utils/splitAbsent\";\r\n\r\nconst EditForm = ({ item, onChange, options, errors }) => {\r\n  //console.log(\"item in EditForm\", item);\r\n  //console.log(\"absent meistrija\", absent(item, \"main\", \"meistrija\"));\r\n  const edit = item && item.main && item.main.id > 0;\r\n  \r\n  return (\r\n    <form>\r\n      {errors.common && <Alert message={errors.common} type=\"error\" />}\r\n      <div className=\"form-group row main-data text-center\">\r\n        <SelectInputGroup\r\n          id=\"defect-meistrija\"\r\n          name=\"main.meistrija\"\r\n          label=\"Meistrija\"\r\n          divClassname=\"form-group col-4\"\r\n          value={absent(item, \"main\", \"meistrija\")}\r\n          options={options.meistrija}\r\n          onChange={onChange}\r\n          disabled={edit}\r\n          error={errors.meistrija}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"defect-kkateg\"\r\n          name=\"main.kkateg\"\r\n          label=\"Kelio kategorija\"\r\n          divClassname=\"form-group col-4\"\r\n          value={absent(item, \"main\", \"kkateg\")}\r\n          options={options.kkateg}\r\n          onChange={onChange}\r\n          disabled={edit}\r\n          error={errors.kkateg}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row begis text-center\">\r\n        <SelectInputGroup\r\n          id=\"defect-btipas\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"main.btipas\"\r\n          label=\"Bėgio tipas\"\r\n          value={absent(item, \"main\", \"btipas\")}\r\n          options={options.btipas}\r\n          onChange={onChange}\r\n          disabled={edit}\r\n          error={errors.btipas}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"defect-bgamykl\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"main.bgamykl\"\r\n          label=\"Bėgio gamykla\"\r\n          value={absent(item, \"main\", \"bgamykl\")}\r\n          options={options.bgamykl}\r\n          onChange={onChange}\r\n          disabled={edit}\r\n          error={errors.bgamykl}\r\n        />\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-4\"\r\n          label=\"Bėgio gam. metai\"\r\n          id=\"defect-bmetai\"\r\n          name=\"main.bmetai\"\r\n          placeholder=\"Bėgio gam. metai\"\r\n          value={absent(item, \"main\", \"bmetai\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.bmetai}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group row vieta text-center\">\r\n        <TextFieldGroup\r\n          label=\"Linija\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"defect-linija\"\r\n          name=\"main.linija\"\r\n          placeholder=\"Linija\"\r\n          value={absent(item, \"main\", \"linija\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.linija}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"Kelias\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"defect-kelias\"\r\n          name=\"main.kelias\"\r\n          placeholder=\"Kelio Nr.\"\r\n          value={absent(item, \"main\", \"kelias\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.kelias}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"km\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"defect-km\"\r\n          name=\"main.km\"\r\n          placeholder=\"km\"\r\n          value={absent(item, \"main\", \"km\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.km}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"pk\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"defect-pk\"\r\n          name=\"main.pk\"\r\n          placeholder=\"pk\"\r\n          value={absent(item, \"main\", \"pk\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.pk}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"m\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"defect-m\"\r\n          name=\"main.m\"\r\n          placeholder=\"m\"\r\n          value={absent(item, \"main\", \"m\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.m}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"defect-siule\"\r\n          divClassname=\"form-group col-2\"\r\n          name=\"main.siule\"\r\n          label=\"Siūlė\"\r\n          value={absent(item, \"main\", \"siule\")}\r\n          options={options.siule}\r\n          onChange={onChange}\r\n          disabled={edit}\r\n          error={errors.siule}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row text-center\">\r\n        <TextFieldGroup\r\n          label=\"Data\"\r\n          divClassname=\"form-group col-4\"\r\n          type=\"date\"\r\n          id=\"defect-data\"\r\n          name=\"journal.data\"\r\n          value={absent(item, \"journal\", \"data\")}\r\n          onChange={onChange}\r\n          error={errors.data}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"defect-oper\"\r\n          name=\"journal.oper\"\r\n          label=\"Operatorius\"\r\n          divClassname=\"form-group col-4\"\r\n          value={absent(item, \"journal\", \"oper\")}\r\n          options={options.oper}\r\n          onChange={onChange}\r\n          error={errors.oper}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"defect-apar\"\r\n          name=\"journal.apar\"\r\n          label=\"Defektoskopas\"\r\n          divClassname=\"form-group col-4\"\r\n          value={absent(item, \"journal\", \"apar\")}\r\n          options={options.apar}\r\n          onChange={onChange}\r\n          error={errors.apar}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row text-center\">\r\n        <TextFieldGroup\r\n          label=\"Kodas\"\r\n          divClassname=\"form-group col-3\"\r\n          id=\"defect-kodas\"\r\n          name=\"journal.kodas\"\r\n          placeholder=\"Kodas\"\r\n          value={absent(item, \"journal\", \"kodas\")}\r\n          onChange={onChange}\r\n          error={errors.kodas}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"L\"\r\n          divClassname=\"form-group col-3\"\r\n          id=\"defect-dl\"\r\n          name=\"journal.dl\"\r\n          placeholder=\"L\"\r\n          value={absent(item, \"journal\", \"dl\")}\r\n          onChange={onChange}\r\n          error={errors.dl}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"H\"\r\n          divClassname=\"form-group col-3\"\r\n          id=\"defect-dh\"\r\n          name=\"journal.dh\"\r\n          placeholder=\"H\"\r\n          value={absent(item, \"journal\", \"dh\")}\r\n          onChange={onChange}\r\n          error={errors.dh}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"defect-pavoj\"\r\n          name=\"journal.pavoj\"\r\n          label=\"Pavojingumas\"\r\n          divClassname=\"form-group col-3\"\r\n          value={absent(item, \"journal\", \"pavoj\")}\r\n          options={options.pavoj}\r\n          onChange={onChange}\r\n          error={errors.pavoj}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row text-center\">\r\n        <TextFieldGroup\r\n          label=\"Terminas\"\r\n          divClassname=\"form-group col-3\"\r\n          type=\"date\"\r\n          id=\"defect-dtermin\"\r\n          name=\"journal.dtermin\"\r\n          value={absent(item, \"journal\", \"dtermin\")}\r\n          onChange={onChange}\r\n          error={errors.termin}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"Pastaba\"\r\n          divClassname=\"form-group col-9\"\r\n          id=\"defect-note\"\r\n          name=\"journal.note\"\r\n          placeholder=\"Pastaba\"\r\n          value={absent(item, \"journal\", \"note\")}\r\n          onChange={onChange}\r\n          error={errors.note}\r\n        />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EditForm;\r\n","import React from \"react\";\r\nimport {\r\n  getOperApar, \r\n  getHL, \r\n  getVietosKodas, \r\n  getBegis\r\n} from \"../functions\";\r\n\r\nconst InputRow = ({ ind, inputItem, setItemEdit, deleteItem, copyItem, isCurrent }) => {\r\n  const main = inputItem.main;\r\n  const journal = inputItem.journal;\r\n  return (\r\n    <tr className={isCurrent ? \"current\" : undefined}>      \r\n      <td className=\"id\">{main.id}</td>\r\n      <td className=\"meistrija vieta\">{main.meistrija}</td>\r\n      <td className=\"vk vieta\">{getVietosKodas(main)}</td>      \r\n      <td className=\"oper-apar\">{getOperApar(journal)}</td>\r\n      <td className=\"begis\">{getBegis(main)}</td>\r\n      <td className=\"data def\">{journal.data}</td>\r\n      <td className=\"kodas def\">{journal.kodas}</td>\r\n      <td className=\"hl\">{getHL(journal)}</td>\r\n      <td className=\"kkateg def\">{main.kkateg}</td>\r\n      <td className=\"pavoj def\">{journal.pavoj}</td>\r\n      <td className=\"dtermin def\">{journal.dtermin}</td>\r\n      <td className=\"note\">{journal.note}</td>\r\n\r\n      {/*<td className=\"id\">{inputItem.main.id}</td>\r\n      <td className=\"meistrija vieta\">{inputItem.main.meistrija}</td>\r\n      <td className=\"linija vieta\">{inputItem.main.linija}</td>\r\n      <td className=\"kelias vieta\">{inputItem.main.kelias}</td>\r\n      <td className=\"km text-right vieta\">{inputItem.main.km}</td>\r\n      <td className=\"pk text-right vieta\">{inputItem.main.pk}</td>\r\n      <td className=\"m text-right vieta\">{inputItem.main.m}</td>\r\n      <td className=\"siule vieta\">{inputItem.main.siule}</td>\r\n      <td className=\"btipas begis\">{inputItem.main.btipas}</td>\r\n      <td className=\"bgamykl begis\">{inputItem.main.bgamykl}</td>\r\n      <td className=\"bmetai begis\">{inputItem.main.bmetai}</td>\r\n      <td className=\"oper\">{inputItem.journal.oper}</td>\r\n      <td className=\"apar\">{inputItem.journal.apar}</td>\r\n      <td className=\"data\">{inputItem.journal.data}</td>\r\n      <td className=\"kodas def\">{inputItem.journal.kodas}</td>\r\n      <td className=\"dl text-right def\">{inputItem.journal.dl}</td>\r\n      <td className=\"dh text-right def\">{inputItem.journal.dh}</td>\r\n      <td className=\"kkateg\">{inputItem.main.kkateg}</td>\r\n      <td className=\"pavoj def\">{inputItem.journal.pavoj}</td>\r\n      <td className=\"dtermin def\">{inputItem.journal.dtermin}</td>\r\n      <td className=\"note\">{inputItem.journal.note}</td>*/}\r\n      <td>\r\n        <div className=\"button-group\">\r\n          <button\r\n            className=\"btn btn-xs btn-warning\"\r\n            data-ind={ind}\r\n            onClick={setItemEdit}\r\n          >\r\n            <i className=\"fas fa-edit\" data-ind={ind} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-xs btn-info\"\r\n            data-ind={ind}\r\n            onClick={copyItem}\r\n          >\r\n            <i className=\"fas fa-copy\" data-ind={ind} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-xs btn-danger\"\r\n            data-ind={ind}\r\n            onClick={deleteItem}\r\n          >\r\n            <i \r\n              className=\"fas fa-trash-alt\" \r\n              data-ind={ind}\r\n            />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst InputHeadRow = () => {\r\n  return (\r\n    <tr>   \r\n      <th className=\"id\">ID</th>\r\n      <th className=\"meistrija vieta\">Meistrija</th>\r\n      <th className=\"vk vieta\">Vietos kodas</th>\r\n      <th className=\"oper-apar\">Oper-Apar</th>\r\n      <th className=\"begis\">Bėgis</th>\r\n      <th className=\"data def\">Data</th>\r\n      <th className=\"kodas def\">Kodas</th>\r\n      <th className=\"hl\">H/L</th>\r\n      <th className=\"kkateg def\">KKateg</th>\r\n      <th className=\"pavoj def\">Pavoj</th>\r\n      <th className=\"dtermin def\">Terminas</th>\r\n      <th className=\"note\">Pastaba</th>\r\n      <th className=\"controls\">Controls</th>\r\n\r\n      {/*<th className=\"id\">ID</th>\r\n      <th className=\"meistrija vieta\">Meistrija</th>\r\n      <th className=\"linija vieta\">Linija</th>\r\n      <th className=\"kelias vieta\">Kelias</th>\r\n      <th className=\"km vieta\">Km</th>\r\n      <th className=\"pk vieta\">Pk</th>\r\n      <th className=\"m vieta\">M</th>\r\n      <th className=\"siule vieta\">Siūlė</th>\r\n      <th className=\"btipas begis\">BTipas</th>\r\n      <th className=\"bgamykl begis\">BGamykl</th>\r\n      <th className=\"bmetai begis\">BMetai</th>\r\n      <th className=\"oper\">Oper</th>\r\n      <th className=\"apar\">Apar</th>\r\n      <th className=\"data\">Data</th>\r\n      <th className=\"kodas def\">DKodas</th>\r\n      <th className=\"dl def\">L</th>\r\n      <th className=\"dh def\">H</th>\r\n      <th className=\"kkateg def\">KKateg</th>\r\n      <th className=\"pavoj def\">Pavoj</th>\r\n      <th className=\"dtermin def\">Terminas</th>\r\n      <th className=\"note\">Pastaba</th>\r\n      <th className=\"controls\">Controls</th>*/}\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport { InputRow, InputHeadRow };\r\n","import React from \"react\";\r\nimport TextFieldGroup from \"../../../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../../../common/SelectInputGroup\";\r\nimport absent from \"../../../../utils/absent-props\";\r\n\r\nconst SearchForm = ({onChange, searchInput, options, errors }) => {\r\n  \r\n  return (\r\n    <form>\r\n      <div className=\"form-group row\">\r\n        <TextFieldGroup\r\n          label=\"Linija\"\r\n          id=\"defect-search-linija\"\r\n          name=\"linija\"\r\n          placeholder=\"Linija\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.linija)}\r\n          onChange={onChange}\r\n          error={errors.linija}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <TextFieldGroup\r\n          label=\"Kelias\"\r\n          id=\"defect-search-kelias\"\r\n          name=\"kelias\"\r\n          placeholder=\"kelias\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.kelias)}\r\n          onChange={onChange}\r\n          error={errors.kelias}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <TextFieldGroup\r\n          label=\"km\"\r\n          id=\"defect-search-km\"\r\n          name=\"km\"\r\n          placeholder=\"km\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.km)}\r\n          onChange={onChange}\r\n          error={errors.km}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <TextFieldGroup\r\n          label=\"pk\"\r\n          id=\"defect-search-pk\"\r\n          name=\"pk\"\r\n          placeholder=\"pk\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.pk)}\r\n          onChange={onChange}\r\n          error={errors.pk}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <TextFieldGroup\r\n          label=\"m\"\r\n          id=\"defect-search-m\"\r\n          name=\"m\"\r\n          placeholder=\"m\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.m)}\r\n          onChange={onChange}\r\n          error={errors.m}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <SelectInputGroup\r\n          id=\"defect-search-siule\"\r\n          name=\"siule\"\r\n          label=\"Siūlė\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.siule)}\r\n          options={options.siule}\r\n          onChange={onChange}\r\n          error={errors.siule}\r\n        />\r\n      </div> \r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchForm;\r\n","import React from \"react\";\r\n\r\nconst FoundItemRow = ({ ind, foundItem, setItemEdit }) => {\r\n  return (\r\n    <tr>\r\n      <td className=\"id\">{foundItem.id}</td>\r\n      <td className=\"meistrija vt\">{foundItem.meistrija}</td>\r\n      <td className=\"kkateg\">{foundItem.kkateg}</td>\r\n      <td className=\"btipas begis\">{foundItem.btipas}</td>\r\n      <td className=\"bgamykl begis\">{foundItem.bgamykl}</td>\r\n      <td className=\"bmetai begis\">{foundItem.bmetai}</td>\r\n      <td className=\"linija vt\">{foundItem.linija}</td>\r\n      <td className=\"kelias vt\">{foundItem.kelias}</td>\r\n      <td className=\"km vt\">{foundItem.km}</td>\r\n      <td className=\"pk vt\">{foundItem.pk}</td>\r\n      <td className=\"m vt\">{foundItem.m}</td>\r\n      <td className=\"siule vt\">{foundItem.siule}</td>\r\n      <td className=\"data\">{foundItem.data}</td>\r\n      <td className=\"kodas def\">{foundItem.kodas}</td>\r\n      <td className=\"dl def\">{foundItem.dl}</td>\r\n      <td className=\"dh def\">{foundItem.dh}</td>\r\n      <td className=\"pavoj def\">{foundItem.pavoj}</td>\r\n      <td className=\"dtermin def\">{foundItem.dtermin}</td>\r\n      <td className=\"note\">{foundItem.note}</td>\r\n      <td>\r\n        <div className=\"button-group\">\r\n          <button\r\n            className=\"btn btn-xs btn-warning\"\r\n            data-ind={ind}\r\n            onClick={setItemEdit}\r\n          >\r\n            <i className=\"fas fa-edit\" data-ind={ind} />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst SearchHeadRow = () => {\r\n  return (\r\n    <tr>\r\n      <th className=\"id\">ID</th>\r\n      <th className=\"meistrija vt\">Meistrija</th>\r\n      <th className=\"kkateg\">KKateg</th>\r\n      <th className=\"btipas begis\">BTipas</th>\r\n      <th className=\"bgamykl begis\">BGamykl</th>\r\n      <th className=\"bmetai begis\">BMetai</th>\r\n      <th className=\"linija vt\">Linija</th>\r\n      <th className=\"kelias vt\">Kelias</th>\r\n      <th className=\"km vt\">Km</th>\r\n      <th className=\"pk vt\">Pk</th>\r\n      <th className=\"m vt\">M</th>\r\n      <th className=\"siule vt\">Siūlė</th>\r\n      <th className=\"data\">Data</th>\r\n      <th className=\"kodas def\">DKodas</th>\r\n      <th className=\"dl def\">DL</th>\r\n      <th className=\"dh def\">DH</th>\r\n      <th className=\"pavoj def\">DPavoj</th>\r\n      <th className=\"dtermin def\">Terminas</th>\r\n      <th className=\"note\">Pastaba</th>\r\n      <th className=\"controls\">Controls</th>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport { FoundItemRow, SearchHeadRow };\r\n","  \r\nimport { createOptions } from \"../../../createOptions\";\r\n  \r\nconst options = (things) => ({\r\n  meistrija: createOptions(\r\n    things.meistrija.sort((m1, m2) => m1.ind - m2.ind),\r\n    \"-- nenurodyta --\",\r\n    x => x.abbr + \", \" + x.name\r\n  ),\r\n  kkateg: createOptions(\r\n    things.kkateg,\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  btipas: createOptions(\r\n    things.btipas,\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  bgamykl: createOptions(\r\n    things.bgamykl,\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  siule: createOptions(\r\n    things.siule,\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  pavoj: createOptions(\r\n    things.pavoj.sort((p1, p2) => p1.ind - p2.ind),\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  apar: createOptions(\r\n    things.defskop.sort((d1, d2) => d1.id - d2.id),\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  oper: createOptions(\r\n    things.operat.sort((o1, o2) => o1.name - o2.name),\r\n    \"-- nenurodyta --\",\r\n    x => x.id + \", \" + x.name\r\n  )\r\n});\r\n\r\nexport default options;","export const main = {\r\n  id: {type: 'integer', label: \"id\"}, // insert - generates automatically, update - if wrong doesnt find\r\n  v: {type: 'integer', label: \"versija\"}, // insert - generates automatically, update - if wrong doesnt update or updates the item which has been updated by someone other\r\n  id1: {type: 'integer', validator: \"isNegative\", label: \"ID1\"},\r\n  regbit: {type: 'integer', validator: \"isNegative\", label: \"regiono bitas\"}, // is set by the server  \r\n  meistrija: {type: 'string', required: true, validator: \"isEmptyString\", label: \"meistrija\"},\r\n  linija: {type: 'string', required: true, validator: \"isEmptyString\", label: \"linija\"},\r\n  kelias: {type: 'string', required: true, validator: \"isEmptyString\", label: \"kelias\"},\r\n  km: {type: 'integer', required: true, validator: \"isNegative\", label: \"km\"},\r\n  pk: {type: 'integer', required: true, validator: \"isNegative\", label: \"pk\"},\r\n  m: {type: 'integer', required: true, validator: \"isNegative\", label: \"m\"},\r\n  siule: {type: 'string', label: \"siūlė\"},\r\n  kkateg: {type: 'string', required: true, validator: \"isEmptyString\", label: \"kelio kategorija\"},\r\n  btipas: {type: 'string', required: true, validator: \"isEmptyString\", label: \"bėgio tipas\"},\r\n  bgamykl: {type: 'string', required: true, validator: \"isEmptyString\", label: \"bėgio gamykla\"},\r\n  bmetai: {type: 'integer', required: true, validator: \"isNotYear\", label: \"bėgio pagaminimo metai\"},\r\n  dstop: {type: 'string', validator: \"isNeitherEmptyStringNorShortDate\", label: \"pašalinimo data\"}\r\n};\r\n\r\nexport const journal = {\r\n  jid: {type: 'integer', label: \"id\"},\r\n  data: {type: 'string', required: true, validator: \"isNotShortDate\", label: \"įrašo data\"},\r\n  kodas: {type: 'string', required: true, validator: \"isEmptyString\", label: \"defekto kodas\"},\r\n  dl: {type: 'number', validator: \"isNegative\", label: \"defekto dydis L\"},\r\n  dh: {type: 'number', validator: \"isNegative\", label: \"defekto dydis H\"},\r\n  pavoj: {type: 'string', required: true, validator: \"isEmptyString\", label: \"pavojingumo laipsnis\"},\r\n  oper: {type: 'string', required: true, validator: \"isEmptyString\", label: \"operatoriaus kodas\"},\r\n  apar: {type: 'string', required: true, validator: \"isEmptyString\", label: \"defektoskopo kodas\"},\r\n  dtermin: {type: 'string', validator: \"isNeitherEmptyStringNorShortDate\", label: \"pašalinimo terminas\"},\r\n  note: {type: 'string', validator: \"wrongLength\", params: {min: 0, max: 255}, label: \"pastaba\"},\r\n  mainid: {type: 'integer', label: 'main id'}\r\n};","import React from \"react\";\r\nimport ActionSelector from \"../ActionSelector\";\r\nimport {\r\n  getDTString, \r\n  getValidationString, \r\n  getOperApar,\r\n  getVietosKodas,\r\n} from \"../functions\";\r\n\r\nconst PrimaryRow = ({ item, ind, changeAction, setEdit }) => {\r\n  const main = item.main;\r\n  const journal = item.journal;\r\n  return (\r\n    <tr className=\"approve-primary-row\">\r\n      <td className=\"vbudas\">{main.vbudas}</td>\r\n      <td className=\"vk vieta\">{getVietosKodas(main)}</td> \r\n      <td className=\"data def\">{journal.data}</td>\r\n      <td className=\"pvd def\">{journal.pvd}</td>     \r\n      <td className=\"oper-apar\">{getOperApar(journal)}</td>\r\n      <td className=\"controls\">\r\n        <button\r\n          className=\"btn btn-xs btn-light\"\r\n          data-ind={ind}\r\n          onClick={setEdit}\r\n        >\r\n          <i className=\"fas fa-edit\" data-ind={ind} />\r\n        </button>\r\n        <ActionSelector \r\n          action={item.action}\r\n          ind={ind}\r\n          changeAction={changeAction}\r\n        />\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst SecondaryRow = ({ item }) => {\r\n  const main = item.main;\r\n  const journal = item.journal;\r\n  return (\r\n    <tr className=\"approve-secondary-row\">\r\n      <td className=\"supplied-by\">{item.oper}</td>\r\n      <td className=\"supplied-when\">{getDTString(item.timestamp)}</td>\r\n      <td className=\"id\">{main.id}</td>\r\n      <td className=\"virino\">{main.virino}</td>\r\n      <td className=\"data0\">{main.data0}</td>\r\n      <td className=\"note\">\r\n        {journal.note}\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst ValidationRow = ({ item }) => {\r\n  if (!item.validation) return null;\r\n  return (\r\n    <tr className=\"approve-validation-row\">\r\n      <td className=\"pastaba\" colSpan=\"6\">\r\n        {getValidationString(item.validation)}\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst SingleRow = ({\r\n  item,\r\n  ind,\r\n  changeAction,\r\n  setEdit\r\n}) => {\r\n  return (\r\n    <React.Fragment>\r\n      <PrimaryRow\r\n        item={item}\r\n        ind={ind}\r\n        changeAction={changeAction}\r\n        setEdit={setEdit}\r\n      />\r\n      <SecondaryRow item={item} />\r\n      <ValidationRow item={item} />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst HeadRow = () => {\r\n  return (\r\n    <thead>\r\n      <tr className=\"approve-primary-row\">\r\n        <th className=\"vbudas\">Virinimo būdas</th>\r\n        <th className=\"vk vieta\">Vietos kodas</th>\r\n        <th className=\"data\">Data</th>\r\n        <th className=\"pvd\">Pavadinimas</th>\r\n        <th className=\"oper-apar\">Oper-Apar</th>\r\n        <th className=\"controls\">Actions</th>\r\n      </tr>\r\n      <tr className=\"approve-secondary-row\">\r\n        <th className=\"supplied-by\">Pateikė</th>\r\n        <th className=\"supplied-when\">Kada</th>\r\n        <th className=\"id\">ID</th>\r\n        <th className=\"virino\">Kas virino</th>\r\n        <th className=\"data0\">Virinimo data</th>\r\n        <th className=\"note\">Pastaba</th>\r\n      </tr>\r\n    </thead>\r\n  );\r\n};\r\n\r\nexport { SingleRow, HeadRow };\r\n","import React from \"react\";\r\nimport TextFieldGroup from \"../../../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../../../common/SelectInputGroup\";\r\nimport Alert from \"../../../common/Alert\";\r\nimport absent from \"../../../../utils/splitAbsent\";\r\n\r\nconst EditForm = ({ item, onChange, options, errors }) => {\r\n  //console.log(\"item in EditForm\", item);\r\n  //console.log(\"absent meistrija\", absent(item, \"main\", \"meistrija\"));\r\n  const edit = item && item.main && item.main.id > 0;\r\n  \r\n  return (\r\n    <form>\r\n      {errors.common && <Alert message={errors.common} type=\"error\" />}\r\n      <div className=\"form-group row general-data text-center\">\r\n        <SelectInputGroup\r\n          id=\"welding-vbudas\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"main.vbudas\"\r\n          label=\"Virinimo būdas\"\r\n          value={absent(item, \"main\", \"vbudas\")}\r\n          options={options.vbudas}\r\n          onChange={onChange}\r\n          disabled={edit}\r\n          error={errors.vbudas}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"welding-virino\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"main.virino\"\r\n          label=\"Kas virino\"\r\n          value={absent(item, \"main\", \"virino\")}\r\n          options={options.virino}\r\n          onChange={onChange}\r\n          disabled={edit}\r\n          error={errors.virino}\r\n        />\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-4\"\r\n          type=\"date\"\r\n          label=\"Virinimo data\"\r\n          id=\"welding-data0\"\r\n          name=\"main.data0\"\r\n          value={absent(item, \"main\", \"data0\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.data0}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group row vieta text-center\">\r\n        <TextFieldGroup\r\n          label=\"Linija\"\r\n          divClassname=\"form-group col-4\"\r\n          id=\"welding-linija\"\r\n          name=\"main.linija\"\r\n          placeholder=\"Linija\"\r\n          value={absent(item, \"main\", \"linija\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.linija}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"Kelias\"\r\n          divClassname=\"form-group col-4\"\r\n          id=\"welding-kelias\"\r\n          name=\"main.kelias\"\r\n          placeholder=\"Kelio Nr.\"\r\n          value={absent(item, \"main\", \"kelias\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.kelias}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"km\"\r\n          divClassname=\"form-group col-4\"\r\n          id=\"welding-km\"\r\n          name=\"main.km\"\r\n          placeholder=\"km\"\r\n          value={absent(item, \"main\", \"km\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.km}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"pk\"\r\n          divClassname=\"form-group col-4\"\r\n          id=\"welding-pk\"\r\n          name=\"main.pk\"\r\n          placeholder=\"pk\"\r\n          value={absent(item, \"main\", \"pk\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.pk}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"m\"\r\n          divClassname=\"form-group col-4\"\r\n          id=\"welding-m\"\r\n          name=\"main.m\"\r\n          placeholder=\"m\"\r\n          value={absent(item, \"main\", \"m\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.m}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"welding-siule\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"main.siule\"\r\n          label=\"Siūlė\"\r\n          value={absent(item, \"main\", \"siule\")}\r\n          options={options.siule}\r\n          onChange={onChange}\r\n          disabled={edit}\r\n          error={errors.siule}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row specific-data text-center\">\r\n        <TextFieldGroup\r\n          label=\"Data\"\r\n          divClassname=\"form-group col-4\"\r\n          type=\"date\"\r\n          id=\"welding-data\"\r\n          name=\"journal.data\"\r\n          value={absent(item, \"journal\", \"data\")}\r\n          onChange={onChange}\r\n          error={errors.data}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"welding-oper\"\r\n          name=\"journal.oper\"\r\n          label=\"Operatorius\"\r\n          divClassname=\"form-group col-4\"\r\n          value={absent(item, \"journal\", \"oper\")}\r\n          options={options.oper}\r\n          onChange={onChange}\r\n          error={errors.oper}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"welding-apar\"\r\n          name=\"journal.apar\"\r\n          label=\"Defektoskopas\"\r\n          divClassname=\"form-group col-4\"\r\n          value={absent(item, \"journal\", \"apar\")}\r\n          options={options.apar}\r\n          onChange={onChange}\r\n          error={errors.apar}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row description text-center\">\r\n        <SelectInputGroup\r\n          id=\"welding-pvd\"\r\n          name=\"journal.pvd\"\r\n          label=\"Tikrinimo pavadinimas\"\r\n          divClassname=\"form-group col-3\"\r\n          value={absent(item, \"journal\", \"pvd\")}\r\n          options={options.vpvd}\r\n          onChange={onChange}\r\n          error={errors.pvd}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"Pastaba\"\r\n          divClassname=\"form-group col-9\"\r\n          id=\"welding-note\"\r\n          name=\"journal.note\"\r\n          placeholder=\"Pastaba\"\r\n          value={absent(item, \"journal\", \"note\")}\r\n          onChange={onChange}\r\n          error={errors.note}\r\n        />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EditForm;\r\n","import React from \"react\";\r\nimport {\r\n  getOperApar,\r\n  getVietosKodas\r\n} from \"../functions\";\r\n\r\nconst InputRow = ({ ind, inputItem, setItemEdit, deleteItem, copyItem, isCurrent }) => {\r\n  const main = inputItem.main;\r\n  const journal = inputItem.journal;\r\n  return (\r\n    <tr className={isCurrent ? \"current\" : undefined}>      \r\n      <td className=\"id\">{main.id}</td>\r\n      <td className=\"vbudas\">{main.vbudas}</td>\r\n      <td className=\"data0\">{main.data0}</td>  \r\n      <td className=\"vk vieta\">{getVietosKodas(main)}</td>  \r\n      <td className=\"virino\">{main.virino}</td>\r\n      <td className=\"data\">{journal.data}</td> \r\n      <td className=\"oper-apar\">{getOperApar(journal)}</td>\r\n      <td className=\"pvd\">{journal.pvd}</td>\r\n      <td className=\"note\">{journal.note}</td>\r\n      <td>\r\n        <div className=\"button-group\">\r\n          <button\r\n            className=\"btn btn-xs btn-warning\"\r\n            data-ind={ind}\r\n            onClick={setItemEdit}\r\n          >\r\n            <i className=\"fas fa-edit\" data-ind={ind} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-xs btn-info\"\r\n            data-ind={ind}\r\n            onClick={copyItem}\r\n          >\r\n            <i className=\"fas fa-copy\" data-ind={ind} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-xs btn-danger\"\r\n            data-ind={ind}\r\n            onClick={deleteItem}\r\n          >\r\n            <i \r\n              className=\"fas fa-trash-alt\" \r\n              data-ind={ind}\r\n            />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst InputHeadRow = () => {\r\n  return (\r\n    <tr>   \r\n      <th className=\"id\">ID</th>\r\n      <th className=\"vbudas\">Būdas</th>\r\n      <th className=\"data0\">Virinimo data</th>\r\n      <th className=\"vk vieta\">Vietos kodas</th>\r\n      <th className=\"virino\">Kas virino</th>\r\n      <th className=\"data\">Tikrinimo data</th>\r\n      <th className=\"oper-apar\">Oper-Apar</th>\r\n      <th className=\"pvd\">Pavadinimas</th>\r\n      <th className=\"note\">Pastaba</th>\r\n      <th className=\"controls\">Controls</th>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport { InputRow, InputHeadRow };\r\n","import React from \"react\";\r\nimport TextFieldGroup from \"../../../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../../../common/SelectInputGroup\";\r\nimport absent from \"../../../../utils/absent-props\";\r\n\r\nconst SearchForm = ({onChange, searchInput, options, errors }) => {\r\n  \r\n  return (\r\n    <form>\r\n      <div className=\"form-group row\">      \r\n        <SelectInputGroup\r\n          id=\"welding-search-vbudas\"\r\n          name=\"vbudas\"\r\n          label=\"Virinimo būdas\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.vbudas)}\r\n          options={options.vbudas}\r\n          onChange={onChange}\r\n          error={errors.vbudas}\r\n        />\r\n      </div> \r\n      <div className=\"form-group row\">\r\n        <TextFieldGroup\r\n          label=\"Linija\"\r\n          id=\"welding-search-linija\"\r\n          name=\"linija\"\r\n          placeholder=\"Linija\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.linija)}\r\n          onChange={onChange}\r\n          error={errors.linija}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <TextFieldGroup\r\n          label=\"Kelias\"\r\n          id=\"welding-search-kelias\"\r\n          name=\"kelias\"\r\n          placeholder=\"kelias\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.kelias)}\r\n          onChange={onChange}\r\n          error={errors.kelias}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <TextFieldGroup\r\n          label=\"km\"\r\n          id=\"welding-search-km\"\r\n          name=\"km\"\r\n          placeholder=\"km\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.km)}\r\n          onChange={onChange}\r\n          error={errors.km}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <TextFieldGroup\r\n          label=\"pk\"\r\n          id=\"welding-search-pk\"\r\n          name=\"pk\"\r\n          placeholder=\"pk\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.pk)}\r\n          onChange={onChange}\r\n          error={errors.pk}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <TextFieldGroup\r\n          label=\"m\"\r\n          id=\"welding-search-m\"\r\n          name=\"m\"\r\n          placeholder=\"m\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.m)}\r\n          onChange={onChange}\r\n          error={errors.m}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <SelectInputGroup\r\n          id=\"welding-search-siule\"\r\n          name=\"siule\"\r\n          label=\"Siūlė\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.siule)}\r\n          options={options.siule}\r\n          onChange={onChange}\r\n          error={errors.siule}\r\n        />\r\n      </div> \r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchForm;\r\n","import React from \"react\";\r\n\r\nconst FoundItemRow = ({ ind, foundItem, setItemEdit }) => {\r\n  return (\r\n    <tr>\r\n      <td className=\"id\">{foundItem.id}</td>\r\n      <td className=\"vbudas\">{foundItem.vbudas}</td>\r\n      <td className=\"data0\">{foundItem.data0}</td>\r\n      <td className=\"virino\">{foundItem.virino}</td>\r\n      <td className=\"linija vt\">{foundItem.linija}</td>\r\n      <td className=\"kelias vt\">{foundItem.kelias}</td>\r\n      <td className=\"km vt\">{foundItem.km}</td>\r\n      <td className=\"pk vt\">{foundItem.pk}</td>\r\n      <td className=\"m vt\">{foundItem.m}</td>\r\n      <td className=\"siule vt\">{foundItem.siule}</td>\r\n      <td className=\"data\">{foundItem.data}</td>\r\n      <td className=\"pvd\">{foundItem.pvd}</td>\r\n      <td className=\"note\">{foundItem.note}</td>\r\n      <td>\r\n        <div className=\"button-group\">\r\n          <button\r\n            className=\"btn btn-xs btn-warning\"\r\n            data-ind={ind}\r\n            onClick={setItemEdit}\r\n          >\r\n            <i className=\"fas fa-edit\" data-ind={ind} />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst SearchHeadRow = () => {\r\n  return (\r\n    <tr>\r\n      <th className=\"id\">ID</th>\r\n      <th className=\"vbudas\">Būdas</th>\r\n      <th className=\"data0\">Virinimo data</th>\r\n      <th className=\"virino\">Kas virino</th>\r\n      <th className=\"linija vt\">Linija</th>\r\n      <th className=\"kelias vt\">Kelias</th>\r\n      <th className=\"km vt\">Km</th>\r\n      <th className=\"pk vt\">Pk</th>\r\n      <th className=\"m vt\">M</th>\r\n      <th className=\"siule vt\">Siūlė</th>\r\n      <th className=\"data\">Tikrinimo Data</th>\r\n      <th className=\"pvd\">Pavadinimas</th>\r\n      <th className=\"note\">Pastaba</th>\r\n      <th className=\"controls\">Controls</th>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport { FoundItemRow, SearchHeadRow };\r\n","  \r\nimport { createOptions } from \"../../../createOptions\";\r\n  \r\nconst options = (things) => ({\r\n  vbudas: createOptions(\r\n    things.vbudas.sort((m1, m2) => m1.ind - m2.ind),\r\n    \"-- nenurodyta --\",\r\n    x => x.id + \", \" + x.name\r\n  ),\r\n  virino: createOptions(\r\n    things.virino,\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  vpvd: createOptions(\r\n    things.vpvd,\r\n    \"-- nenurodyta --\",        \r\n    x => x.pvdname,\r\n    x => x.pvdid,\r\n    x => x.pvdid\r\n  ),\r\n  siule: createOptions(\r\n    things.siule,\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  apar: createOptions(\r\n    things.defskop.sort((d1, d2) => d1.id - d2.id),\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  oper: createOptions(\r\n    things.operat.sort((o1, o2) => o1.name - o2.name),\r\n    \"-- nenurodyta --\",\r\n    x => x.id + \", \" + x.name\r\n  )\r\n});\r\n\r\nexport default options;","import * as iTypes from \"../../itypes\";\r\n\r\nimport * as defectApproveRow from \"./specific/defects/ApproveRow\";\r\nimport * as defectForm from \"./specific/defects/EditForm\";\r\nimport * as defectInputRow from \"./specific/defects/InputRow\";\r\nimport * as defectSearchForm from \"./specific/defects/SearchForm\";\r\nimport * as defectSearchResultRow from \"./specific/defects/SearchResultRow\";\r\nimport defectOptions from \"./specific/defects/options\";\r\nimport * as defectModel from \"./specific/defects/model\";\r\n\r\nimport * as weldingApproveRow from \"./specific/weldings/ApproveRow\";\r\nimport * as weldingForm from \"./specific/weldings/EditForm\";\r\nimport * as weldingInputRow from \"./specific/weldings/InputRow\";\r\nimport * as weldingSearchForm from \"./specific/weldings/SearchForm\";\r\nimport * as weldingSearchResultRow from \"./specific/weldings/SearchResultRow\";\r\nimport weldingOptions from \"./specific/weldings/options\";\r\nimport * as weldingModel from \"./specific/weldings/model\";\r\n\r\n\r\nexport default {\r\n  [iTypes.defect]: {\r\n        approveRow: defectApproveRow,\r\n        inputForm: defectForm,\r\n        iApproveEditForm: defectForm,\r\n        inputRow: defectInputRow,\r\n        searchForm: defectSearchForm,\r\n        searchResultRow: defectSearchResultRow,\r\n        model: defectModel,\r\n        options: defectOptions\r\n      },\r\n  [iTypes.welding]: {\r\n        approveRow: weldingApproveRow,\r\n        inputForm: weldingForm,\r\n        iApproveEditForm: weldingForm,\r\n        inputRow: weldingInputRow,\r\n        searchForm: weldingSearchForm,\r\n        searchResultRow: weldingSearchResultRow,\r\n        model: weldingModel,\r\n        options: weldingOptions\r\n      },\r\n};","import React from 'react';\r\nimport itemSpecific from \"./itemSpecific\";\r\nimport Alert from \"../common/Alert\";\r\n\r\nconst InputPanel = ({inputItems, itype, newInputHandler, sendHandler, clearHandler, setItemEditHandler, deleteItemHandler, copyInputHandler, currentId, info, hideInfo}) => {\r\n  \r\n  const InputRow = itemSpecific[itype].inputRow.InputRow;\r\n  const InputHeadRow = itemSpecific[itype].inputRow.InputHeadRow;\r\n    \r\n  const inputRows = inputItems.map((iItem, ind) => \r\n    <InputRow\r\n      ind={ind}\r\n      inputItem={iItem} \r\n      setItemEdit={setItemEditHandler}\r\n      deleteItem={deleteItemHandler}\r\n      copyItem={copyInputHandler}\r\n      key={iItem.main.id}\r\n      isCurrent={currentId && iItem.main.id === currentId}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <div className=\"container-fluid oper-input-panel\">\r\n      {info &&\r\n      <div className=\"row info-row\">\r\n        <div className=\"col-12\">\r\n          <Alert \r\n            message={info.message} \r\n            type={info.type} \r\n            hide={hideInfo}\r\n          />\r\n        </div>\r\n      </div>}\r\n      <div className=\"row table-row\">\r\n        <div className=\"col-12\">\r\n          <table className=\"table table-sm table-striped table-bordered items\">\r\n            <thead><InputHeadRow /></thead>\r\n            <tbody>{inputRows}</tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <div className=\"row button-row\">  \r\n        <div className=\"col-12\">    \r\n          <button type=\"button\" className=\"btn btn-primary\" onClick={newInputHandler}>\r\n            New Input\r\n          </button>      \r\n          <button type=\"button\" className=\"btn btn-secondary\" onClick={sendHandler}>\r\n            Send\r\n          </button>\r\n          <button type=\"button\" className=\"btn btn-warning\" onClick={clearHandler}>\r\n            Clear\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InputPanel;","import React from 'react';\r\nimport itemSpecific from \"./itemSpecific\";\r\nimport Alert from \"../common/Alert\";\r\n\r\nconst SearchPanel = ({foundItems, itype, setItemEditHandler, newSearchHandler, info, hideInfo}) => {\r\n  \r\n  const SearchHeadRow = itemSpecific[itype].searchResultRow.SearchHeadRow;\r\n  const FoundItemRow = itemSpecific[itype].searchResultRow.FoundItemRow;\r\n  \r\n  const foundItemRows = foundItems.map((fItem, ind) => \r\n    <FoundItemRow\r\n      ind={ind}\r\n      foundItem={fItem} \r\n      setItemEdit={setItemEditHandler}\r\n      key={fItem.id}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <div className=\"container search-panel\">\r\n      {info &&\r\n      <div className=\"row info-row\">\r\n        <div className=\"col-12\">\r\n          <Alert \r\n            message={info.message} \r\n            type={info.type}\r\n            hide={hideInfo} \r\n          />\r\n        </div>\r\n      </div>}\r\n      <div className=\"row button-row\">  \r\n        <div className=\"col-12\"> \r\n          <button type=\"button\" className=\"btn btn-warning\" onClick={newSearchHandler}>\r\n            New Search\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"row table-row\">\r\n        <div className=\"col-12\">\r\n          <table className=\"table table-sm table-striped table-bordered items\">\r\n            <thead><SearchHeadRow /></thead>\r\n            <tbody>{foundItemRows}</tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchPanel;","import React from 'react';\r\n\r\nconst ModalFormPanel = ({body, title, submitHandler, cancelHandler, purpose, show}) => {\r\n\r\n  return (\r\n    <div \r\n      className={\"operinput my-modal \" + purpose} \r\n      style={show ? {display: \"block\"} : {display: \"none\"}} \r\n      id=\"form-panel\" tabIndex=\"-1\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\"> \r\n            <h5 className=\"modal-title\" id=\"modal-title\">{title}</h5>\r\n            <button type=\"button\" className=\"reject-button\" onClick={cancelHandler}>\r\n              &times;\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            {body}\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={cancelHandler}>\r\n              Close\r\n            </button>\r\n            <button type=\"button\" className=\"btn btn-danger\" onClick={submitHandler}>\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ModalFormPanel;","const getDTString = timestamp =>\r\n  new Date(timestamp).toLocaleString(\"lt-LT\").slice(0, -3);\r\n\r\nconst addSupplied = (obj, oper, timestamp) => ({\r\n  ...obj,\r\n  supplied: { by: oper, when: getDTString(timestamp) }\r\n});\r\n\r\nconst parseArray = {\r\n  supplied: rec =>\r\n    JSON.parse(rec.input).map(item =>\r\n      addSupplied(item, rec.oper, rec.timestamp)\r\n    ),\r\n\r\n  unapproved: rec => JSON.parse(rec.input)\r\n};\r\n\r\nconst unpack = (data, which) => {\r\n  const getParsedArray = parseArray[which];\r\n  return data.reduce((acc, rec) => acc.concat(getParsedArray(rec)), []);\r\n};\r\n\r\nexport { unpack };\r\n","import axios from \"axios\";\r\nimport {\r\n  UNAPPROVED_FETCH_BEGIN,\r\n  UNAPPROVED_FETCH_SUCCESS,\r\n  UNAPPROVED_FETCH_FAILURE,\r\n  OPERINPUT_SUPPLY_BEGIN,\r\n  OPERINPUT_SUPPLY_SUCCESS,\r\n  OPERINPUT_SUPPLY_FAILURE,\r\n  OPERINPUT_ITEMS_SEARCH_BEGIN,\r\n  OPERINPUT_ITEMS_SEARCH_SUCCESS,\r\n  OPERINPUT_ITEMS_SEARCH_FAILURE,\r\n  OPERINPUT_CLEAR,\r\n  OPERINPUT_INFO_REMOVE,\r\n  OPERINPUT_SEARCH_INFO_REMOVE,\r\n  OPERINPUT_SET_ITEMS\r\n} from \"./types\";\r\nimport { unpack } from \"./functions/unpack\";\r\n\r\nexport const setItems = items => dispatch => {\r\n  dispatch({ type: OPERINPUT_SET_ITEMS, payload: { items } });\r\n};\r\n\r\nexport const removeInfo = () => dispatch => {\r\n  dispatch({ type: OPERINPUT_INFO_REMOVE });\r\n};\r\n\r\nexport const removeSearchInfo = () => dispatch => {\r\n  dispatch({ type: OPERINPUT_SEARCH_INFO_REMOVE });\r\n};\r\n\r\nconst unapprovedFetchBegin = () => ({\r\n  type: UNAPPROVED_FETCH_BEGIN\r\n});\r\n\r\nconst unapprovedFetchSuccess = items => ({\r\n  type: UNAPPROVED_FETCH_SUCCESS,\r\n  payload: { items }\r\n});\r\n\r\nconst unapprovedFetchFailure = errormsg => ({\r\n  type: UNAPPROVED_FETCH_FAILURE,\r\n  payload: { errormsg }\r\n});\r\n\r\nexport const fetchUnapprovedOperInput = itype => dispatch => {\r\n  dispatch(unapprovedFetchBegin());\r\n  const paramsObj = { params: { itype } };\r\n  axios\r\n    .get(\"/api/operinput/unapproved\", paramsObj)\r\n    .then(res => {\r\n      //console.log(\"unapproved response\", res.data);\r\n      const parsed = unpack(res.data, \"unapproved\");\r\n      //console.log(\"unapproved parsed\", parsed);\r\n      dispatch(unapprovedFetchSuccess(parsed));\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n      dispatch(unapprovedFetchFailure(err.message));\r\n    });\r\n};\r\n\r\nconst searchItemsBegin = () => ({\r\n  type: OPERINPUT_ITEMS_SEARCH_BEGIN\r\n});\r\n\r\nconst searchItemsSuccess = items => ({\r\n  type: OPERINPUT_ITEMS_SEARCH_SUCCESS,\r\n  payload: { items }\r\n});\r\n\r\nconst searchItemsFailure = (msg, type) => ({\r\n  type: OPERINPUT_ITEMS_SEARCH_FAILURE,\r\n  payload: { msg, type }\r\n});\r\n\r\nexport const searchItems = (itype, filter) => dispatch => {\r\n  dispatch(removeSearchInfo());\r\n  dispatch(searchItemsBegin());\r\n  axios\r\n    .get(\"/api/items/search/location\", { params: { itype, ...filter } })\r\n    .then(res => {\r\n      dispatch(searchItemsSuccess(res.data));\r\n    })\r\n    .catch(err => {\r\n      let msg;\r\n      let type = \"error\";\r\n      if (err.response && err.response.data) {\r\n        if (err.response.data.ok) type = \"info\";\r\n        msg = err.response.data.msg;\r\n      } else {\r\n        console.error(err);\r\n        msg = err.toString();\r\n      }\r\n      dispatch(searchItemsFailure(msg, type));\r\n    });\r\n};\r\n\r\nconst operInputSupplyBegin = () => ({\r\n  type: OPERINPUT_SUPPLY_BEGIN\r\n});\r\n\r\nconst operInputSupplySuccess = () => ({\r\n  type: OPERINPUT_SUPPLY_SUCCESS\r\n});\r\n\r\nconst operInputSupplyFailure = errormsg => ({\r\n  type: OPERINPUT_SUPPLY_FAILURE,\r\n  payload: { errormsg }\r\n});\r\n\r\nexport const supplyOperInput = (input, itype) => dispatch => {\r\n  dispatch(operInputSupplyBegin());\r\n  axios\r\n    .post(\"/api/operinput/supply\", { input, itype })\r\n    .then(res => {\r\n      dispatch(operInputSupplySuccess());\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n      dispatch(operInputSupplyFailure(err.message));\r\n    });\r\n};\r\n\r\nexport const clearOperInput = () => dispatch => {\r\n  dispatch({ type: OPERINPUT_CLEAR });\r\n};","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport IsLoading from \"../common/IsLoading\";\r\nimport InputPanel from \"./InputPanel\";\r\nimport SearchPanel from \"./SearchPanel\";\r\nimport ModalFormPanel from \"./ModalFormPanel\";\r\nimport {\r\n  fetchUnapprovedOperInput,\r\n  setItems,\r\n  searchItems,\r\n  supplyOperInput,\r\n  clearOperInput,\r\n  removeInfo,\r\n  removeSearchInfo\r\n} from \"../../actions/operInputActions\";\r\nimport itemSpecific from \"./itemSpecific\";\r\nimport { splitMainJournalClear, samePlace } from \"./specific/functions\";\r\n\r\nclass OperInputSupply extends Component {\r\n  #options;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentInput: {},\r\n      inputItemErrors: {},\r\n      showInputModal: false,\r\n      searchInput: {},\r\n      searchInputErrors: {},\r\n      showSearchModal: false\r\n    };\r\n\r\n    this.changeInputItem = this.changeInputItem.bind(this);\r\n    this.startNewInput = this.startNewInput.bind(this);\r\n    this.submitRecord = this.submitRecord.bind(this);\r\n    this.cancelEditRecord = this.cancelEditRecord.bind(this);\r\n    this.clearCurrentRecord = this.clearCurrentRecord.bind(this);\r\n    this.changeSearchInput = this.changeSearchInput.bind(this);\r\n    this.submitSearch = this.submitSearch.bind(this);\r\n    this.cancelSearch = this.cancelSearch.bind(this);\r\n    this.clearCurrentSearch = this.clearCurrentSearch.bind(this);\r\n    this.sendItems = this.sendItems.bind(this);\r\n    this.clearInputItems = this.clearInputItems.bind(this);\r\n    this.setItemEdit = this.setItemEdit.bind(this);\r\n    this.deleteItem = this.deleteItem.bind(this);\r\n    this.setFoundItemEdit = this.setFoundItemEdit.bind(this);\r\n    this.startNewSearch = this.startNewSearch.bind(this);\r\n    this.hideInfo = this.hideInfo.bind(this);\r\n    this.hideSearchInfo = this.hideSearchInfo.bind(this);\r\n    this.copyInput = this.copyInput.bind(this);\r\n\r\n    this.#options = itemSpecific[this.props.itype].options(this.props.things);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchUnapprovedOperInput(this.props.itype);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.itype !== this.props.itype) {\r\n      this.#options = itemSpecific[this.props.itype].options(this.props.things);      \r\n      this.props.fetchUnapprovedOperInput(this.props.itype);\r\n    }\r\n  }\r\n\r\n  hideInfo() {\r\n    this.props.removeInfo();\r\n  }\r\n\r\n  hideSearchInfo() {\r\n    this.props.removeSearchInfo();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.clearOperInput();\r\n  }\r\n\r\n  findIndexById(id, items) {\r\n    return items.findIndex(i => i.main.id.toString() === id.toString());\r\n  }\r\n\r\n  copyInput(e) {\r\n    const ind = parseInt(e.target.dataset.ind);\r\n    const newItem = {\r\n      main: { ...this.props.items[ind].main, id: -Date.now() },\r\n      journal: { ...this.props.items[ind].journal }\r\n    };\r\n    delete newItem.journal.mainid;\r\n    this.setState({\r\n      currentInput: newItem,\r\n      inputItemErrors: {},\r\n      showInputModal: true,\r\n      showSearchModal: false\r\n    });\r\n  }\r\n\r\n  changeInputItem(e) {\r\n    //console.log(\"name, value\", e.target.name, e.target.value);\r\n    const nameParts = e.target.name.split(\".\");\r\n    //console.log(\"parts\", nameParts[0], nameParts[1]);\r\n\r\n    let modified = {\r\n      main: { ...this.state.currentInput.main },\r\n      journal: { ...this.state.currentInput.journal }\r\n    };\r\n    modified[nameParts[0]][nameParts[1]] = e.target.value;\r\n    //console.log(\"modified\", modified);\r\n    this.setState({ currentInput: modified });\r\n  }\r\n\r\n  startNewInput() {\r\n    this.setState({\r\n      currentInput: { main: { id: -Date.now() }, journal: {} },\r\n      inputItemErrors: {},\r\n      showInputModal: true,\r\n      showSearchModal: false\r\n    });\r\n  }\r\n\r\n  // as for now - just mocking\r\n  validateRecord(draft, itype) {\r\n    const item = draft;\r\n    return { item };\r\n  }\r\n\r\n  submitRecord() {\r\n    // local validation\r\n    const vResult = this.validateRecord(\r\n      this.state.currentInput,\r\n      this.props.itype\r\n    );\r\n    if (vResult.errors) {\r\n      this.setState({\r\n        inputItemErrors: vResult.errors\r\n      });\r\n      //console.log(\"returning because of validation errors\");\r\n      return;\r\n    }\r\n\r\n    const item = vResult.item;\r\n    // tikrinti ar nėra to paties id ir tos pačios vietos\r\n    const rep = this.props.items.some(\r\n      i => samePlace(i.main, item.main) && i.main.id !== item.main.id\r\n    );\r\n\r\n    if (rep) {\r\n      //console.log(\"setting inputItemErrors\");\r\n      this.setState({ inputItemErrors: { common: \"same place\" } });\r\n      //console.log(\"returning because of same place\");\r\n      return;\r\n    }\r\n\r\n    let items;\r\n    const ind = this.findIndexById(item.main.id, this.props.items);\r\n    if (ind < 0) {\r\n      // reiškia, sukurtas naujai, reikia pridėti\r\n      items = [...this.props.items, item];\r\n    } else {\r\n      // reiškia, editintas, reikia replaceinti\r\n      items = [\r\n        ...this.props.items.slice(0, ind),\r\n        item,\r\n        ...this.props.items.slice(ind + 1)\r\n      ];\r\n    }\r\n\r\n    this.props.setItems(items);\r\n    this.setState({\r\n      inputItemErrors: {},\r\n      showInputModal: false,\r\n      currentInput: {}\r\n    });\r\n  }\r\n\r\n  cancelEditRecord() {\r\n    this.setState({\r\n      inputItemErrors: {},\r\n      currentInput: {},\r\n      showInputModal: false\r\n    });\r\n  }\r\n\r\n  clearCurrentRecord() {\r\n    this.setState({\r\n      inputItemErrors: {},\r\n      currentInput: {}\r\n    });\r\n  }\r\n\r\n  changeSearchInput(e) {\r\n    const searchInput = {\r\n      ...this.state.searchInput,\r\n      [e.target.name]: e.target.value\r\n    };\r\n    this.setState({ searchInput });\r\n  }\r\n\r\n  // as for now - just mocking\r\n  validateSearchInput(itype, input) {\r\n    const searchItem = input;\r\n    return searchItem;\r\n  }\r\n\r\n  submitSearch() {\r\n    const data = this.validateSearchInput(\r\n      this.props.itype,\r\n      this.state.searchInput\r\n    );\r\n    if (data.errors) {\r\n      this.setState({\r\n        searchInputErrors: data.errors\r\n      });\r\n      return;\r\n    }\r\n    this.setState({ showSearchModal: false });\r\n    this.props.searchItems(this.props.itype, data);\r\n  }\r\n\r\n  cancelSearch() {\r\n    this.setState({\r\n      searchInputErrors: {},\r\n      searchInput: {},\r\n      showSearchModal: false\r\n    });\r\n  }\r\n\r\n  clearCurrentSearch() {\r\n    this.setState({\r\n      searchInputErrors: {},\r\n      searchInput: {}\r\n    });\r\n  }\r\n\r\n  sendItems() {\r\n    if (this.props.items.length < 1) return;\r\n    this.props.supplyOperInput(this.props.items, this.props.itype);\r\n  }\r\n\r\n  clearInputItems() {\r\n    this.props.clearOperInput();\r\n  }\r\n\r\n  setItemEdit(e) {\r\n    const ind = parseInt(e.target.dataset.ind);\r\n    this.setState({\r\n      currentInput: {\r\n        main: { ...this.props.items[ind].main },\r\n        journal: { ...this.props.items[ind].journal }\r\n      },\r\n      inputItemErrors: {},\r\n      showInputModal: true,\r\n      showSearchModal: false\r\n    });\r\n  }\r\n\r\n  deleteItem(e) {\r\n    const ind = parseInt(e.target.dataset.ind);\r\n\r\n    this.props.setItems([\r\n      ...this.props.items.slice(0, ind),\r\n      ...this.props.items.slice(ind + 1)\r\n    ]);\r\n    this.setState({ currentInput: {} });\r\n  }\r\n\r\n  setFoundItemEdit(e) {\r\n    const ind = parseInt(e.target.dataset.ind);\r\n    const item = {...this.props.foundItems[ind]};\r\n    const fissedItem = splitMainJournalClear(\r\n      item,\r\n      itemSpecific[this.props.itype].model\r\n    );\r\n    this.setState({\r\n      showSearchModal: false,\r\n      showInputModal: true,\r\n      currentInput: fissedItem,\r\n      inputItemErrors: {},\r\n      searchInputErrors: {},\r\n      searchInput: {}\r\n    });\r\n  }\r\n\r\n  startNewSearch() {\r\n    this.setState({\r\n      showSearchModal: true,\r\n      showInputModal: false,\r\n      searchInputErrors: {},\r\n      searchInput: {}\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const InputForm = itemSpecific[this.props.itype].inputForm.default;\r\n    const SearchForm = itemSpecific[this.props.itype].searchForm.default;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <IsLoading when={this.props.isLoading} />\r\n        <div className=\"container-fluid\">\r\n          <ModalFormPanel\r\n            body={InputForm({\r\n              item: this.state.currentInput,\r\n              onChange: this.changeInputItem,\r\n              options: this.#options,\r\n              errors: this.state.inputItemErrors\r\n            })}\r\n            title={\"Įrašo sukūrimas/redagavimas\"}\r\n            submitHandler={this.submitRecord}\r\n            cancelHandler={this.cancelEditRecord}\r\n            purpose=\"input\"\r\n            show={this.state.showInputModal}\r\n          />\r\n          <ModalFormPanel\r\n            body={SearchForm({\r\n              searchInput: this.state.searchInput,\r\n              onChange: this.changeSearchInput,\r\n              options: this.#options,\r\n              errors: this.state.searchInputErrors\r\n            })}\r\n            title={\"Įrašų paieška\"}\r\n            submitHandler={this.submitSearch}\r\n            cancelHandler={this.cancelSearch}\r\n            clearHandler={this.clearCurrentSearch}\r\n            purpose=\"search\"\r\n            show={this.state.showSearchModal}\r\n          />\r\n          <InputPanel\r\n            inputItems={this.props.items}\r\n            itype={this.props.itype}\r\n            newInputHandler={this.startNewInput}\r\n            sendHandler={this.sendItems}\r\n            clearHandler={this.clearInputItems}\r\n            setItemEditHandler={this.setItemEdit}\r\n            deleteItemHandler={this.deleteItem}\r\n            copyInputHandler={this.copyInput}\r\n            currentId={\r\n              this.state.currentInput.main\r\n                ? this.state.currentInput.main.id\r\n                : null\r\n            }\r\n            info={this.props.info}\r\n            hideInfo={this.hideInfo}\r\n          />\r\n          <SearchPanel\r\n            foundItems={this.props.foundItems}\r\n            itype={this.props.itype}\r\n            setItemEditHandler={this.setFoundItemEdit}\r\n            newSearchHandler={this.startNewSearch}\r\n            info={this.props.searchInfo}\r\n            hideInfo={this.hideSearchInfo}\r\n          />\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  things: state.things.data,\r\n  items: state.operInput.items,\r\n  foundItems: state.operInput.foundItems,\r\n  isLoading: state.operInput.isLoading,\r\n  info: state.operInput.info,\r\n  searchInfo: state.operInput.searchInfo\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    fetchUnapprovedOperInput,\r\n    searchItems,\r\n    setItems,\r\n    supplyOperInput,\r\n    clearOperInput,\r\n    removeInfo,\r\n    removeSearchInfo\r\n  }\r\n)(OperInputSupply);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Alert from \"../common/Alert\";\r\nimport IsLoading from \"../common/IsLoading\";\r\nimport ModalFormPanel from \"./ModalFormPanel\";\r\nimport {\r\n  submitIApprove,\r\n  fetchSuppliedOperInput,\r\n  setItems\r\n} from \"../../actions/inputApproveActions\";\r\nimport itemSpecific from \"./itemSpecific\";\r\n\r\nclass OperInputApprove extends Component {\r\n  #options;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentIndex: null,\r\n      currentItem: null,\r\n      showModal: false,\r\n      localValidationErrors: {}\r\n    };\r\n\r\n    this.changeAction = this.changeAction.bind(this);\r\n    this.changeItem = this.changeItem.bind(this);\r\n    this.setEdit = this.setEdit.bind(this);\r\n    this.submitEdit = this.submitEdit.bind(this);\r\n    this.cancelEdit = this.cancelEdit.bind(this);\r\n    this.submitItems = this.submitItems.bind(this);\r\n\r\n    this.#options = itemSpecific[this.props.itype].options(this.props.things);\r\n  }\r\n\r\n  componentDidMount() {\r\n    /// reikia užkrauti visus inputus\r\n    this.props.fetchSuppliedOperInput(this.props.itype);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.itype !== this.props.itype) {\r\n      this.#options = itemSpecific[this.props.itype].options(this.props.things);\r\n      this.props.fetchSuppliedOperInput(this.props.itype);\r\n    }\r\n  }\r\n\r\n  replaceItem(item, ind, items) {\r\n    return [...items.slice(0, ind), item, ...items.slice(ind + 1)];\r\n  }\r\n\r\n  changeAction(e) {\r\n    const ind = parseInt(e.target.dataset.ind);\r\n    const action = e.target.value;\r\n    const item = { ...this.props.items[ind], action };\r\n    const newItems = this.replaceItem(item, ind, this.props.items);\r\n    this.props.setItems(newItems);\r\n  }\r\n\r\n  setEdit(e) {\r\n    const ind = parseInt(e.target.dataset.ind);\r\n    const propsItem = this.props.items[ind];\r\n    this.setState({\r\n      currentIndex: ind,\r\n      currentItem: {\r\n        ...propsItem,\r\n        main: { ...propsItem.main },\r\n        journal: { ...propsItem.journal }\r\n      },\r\n      showModal: true\r\n    });\r\n  }\r\n\r\n  changeItem(e) {\r\n    const nameParts = e.target.name.split(\".\");\r\n    let modified = { ...this.state.currentItem };\r\n    modified[nameParts[0]][nameParts[1]] = e.target.value;\r\n    this.setState({ currentItem: modified });\r\n  }\r\n\r\n  submitEdit() {\r\n    // validate locally here\r\n    const ind = this.state.currentIndex;\r\n    const item = this.state.currentItem;\r\n    const newItems = this.replaceItem(item, ind, this.props.items);\r\n    this.props.setItems(newItems);\r\n\r\n    this.setState({\r\n      currentIndex: null,\r\n      currentItem: null,\r\n      showModal: false\r\n    });\r\n  }\r\n\r\n  cancelEdit() {\r\n    this.setState({\r\n      currentIndex: null,\r\n      note: \"\",\r\n      showModal: false\r\n    });\r\n  }\r\n\r\n  submitItems() {\r\n    this.props.submitIApprove(this.props.items, this.props.itype);\r\n  }\r\n\r\n  render() {\r\n    // select row type\r\n    if (this.props.items.length === 0) {\r\n      return (\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col\">No items to approve or disapprove yet.</div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const EditForm = itemSpecific[this.props.itype].iApproveEditForm.default;\r\n    const SingleRow = itemSpecific[this.props.itype].approveRow.SingleRow;\r\n    const HeadRow = itemSpecific[this.props.itype].approveRow.HeadRow;\r\n    const rows = this.props.items.map((i, ind) => (\r\n      <SingleRow\r\n        item={i}\r\n        ind={ind}\r\n        changeAction={this.changeAction}\r\n        setEdit={this.setEdit}\r\n        key={i.id}\r\n      />\r\n    ));\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <IsLoading when={this.props.isLoading} />\r\n        {this.props.info ? (\r\n          <Alert\r\n            message={this.props.info.message}\r\n            type={this.props.info.type}\r\n          />\r\n        ) : null}\r\n        <ModalFormPanel\r\n          body={EditForm({\r\n            item: this.state.currentItem,\r\n            onChange: this.changeItem,\r\n            options: this.#options,\r\n            errors: this.state.localValidationErrors\r\n          })}\r\n          title={\"Įrašo redagavimas\"}\r\n          submitHandler={this.submitEdit}\r\n          cancelHandler={this.cancelEdit}\r\n          show={this.state.showModal}\r\n        />\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <table className=\"table\">\r\n              <HeadRow />\r\n              <tbody>{rows}</tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"row\">\r\n            <button className=\"btn btn-warning\" onClick={this.submitItems}>\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  things: state.things.data,\r\n  items: state.iApprove.items,\r\n  info: state.iApprove.info,\r\n  isLoading: state.iApprove.isLoading\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    submitIApprove,\r\n    fetchSuppliedOperInput,\r\n    setItems\r\n  }\r\n)(OperInputApprove);\r\n","import axios from \"axios\";\r\nimport {\r\n  IAPPROVE_FETCH_BEGIN,\r\n  IAPPROVE_FETCH_SUCCESS,\r\n  IAPPROVE_FETCH_FAILURE,\r\n  IAPPROVE_PROCESS_BEGIN,\r\n  IAPPROVE_PROCESS_SUCCESS,\r\n  IAPPROVE_PROCESS_FAILURE,\r\n  IAPPROVE_INFO_REMOVE,\r\n  IAPPROVE_SET_ITEMS\r\n} from \"./types\";\r\n\r\nexport const dispatchRemoveInfo = () => dispatch => {\r\n  dispatch({ type: IAPPROVE_INFO_REMOVE });\r\n};\r\n\r\nconst fetchIApproveBegin = () => ({\r\n  type: IAPPROVE_FETCH_BEGIN\r\n});\r\n\r\nconst fetchIApproveSuccess = items => ({\r\n  type: IAPPROVE_FETCH_SUCCESS,\r\n  payload: { items }\r\n});\r\n\r\nconst fetchIApproveFailure = errormsg => ({\r\n  type: IAPPROVE_FETCH_FAILURE,\r\n  payload: { errormsg }\r\n});\r\n\r\nexport const fetchSuppliedOperInput = itype => dispatch => {\r\n  dispatch(fetchIApproveBegin());\r\n  axios\r\n    .get(\"/api/operinput/supplied\", { params: { itype } })\r\n    .then(res => {\r\n      //console.log(\"got supplied: \", res.data);\r\n      //const parsed = unpack(res.data, \"supplied\");\r\n      //console.log(\"dispatching fetchIApproveSuccess\")\r\n      dispatch(fetchIApproveSuccess(res.data));\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n      dispatch(fetchIApproveFailure(err.message));\r\n    });\r\n};\r\n\r\nconst iApproveProcessBegin = () => ({\r\n  type: IAPPROVE_PROCESS_BEGIN\r\n});\r\n\r\nconst iApproveProcessSuccess = items => ({\r\n  type: IAPPROVE_PROCESS_SUCCESS,\r\n  payload: { items }\r\n});\r\n\r\nconst iApproveProcessFailure = errormsg => ({\r\n  type: IAPPROVE_PROCESS_FAILURE,\r\n  payload: { errormsg }\r\n});\r\n\r\nexport const submitIApprove = (input, itype) => dispatch => {\r\n  dispatch(iApproveProcessBegin());\r\n  axios\r\n    .post(\"/api/operinput/process-approved\", {\r\n      input: input.filter(i => i.action !== \"none\"),\r\n      itype\r\n    })\r\n    .then(res => {\r\n      //console.log(res.data);\r\n      dispatch(iApproveProcessSuccess(res.data));\r\n    })\r\n    .catch(err => {\r\n      // to neturėtų būti, nes visos klaidos išgaudomos\r\n      console.error(err);\r\n      dispatch(iApproveProcessFailure(err.message));\r\n    })\r\n    // .finally(() => {\r\n    //   console.log(\"dispatching fetchSupplied\");\r\n    //   fetchSuppliedOperInput(itype);\r\n    // });\r\n};\r\n\r\nexport const setItems = items => dispatch => {\r\n  dispatch({ type: IAPPROVE_SET_ITEMS, payload: { items } });\r\n};\r\n","import {\r\n  THINGS_FETCH_BEGIN,\r\n  THINGS_FETCH_SUCCESS,\r\n  THINGS_FETCH_FAILURE,\r\n  LOGOUT\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  data: null,\r\n  isLoading: false,\r\n  errormsg: null\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case THINGS_FETCH_BEGIN:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        errormsg: null,\r\n        data: null\r\n      };\r\n\r\n    case THINGS_FETCH_SUCCESS:\r\n    \r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        errormsg: null,\r\n        data: action.payload.things\r\n      };\r\n\r\n    case THINGS_FETCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        errormsg: action.payload.errormsg,\r\n        data: null\r\n      };\r\n\r\n    // case THINGS_UPDATE_BEGIN:\r\n    //   return {\r\n    //     ...state,\r\n    //     isLoading: true,\r\n    //     error: null,\r\n    //     data: null\r\n    //   };\r\n\r\n    // case THINGS_UPDATE_SUCCESS:\r\n    //   const modifiedData = {\r\n    //     ...state.data,\r\n    //     [action.payload.thingType]: action.payload.things\r\n    //   };\r\n    //   return {\r\n    //     ...state,\r\n    //     isLoading: false,\r\n    //     error: null,\r\n    //     data: modifiedData\r\n    //   };\r\n\r\n    // case THINGS_UPDATE_FAILURE:\r\n    //   return {\r\n    //     ...state,\r\n    //     isLoading: false,\r\n    //     error: action.payload.error,\r\n    //     data: null\r\n    //   };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import isEmpty from \"../validation/is-empty\";\r\nimport { SET_CURRENT_USER, LOGIN_BEGIN, LOGIN_ERROR, LOGOUT } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  user: {},\r\n  isBusy: false,\r\n  errors: {}\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case LOGIN_BEGIN:\r\n      return {\r\n        ...state,\r\n        isBusy: true,\r\n        user: {},\r\n        errors: {},\r\n        isAuthenticated: false\r\n      };\r\n\r\n    case SET_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: !isEmpty(action.payload),\r\n        user: action.payload,\r\n        isBusy: false,\r\n        errors: {}\r\n      };\r\n\r\n    case LOGIN_ERROR:\r\n      return {\r\n        ...state,\r\n        isBusy: false,\r\n        user: {},\r\n        errors: action.payload.errors,\r\n        isAuthenticated: false\r\n      };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n      \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  REGISTER_BEGIN, REGISTER_SUCCESS, REGISTER_ERROR, LOGOUT\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  isBusy: false,\r\n  errors: {}\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case REGISTER_BEGIN:\r\n      return {\r\n        ...state,\r\n        isBusy: true,\r\n        errors: {}\r\n      };\r\n\r\n    case REGISTER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isBusy: false,\r\n        errors: {}\r\n      };\r\n\r\n    case REGISTER_ERROR:\r\n      return {\r\n        ...state,\r\n        isBusy: false,\r\n        errors: action.payload.errors\r\n      };\r\n    \r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export default function getInitialState(iTypes, stateObj) {\r\n  let state = {};\r\n  Object.keys(iTypes).forEach(key => state[iTypes[key]] = {...stateObj});\r\n  return state;\r\n}","import {\r\n  QUERIES_FETCH_BEGIN,\r\n  QUERIES_FETCH_SUCCESS,\r\n  QUERIES_FETCH_FAILURE,\r\n  QUERY_INSERT_BEGIN,\r\n  QUERY_INSERT_SUCCESS,\r\n  QUERY_INSERT_FAILURE,\r\n  QUERY_UPDATE_BEGIN,\r\n  QUERY_UPDATE_SUCCESS,\r\n  QUERY_UPDATE_FAILURE,\r\n  QUERY_DELETE_BEGIN,\r\n  QUERY_DELETE_SUCCESS,\r\n  QUERY_DELETE_FAILURE,\r\n  QUERIES_HIDE_SUCCESS,\r\n  QUERIES_HIDE_ERROR,\r\n  LOGOUT\r\n} from \"../actions/types\";\r\nimport * as iTypes from \"../itypes\";\r\nimport getInitialState from \"./functions/getInitialState\";\r\n\r\nconst stateObj = {\r\n  data: [],\r\n  valid: false,\r\n  isLoading: false,\r\n  error: null,\r\n  successmsg: \"\"\r\n};\r\n\r\nconst initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  let itype;\r\n  let query;\r\n  let queries;\r\n  let id;\r\n  let ind;\r\n\r\n  switch (action.type) {\r\n    case QUERIES_FETCH_BEGIN:\r\n    case QUERY_UPDATE_BEGIN:\r\n    case QUERY_INSERT_BEGIN:\r\n    case QUERY_DELETE_BEGIN:\r\n      itype = action.payload.itype;\r\n      return {\r\n        ...state,\r\n        [itype]: {\r\n          ...state[itype],\r\n          isLoading: true,\r\n          valid: false,\r\n          error: null,\r\n          successmsg: \"\"\r\n        }\r\n      };\r\n\r\n    case QUERIES_FETCH_SUCCESS:\r\n      itype = action.payload.itype;\r\n      // console.log(\"queriesReducer queries-fetch-success action.payload.queries\", action.payload.queries);\r\n      return {\r\n        ...state,\r\n        [itype]: {\r\n          ...state[itype],\r\n          data: action.payload.queries,\r\n          isLoading: false,\r\n          valid: true,\r\n          error: null,\r\n          successmsg: \"\"\r\n        }\r\n      };\r\n\r\n    case QUERY_UPDATE_SUCCESS:\r\n      // console.log(\"Q_U_S action\", action);\r\n      query = action.payload.query;\r\n      itype = action.payload.itype;\r\n      ind = state[itype].data.findIndex(q => q.id === query.id);\r\n\r\n      if (ind < 0) {\r\n        // should not happen\r\n        return {\r\n          ...state,\r\n          [itype]: {\r\n            ...state[itype],\r\n            error: {message: \"Įvyko nesuprantama klaida\"},\r\n            valid: false,\r\n            isLoading: false,\r\n            successmsg: \"\"\r\n          }\r\n        };\r\n      }\r\n\r\n      queries = [\r\n        ...state[itype].data.slice(0, ind),\r\n        query,\r\n        ...state[itype].data.slice(ind + 1)\r\n      ];\r\n\r\n      return {\r\n        ...state,\r\n        [itype]: {\r\n          ...state[itype],\r\n          data: queries,\r\n          isLoading: false,\r\n          error: null,\r\n          valid: true,\r\n          successmsg: \"atnaujinta sėkmingai\"\r\n        }\r\n      };\r\n\r\n    case QUERY_INSERT_SUCCESS:\r\n      // console.log(\"query_insert_success action.payload\", action.payload);\r\n      query = action.payload.query;\r\n      itype = action.payload.itype;\r\n\r\n      // console.log(\"queriesReducer state\", state);\r\n\r\n      queries = [...state[itype].data, query];\r\n      // console.log(\"queriesReducer queries\", queries);\r\n\r\n      return {\r\n        ...state,\r\n        [itype]: {\r\n          ...state[itype],\r\n          data: queries,\r\n          isLoading: false,\r\n          error: null,\r\n          valid: true,\r\n          successmsg: \"sukurta sėkmingai\"\r\n        }\r\n      };\r\n\r\n    case QUERY_DELETE_SUCCESS:\r\n      // console.log(\"QUERY_DELETE_SUCCESS action\", action);\r\n      id = action.payload.id.toString();\r\n      itype = action.payload.itype;\r\n      ind = state[itype].data.findIndex(q => q.id.toString() === id);\r\n      // console.log(\"QUERY_DELETE_SUCCESS index\", ind);\r\n\r\n      if (ind < 0) {\r\n        // should not happen\r\n        //console.log(\"index\", ind);\r\n        \r\n        return {\r\n          ...state,\r\n          [itype]: {\r\n            ...state[itype],\r\n            error: {message: \"Įvyko nesuprantama klaida\"},\r\n            valid: false,\r\n            isLoading: false,\r\n            successmsg: \"\"\r\n          }\r\n        };\r\n      }\r\n\r\n      queries = [\r\n        ...state[itype].data.slice(0, ind),\r\n        ...state[itype].data.slice(ind + 1)\r\n      ];\r\n\r\n      return {\r\n        ...state,\r\n        [itype]: {\r\n          ...state[itype],\r\n          data: queries,\r\n          isLoading: false,\r\n          error: null,\r\n          valid: true,\r\n          successmsg: `id ${id} panaikinta sėkmingai`\r\n        }\r\n      };\r\n\r\n    case QUERIES_FETCH_FAILURE:\r\n    case QUERY_UPDATE_FAILURE:\r\n    case QUERY_INSERT_FAILURE:\r\n    case QUERY_DELETE_FAILURE:\r\n      itype = action.payload.itype;\r\n      return {\r\n        ...state,\r\n        [itype]: {\r\n          ...state[itype],\r\n          isLoading: false,\r\n          error: action.payload.error,\r\n          successmsg: \"\"\r\n        }\r\n      };\r\n\r\n    case QUERIES_HIDE_ERROR:\r\n      itype = action.payload.itype;\r\n      return {\r\n        ...state,\r\n        [itype]: {\r\n          ...state[itype],\r\n          error: null\r\n        }\r\n      };\r\n\r\n    case QUERIES_HIDE_SUCCESS:\r\n      itype = action.payload.itype;\r\n      return {\r\n        ...state,\r\n        [itype]: {\r\n          ...state[itype],\r\n          successmsg: \"\"\r\n        }\r\n      };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  REPORT_BEGIN,\r\n  REPORT_SUCCESS,\r\n  REPORT_ERROR,\r\n  REPORT_ERASE,\r\n  LOGOUT\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  data: {},\r\n  rtype: \"\",\r\n  params: null,\r\n  errormsg: null,\r\n  isLoading: false\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    // begin report\r\n    case REPORT_BEGIN:\r\n      return {\r\n        ...state,\r\n        data: {},\r\n        params: action.payload.params,\r\n        errormsg: null,\r\n        isLoading: true\r\n      };\r\n\r\n    // report success\r\n    case REPORT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: action.payload.report,\r\n        rtype: action.payload.rtype,\r\n        errormsg: null,\r\n        isLoading: false\r\n      };\r\n\r\n    // report error\r\n    case REPORT_ERROR:\r\n      // console.log(\"reducer action.payload.error\", action.payload.error);\r\n      return {\r\n        ...state,\r\n        data: {},\r\n        rtype: \"\",\r\n        errormsg: action.payload.errormsg,\r\n        isLoading: false\r\n      };\r\n\r\n    case REPORT_ERASE:\r\n    case LOGOUT:\r\n      // console.log(\"report reducer erasing report\");\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  JOURNAL_FETCH_BEGIN,\r\n  JOURNAL_FETCH_SUCCESS,\r\n  JOURNAL_FETCH_FAILURE,\r\n  JOURNAL_SET,\r\n  JOURNAL_REMOVE,\r\n  LOGOUT\r\n} from \"../actions/types\";\r\n//import * as iTypes from \"../itypes\";\r\n//import getInitialState from \"./functions/getInitialState\";\r\n\r\nconst stateObj = {\r\n  items: [],\r\n  isBusy: false,\r\n  errormsg: null\r\n};\r\n\r\nconst initialState = {...stateObj};\r\n\r\n//const initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n\r\n    // begin fetch journal\r\n    case JOURNAL_FETCH_BEGIN:\r\n      return {\r\n          items: [],\r\n          isBusy: false,\r\n          errormsg: null\r\n        };\r\n\r\n    // journal has been fetched\r\n    case JOURNAL_FETCH_SUCCESS:\r\n      return {\r\n          items: action.payload.journal,\r\n          isBusy: false,\r\n          errormsg: null\r\n        };\r\n\r\n    // journal fetch failure\r\n    case JOURNAL_FETCH_FAILURE:\r\n      return {\r\n          items: [],\r\n          isBusy: false,\r\n          errormsg: action.payload.errormsg\r\n        };\r\n\r\n    // set journal\r\n    case JOURNAL_SET:\r\n      return {\r\n        items: action.payload.journal,\r\n        isBusy: false,\r\n        errormsg: null\r\n      };\r\n\r\n    // remove journal\r\n    case JOURNAL_REMOVE:\r\n      return {\r\n        items: [],\r\n        isBusy: false,\r\n        errormsg: null\r\n      };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  UNAPPROVED_FETCH_BEGIN,\r\n  UNAPPROVED_FETCH_SUCCESS,\r\n  UNAPPROVED_FETCH_FAILURE,\r\n  OPERINPUT_SUPPLY_BEGIN,\r\n  OPERINPUT_SUPPLY_SUCCESS,\r\n  OPERINPUT_SUPPLY_FAILURE,\r\n  OPERINPUT_ITEMS_SEARCH_BEGIN,\r\n  OPERINPUT_ITEMS_SEARCH_SUCCESS,\r\n  OPERINPUT_ITEMS_SEARCH_FAILURE,\r\n  OPERINPUT_CLEAR,\r\n  OPERINPUT_INFO_REMOVE,\r\n  OPERINPUT_SEARCH_INFO_REMOVE,\r\n  OPERINPUT_SET_ITEMS,\r\n  LOGOUT\r\n} from \"../actions/types\";\r\n\r\nconst stateObj = {\r\n  items: [],\r\n  foundItems: [],\r\n  isLoading: false,\r\n  info: null,\r\n  searchInfo: null\r\n};\r\n\r\nconst initialState = { ...stateObj };\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case UNAPPROVED_FETCH_BEGIN:\r\n    case OPERINPUT_SUPPLY_BEGIN:\r\n      return {\r\n        ...state,\r\n        info: null,\r\n        isLoading: true\r\n      };\r\n\r\n    case OPERINPUT_ITEMS_SEARCH_BEGIN:\r\n      return {\r\n        ...state,\r\n        searchInfo: null,\r\n        isLoading: true\r\n      };\r\n\r\n    case OPERINPUT_SET_ITEMS:\r\n      return {\r\n        ...state,\r\n        items: action.payload.items\r\n      };\r\n\r\n    case UNAPPROVED_FETCH_SUCCESS:\r\n      const items = action.payload.items;\r\n      return {\r\n        ...state,\r\n        items,\r\n        isLoading: false\r\n      };\r\n\r\n    case OPERINPUT_ITEMS_SEARCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        foundItems: action.payload.items,\r\n        isLoading: false\r\n      };\r\n\r\n    case OPERINPUT_SUPPLY_SUCCESS:\r\n      return {\r\n        ...state,\r\n        items: [],\r\n        isLoading: false,\r\n        info: { message: \"Įrašai sėkmingai pateikti\", type: \"success\" }\r\n      };\r\n\r\n    case UNAPPROVED_FETCH_FAILURE:\r\n    case OPERINPUT_SUPPLY_FAILURE:\r\n      return {\r\n        ...state,\r\n        info: { message: action.payload.errormsg, type: \"error\" },\r\n        isLoading: false\r\n      };\r\n\r\n    case OPERINPUT_ITEMS_SEARCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        foundItems: [],\r\n        searchInfo: { message: action.payload.msg, type: action.payload.type },\r\n        isLoading: false\r\n      };\r\n\r\n    case OPERINPUT_CLEAR:\r\n      return {\r\n        ...state,\r\n        items: []\r\n      };\r\n\r\n    case OPERINPUT_INFO_REMOVE:\r\n      return {\r\n        ...state,\r\n        info: null\r\n      };\r\n\r\n    case OPERINPUT_SEARCH_INFO_REMOVE:\r\n      return {\r\n        ...state,\r\n        searchInfo: null\r\n      };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  IAPPROVE_FETCH_BEGIN,\r\n  IAPPROVE_FETCH_SUCCESS,\r\n  IAPPROVE_FETCH_FAILURE,\r\n  IAPPROVE_PROCESS_BEGIN,\r\n  IAPPROVE_PROCESS_SUCCESS,\r\n  IAPPROVE_PROCESS_FAILURE,\r\n  IAPPROVE_INFO_REMOVE,\r\n  IAPPROVE_SET_ITEMS,\r\n  LOGOUT\r\n} from \"../actions/types\";\r\n\r\nconst stateObj = {\r\n  items: [],\r\n  isLoading: false,\r\n  info: null\r\n};\r\n\r\nconst initialState = { ...stateObj };\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case IAPPROVE_FETCH_BEGIN:\r\n    case IAPPROVE_PROCESS_BEGIN:\r\n      return {\r\n        ...state,\r\n        info: null,\r\n        isLoading: true\r\n      };\r\n\r\n    case IAPPROVE_PROCESS_SUCCESS:\r\n    case IAPPROVE_FETCH_SUCCESS:\r\n      //console.log(\"action.payload.items\", action.payload.items);\r\n      const items = action.payload.items.map(i => ({ ...i, action: \"none\" }));\r\n      //console.log(\"items to set store\", items);\r\n      return {\r\n        ...state,\r\n        items,\r\n        isLoading: false\r\n      };\r\n\r\n    // case IAPPROVE_PROCESS_SUCCESS:\r\n    //   return {\r\n    //     ...state,\r\n    //     isLoading: false,\r\n    //     info: { message: action.payload.info.toString(), type: \"info\" }\r\n    //   };\r\n\r\n    case IAPPROVE_FETCH_FAILURE:\r\n    case IAPPROVE_PROCESS_FAILURE:\r\n      return {\r\n        ...state,\r\n        info: { message: action.payload.errormsg, type: \"error\" },\r\n        isLoading: false\r\n      };\r\n\r\n    case IAPPROVE_INFO_REMOVE:\r\n      return {\r\n        ...state,\r\n        info: null\r\n      };\r\n\r\n    case IAPPROVE_SET_ITEMS:\r\n      return {\r\n        ...state,\r\n        items: action.payload.items\r\n      };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ITEMS_FETCH_SUCCESS,\r\n  ITEM_INSERT_SUCCESS,\r\n  ITEM_UPDATE_SUCCESS,\r\n  ITEM_DELETE_SUCCESS,\r\n  LOGOUT\r\n} from \"../../actions/types\";\r\nimport * as iTypes from \"../../itypes\";\r\nimport getInitialState from \"../functions/getInitialState\";\r\n\r\nconst stateObj = [];\r\n\r\nconst initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n\r\n    // fetch items\r\n    case ITEMS_FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: action.payload.items\r\n      };\r\n\r\n    // create item\r\n    case ITEM_INSERT_SUCCESS:\r\n      if (!action.payload.item) return state;\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: [\r\n          ...state[action.payload.itype], \r\n          action.payload.item\r\n        ]\r\n      };\r\n\r\n    // edit item\r\n    case ITEM_UPDATE_SUCCESS:\r\n      if (!action.payload || !action.payload.item) return state;\r\n      const updatedItem = action.payload.item;\r\n      const itype = action.payload.itype;\r\n      const allItems = state[itype];\r\n      let ind = allItems.findIndex(x => x.id === updatedItem.id);\r\n      return {\r\n        ...state,\r\n        [itype]: [\r\n          ...allItems.slice(0, ind),\r\n          updatedItem,\r\n          ...allItems.slice(ind + 1)\r\n        ]\r\n      };\r\n\r\n    // delete item success\r\n    case ITEM_DELETE_SUCCESS:\r\n      if (action.payload.id == null) return state;\r\n      ind = state[action.payload.itype].findIndex(x => x.id === action.payload.id);\r\n      // console.log(\"locally found index of id\", ind, action.payload.id);\r\n      if (ind < 0) return state; // jeigu kartais nerastų tokio id...\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: [\r\n          ...state[action.payload.itype].slice(0, ind),\r\n          ...state[action.payload.itype].slice(ind + 1)\r\n        ]\r\n      };\r\n\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ITEM_DELETE_BEGIN,\r\n  ITEM_DELETE_FAILURE,\r\n\r\n  ITEM_INSERT_BEGIN,\r\n  ITEM_INSERT_FAILURE,\r\n  ITEM_INSERT_FAILURE_NO_RETRY,\r\n\r\n  ITEM_UPDATE_BEGIN,\r\n  ITEM_UPDATE_FAILURE,\r\n  ITEM_UPDATE_FAILURE_NO_RETRY,\r\n  QUERIES_FETCH_FAILURE,\r\n\r\n  ITEMS_FETCH_BEGIN,\r\n  ITEMS_FETCH_FAILURE,\r\n\r\n  ITEM_LIST_SET_ALERT,\r\n  ITEM_LIST_HIDE_ALERT,\r\n  ITEM_EDIT_SET_ALERT,\r\n  ITEM_EDIT_HIDE_ALERT,\r\n\r\n  LOGOUT\r\n} from \"../../actions/types\";\r\nimport * as iTypes from \"../../itypes\";\r\nimport getInitialState from \"../functions/getInitialState\";\r\n\r\nconst stateObj = {\r\n  itemEdit: {\r\n    fatal: null,\r\n    info: null\r\n  }, \r\n  itemList: {\r\n    fatal: null,\r\n    info: null\r\n  }\r\n};\r\n\r\nconst initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ITEMS_FETCH_BEGIN:\r\n    case ITEM_INSERT_BEGIN:\r\n    case ITEM_UPDATE_BEGIN:\r\n    case ITEM_DELETE_BEGIN:\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    case ITEMS_FETCH_FAILURE:\r\n    case QUERIES_FETCH_FAILURE:    \r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype], \r\n          itemList: {\r\n            fatal: {msg: action.payload.errormsg, type: \"error\"},\r\n            info: null\r\n          }\r\n        }\r\n      };\r\n\r\n    case ITEM_DELETE_FAILURE:\r\n    case ITEM_UPDATE_FAILURE_NO_RETRY:\r\n    case ITEM_INSERT_FAILURE_NO_RETRY:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],  \r\n          itemList: {\r\n            fatal: null,\r\n            info: {msg: action.payload.errormsg, type: \"error\"}\r\n          }\r\n        }\r\n      };\r\n\r\n    case ITEM_UPDATE_FAILURE:\r\n    case ITEM_INSERT_FAILURE:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          itemEdit: {\r\n            fatal: null,\r\n            info: {msg: action.payload.errormsg, type: \"error\"}\r\n          }\r\n        }\r\n      };\r\n\r\n    case ITEM_LIST_SET_ALERT:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],  \r\n          itemList: {\r\n            fatal: null,\r\n            info: {msg: action.payload.msg, type: action.payload.type}\r\n          }\r\n        }\r\n      };\r\n\r\n    case ITEM_LIST_HIDE_ALERT:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          itemList: {\r\n            fatal: null,\r\n            info: null\r\n          },\r\n        }\r\n      };\r\n\r\n    case ITEM_EDIT_SET_ALERT:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],  \r\n          itemEdit: {\r\n            fatal: null,\r\n            info: {msg: action.payload.msg, type: action.payload.type}\r\n          }\r\n        }\r\n      };\r\n\r\n    case ITEM_EDIT_HIDE_ALERT:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          itemEdit: {\r\n            fatal: null,\r\n            info: null\r\n          },\r\n        }\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ITEMS_FILTERSORT_APPLIED,\r\n  ITEMS_FILTERSORT_APPLY_ERROR,\r\n  ITEMS_REFRESH,\r\n  LOGOUT\r\n} from \"../../actions/types\";\r\nimport * as iTypes from \"../../itypes\";\r\nimport getInitialState from \"../functions/getInitialState\";\r\n\r\n\r\nconst stateObj = {\r\n  filterText: \"\",\r\n  sortText: \"\",\r\n  errormsg: null\r\n};\r\n\r\nconst initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ITEMS_FILTERSORT_APPLIED:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          filterText: action.payload.filterText,\r\n          sortText: action.payload.sortText,\r\n          errormsg: null\r\n        }\r\n      };\r\n\r\n    case ITEMS_FILTERSORT_APPLY_ERROR:\r\n      const obj = {\r\n        ...state[action.payload.itype],\r\n        errormsg: action.payload.errormsg\r\n      };\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: obj\r\n      };\r\n    \r\n    case ITEMS_REFRESH:\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const pagerSettings = {\r\n  showPageCount: 3,\r\n  navBase: 10\r\n};\r\n\r\n\r\nconst getPagerObj = (itemsPerPage, itemCount, currPageIndex) => {\r\n  const firstItemIndex = currPageIndex * itemsPerPage;\r\n  const halfOfVisible = Math.floor(pagerSettings.showPageCount / 2);\r\n  const pageCount = Math.ceil(itemCount / itemsPerPage);\r\n  const lastPageIndex = pageCount - 1;\r\n  const pagesRight = pageCount - currPageIndex - 1;\r\n  const pagesLeft = currPageIndex;\r\n  let buttons = [];\r\n\r\n  // add current\r\n  buttons.push({\r\n    pageIndex: currPageIndex,\r\n    label: currPageIndex + 1,\r\n    role: \"current\"\r\n  });\r\n\r\n  // add visible left\r\n  let i = 1;\r\n  while (i <= halfOfVisible && currPageIndex - i > 0) {\r\n    buttons.unshift({\r\n      pageIndex: currPageIndex - i,\r\n      label: currPageIndex - i + 1,\r\n      role: \"visible-left\"\r\n    });\r\n    i++;\r\n  }\r\n\r\n  // add visible right\r\n  i = 1;\r\n  while (i <= halfOfVisible && currPageIndex + i < lastPageIndex) {\r\n    buttons.push({\r\n      pageIndex: currPageIndex + i,\r\n      label: currPageIndex + i + 1,\r\n      role: \"visible-right\"\r\n    });\r\n    i++;\r\n  }\r\n\r\n  if (buttons[0].pageIndex > 1) {\r\n    buttons.unshift({\r\n      pageIndex: -1,\r\n      label: \"...\",\r\n      role: \"ellipsis-left\"\r\n    });\r\n\r\n    // count the highest base of navigation\r\n    let maxShifBase = 0;\r\n    while (Math.pow(pagerSettings.navBase, maxShifBase) <= pagesLeft) {\r\n      maxShifBase++;\r\n    }\r\n\r\n    for (i = 0; i < maxShifBase; i++) {\r\n      const shiftedPageIndex = currPageIndex - Math.pow(pagerSettings.navBase, i);\r\n      buttons.unshift({\r\n        pageIndex: shiftedPageIndex,\r\n        label: Array(i + 2).join(\"<\"),\r\n        role: \"shift-back\"\r\n      });\r\n    }\r\n  }\r\n\r\n  if (currPageIndex > 0) {\r\n    buttons.unshift({\r\n      pageIndex: 0,\r\n      label: 1,\r\n      role: \"first-page\"\r\n    });\r\n  }\r\n\r\n  const lastindex = buttons[buttons.length - 1].pageIndex;\r\n\r\n  if (lastindex < lastPageIndex - 1) {\r\n    buttons.push({\r\n      pageIndex: -1,\r\n      label: \"...\",\r\n      role: \"ellipsis-right\"\r\n    });\r\n\r\n    // count the highest base of navigation\r\n    let maxShifBase = 0;\r\n    while (Math.pow(pagerSettings.navBase, maxShifBase) <= pagesRight) {\r\n      maxShifBase++;\r\n    }\r\n\r\n    for (i = 0; i < maxShifBase; i++) {\r\n      const shiftedPageIndex = currPageIndex + Math.pow(pagerSettings.navBase, i);\r\n      buttons.push({\r\n        pageIndex: shiftedPageIndex,\r\n        label: Array(i + 2).join(\">\"),\r\n        role: \"shift-forward\"\r\n      });\r\n    }\r\n  }\r\n\r\n  if (currPageIndex < lastPageIndex) {\r\n    buttons.push({\r\n      pageIndex: lastPageIndex,\r\n      label: lastPageIndex + 1,\r\n      role: \"last-page\"\r\n    });\r\n  }\r\n\r\n  return {\r\n    itemsPerPage,\r\n    currPageIndex,\r\n    firstItemIndex,\r\n    buttons,\r\n  };\r\n}\r\n\r\nexport default getPagerObj;","import {\r\n  ITEMS_PAGE_CHANGE,\r\n  ITEMS_PER_PAGE_CHANGE,\r\n  ITEMS_FILTERSORT_APPLIED,\r\n  ITEMS_REFRESH,\r\n  LOGOUT\r\n} from \"../../actions/types\";\r\nimport getPagerObj from '../functions/getPagerObj';\r\nimport * as iTypes from \"../../itypes\";\r\nimport getInitialState from \"../functions/getInitialState\";\r\n\r\nconst stateObj = {\r\n  itemsPerPage: 0,\r\n  currPageIndex: 0,\r\n  firstItemIndex: 0,\r\n  buttons: [],\r\n};\r\n\r\nconst initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  var pagerObj;\r\n  switch (action.type) {\r\n\r\n    case ITEMS_PAGE_CHANGE:\r\n      if (action.payload.pageIndex === \r\n      state[action.payload.itype].currPageIndex) {\r\n        // tas neturėtų įvykti, nes knopkė su currentPage yra neaktyvi\r\n        return state;\r\n      }\r\n\r\n      pagerObj = getPagerObj(\r\n        state[action.payload.itype].itemsPerPage, \r\n        action.payload.itemCount,\r\n        action.payload.pageIndex);\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: pagerObj\r\n      };\r\n\r\n\r\n    case ITEMS_PER_PAGE_CHANGE:\r\n      if (action.payload.itemsPerPage === state[action.payload.itype].itemsPerPage) {\r\n        return state;\r\n      }\r\n      pagerObj = getPagerObj(\r\n        action.payload.itemsPerPage, \r\n        action.payload.itemCount, \r\n        0);\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: pagerObj\r\n      };\r\n\r\n    case ITEMS_FILTERSORT_APPLIED: \r\n      pagerObj = getPagerObj(10, action.payload.items.length, 0);\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: pagerObj\r\n      };\r\n\r\n    case ITEMS_REFRESH:\r\n    case LOGOUT: \r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n","import {\r\n  ITEM_TOGGLE_FS,\r\n  ITEM_TOGGLE_FS_MANUAL,\r\n  LOGOUT\r\n} from \"../../actions/types\";\r\nimport * as iTypes from \"../../itypes\";\r\nimport getInitialState from \"../functions/getInitialState\";\r\n\r\nconst stateObj = {\r\n  fsOn: false,\r\n  fsManualOn: false\r\n};\r\n\r\nconst initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ITEM_TOGGLE_FS:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          fsOn: !state[action.payload.itype].fsOn\r\n        }\r\n      };\r\n\r\n    case ITEM_TOGGLE_FS_MANUAL:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          fsManualOn: !state[action.payload.itype].fsManualOn\r\n        }\r\n      };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ITEM_DELETE_BEGIN,\r\n  ITEM_DELETE_FAILURE,\r\n  ITEM_DELETE_SUCCESS,\r\n\r\n  ITEM_INSERT_BEGIN,\r\n  ITEM_INSERT_FAILURE,\r\n  ITEM_INSERT_FAILURE_NO_RETRY,\r\n  ITEM_INSERT_SUCCESS,\r\n\r\n  ITEM_UPDATE_BEGIN,\r\n  ITEM_UPDATE_FAILURE,\r\n  ITEM_UPDATE_FAILURE_NO_RETRY,\r\n  ITEM_UPDATE_SUCCESS,\r\n\r\n  ITEMS_FETCH_BEGIN,\r\n  ITEMS_FETCH_FAILURE,\r\n  ITEMS_FETCH_SUCCESS,\r\n\r\n  ITEMS_INVALIDATE,\r\n  LOGOUT\r\n} from \"../../actions/types\";\r\nimport * as iTypes from \"../../itypes\";\r\nimport getInitialState from \"../functions/getInitialState\";\r\n\r\nconst stateObj = {\r\n  isBusy: false,\r\n  all: false\r\n};\r\n\r\nconst initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ITEMS_FETCH_BEGIN:\r\n    case ITEM_INSERT_BEGIN:\r\n    case ITEM_UPDATE_BEGIN:\r\n    case ITEM_DELETE_BEGIN:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          isBusy: true\r\n        }\r\n      };\r\n\r\n    case ITEMS_FETCH_SUCCESS:\r\n    case ITEM_INSERT_SUCCESS:\r\n    case ITEM_UPDATE_SUCCESS:\r\n    case ITEM_DELETE_SUCCESS:\r\n    case ITEMS_FETCH_FAILURE:\r\n    case ITEM_DELETE_FAILURE:\r\n    case ITEM_UPDATE_FAILURE_NO_RETRY:\r\n    case ITEM_INSERT_FAILURE_NO_RETRY:\r\n    case ITEM_UPDATE_FAILURE:\r\n    case ITEM_INSERT_FAILURE:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          isBusy: false\r\n        }\r\n      };\r\n\r\n    case ITEMS_INVALIDATE:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          all: action.payload.all\r\n        }\r\n      };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { \r\n  ITEMS_FILTERSORT_APPLIED,\r\n  ITEMS_INVALIDATE,\r\n  LOGOUT \r\n  } from \"../../actions/types\";\r\nimport * as iTypes from \"../../itypes\";\r\nimport getInitialState from \"../functions/getInitialState\";\r\n\r\nconst stateObj = {data: [], valid: false};\r\n\r\nconst initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    \r\n    case ITEMS_FILTERSORT_APPLIED:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          data: action.payload.items,\r\n          valid: true\r\n        }\r\n      };\r\n    \r\n    case ITEMS_INVALIDATE:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          valid: false\r\n        }\r\n      };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport thingsReducer from \"./thingsReducer\";\r\nimport loginReducer from \"./loginReducer\";\r\nimport registerReducer from \"./registerReducer\";\r\nimport queriesReducer from \"./queriesReducer\";\r\nimport reportReducer from \"./reportReducer\";\r\nimport journalReducer from \"./journalReducer\";\r\nimport operInputReducer from \"./operInputReducer\";\r\nimport iApproveReducer from \"./iApproveReducer\";\r\n\r\nimport allItemsReducer from \"./items/allItemsReducer\";\r\nimport itemAlertingReducer from \"./items/itemAlertingReducer\";\r\nimport itemsFSReducer from \"./items/itemsFSReducer\";\r\nimport itemsPagerReducer from \"./items/itemsPagerReducer\";\r\nimport itemsShowReducer from \"./items/itemsShowReducer\";\r\nimport itemsStatusReducer from \"./items/itemsStatusReducer\";\r\nimport fsedItemsReducer from \"./items/fsedItemsReducer\";\r\n\r\n\r\nexport default combineReducers({\r\n  login: loginReducer,\r\n  things: thingsReducer,\r\n  register: registerReducer,\r\n  queries: queriesReducer,\r\n  report: reportReducer,\r\n  journal: journalReducer,\r\n  operInput: operInputReducer,\r\n  iApprove: iApproveReducer,\r\n\r\n  allItems: allItemsReducer,\r\n  itemAlerting: itemAlertingReducer,\r\n  itemsFS: itemsFSReducer,\r\n  itemsPager: itemsPagerReducer,\r\n  itemsShow: itemsShowReducer,\r\n  itemsStatus: itemsStatusReducer,\r\n  fsedItems: fsedItemsReducer\r\n});\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst initialState = {};\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nconst PrivateRoute = ({component: Component, itype, rtype, isAuthenticated, ...rest}) => (\r\n  <Route \r\n    {...rest}\r\n    render = {props =>\r\n      !isAuthenticated ? <Redirect to='/login' />\r\n      : itype ? <Component {...props} itype={itype} /> \r\n      : rtype ? <Component {...props} rtype={rtype} />\r\n      : <Component {...props} />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.login.isAuthenticated\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Navbar from \"./components/layout/Navbar\";\nimport Landing from \"./components/layout/Landing\";\nimport Footer from \"./components/layout/Footer\";\nimport Login from \"./components/auth/Login\";\nimport Register from \"./components/auth/Register\";\nimport Items from \"./components/items/Items\";\nimport EditItem from './components/items/EditItem';\nimport EditQueries from \"./components/editQueries/EditQueries\";\nimport Report from \"./components/report/Report\";\nimport LoggedIn from \"./components/layout/LoggedIn\";\nimport OperInputSupply from \"./components/operInput/OperInputSupply\";\nimport OperInputApprove from \"./components/operInput/OperInputApprove\";\n\n\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/set-auth-token\";\nimport { setCurrentUser } from \"./actions/loginActions\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport PrivateRoute from './components/common/PrivateRoute';\nimport { logoutUser } from \"./actions/loginActions\";\nimport * as iTypes from \"./itypes\";\nimport * as rTypes from \"./reportTypes\";\n\n// Check for token\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  setAuthToken(localStorage.jwtToken);\n  // Decode token and get user info and exp\n  const decoded = jwt_decode(localStorage.jwtToken);\n  // Set user and isAuthenticated\n  store.dispatch(setCurrentUser(decoded));\n\n  // Check for expired token\n  const currentTime = Date.now() / 1000;\n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser());\n    // Clear current profile from localStorage\n    localStorage.removeItem(\"jwtToken\");\n    // Redirect to login\n    window.location.href = \"/login\";\n  }\n}\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <Router>\n          <div className=\"App\">\n            <Navbar />\n            <Switch>\n              <Route exact path=\"/\" component={Landing} />\n              <PrivateRoute exact path='/logged-in' component={LoggedIn} />\n            </Switch>\n            <div className=\"container\">\n              <Route exact path=\"/login\" component={Login} />\n              <Route exact path=\"/register\" component={Register} />\n            </div>\n            <Switch>\n              <PrivateRoute exact path='/defects' component={Items} itype={iTypes.defect} />\n              <PrivateRoute path='/defects/edit/:id' component={EditItem} itype={iTypes.defect} />\n              <PrivateRoute exact path='/defects/new' component={EditItem} itype={iTypes.defect} />\n              <PrivateRoute exact path='/operinput/supply/defects' component={OperInputSupply} itype={iTypes.defect} />\n              <PrivateRoute exact path='/operinput/approve/defects' component={OperInputApprove} itype={iTypes.defect} />\n              <PrivateRoute exact path='/weldings' component={Items} itype={iTypes.welding} />\n              <PrivateRoute path='/weldings/edit/:id' component={EditItem} itype={iTypes.welding} />\n              <PrivateRoute exact path='/weldings/new' component={EditItem} itype={iTypes.welding} />\n              <PrivateRoute exact path='/operinput/supply/weldings' component={OperInputSupply} itype={iTypes.welding} />\n              <PrivateRoute exact path='/operinput/approve/weldings' component={OperInputApprove} itype={iTypes.welding} />\n              <PrivateRoute exact path='/queries/edit/:itype' component={EditQueries} />\n              <PrivateRoute exact path='/report/defects-undone' component={Report} rtype={rTypes.defectsUndone} key={rTypes.defectsUndone} />\n              <PrivateRoute exact path='/report/defects-undone-count' component={Report} rtype={rTypes.defectsUndoneCount} key={rTypes.defectsUndoneCount} />\n              <PrivateRoute exact path='/report/k33' component={Report} rtype={rTypes.k33} key={rTypes.k33} />\n              <PrivateRoute exact path='/report/to-inspect' component={Report} rtype={rTypes.toInspect} key={rTypes.toInspect} />\n            </Switch>\n            <Footer />\n          </div>\n        </Router>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}