(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t){e.exports.main={id:{type:"integer",label:"id"},oldid:{type:"integer",label:"oldid"},v:{type:"integer",label:"versija"},regbit:{type:"integer",validator:"isNegative",label:"regiono bitas"},linija:{type:"string",required:!0,validator:"isEmptyString",label:"linija"},kelias:{type:"string",required:!0,validator:"isEmptyString",label:"kelias"},km:{type:"integer",required:!0,validator:"isNegative",label:"km"},pk:{type:"integer",required:!0,validator:"isNegative",label:"pk"},m:{type:"integer",required:!0,validator:"isNegative",label:"m"},siule:{type:"string",label:"si\u016bl\u0117"},vbudas:{type:"string",required:!0,validator:"isEmptyString",label:"virinimo b\u016bdas"},virino:{type:"string",required:!0,validator:"isEmptyString",label:"kas virino"},data0:{type:"string",required:!0,validator:"isNotShortDate",label:"virinimo data"},dstop:{type:"integer",validator:"isNegative",label:"statusas"},suvnr:{type:"string",label:"suvnr"},nrschema:{type:"string",label:"nrschema"}},e.exports.journal={jid:{type:"integer",validator:"isNegative",label:"id"},data:{type:"string",required:!0,validator:"isNotShortDate",label:"\u012fra\u0161o data"},oper:{type:"string",required:!0,validator:"isEmptyString",label:"operatoriaus kodas"},apar:{type:"string",required:!0,validator:"isEmptyString",label:"defektoskopo kodas"},pvd:{type:"string",required:!0,validator:"isNotInSet",params:["1","2","3","4","npl","ctrl"],label:"pavadinimas"},note:{type:"string",validator:"wrongLength",params:{min:0,max:255},label:"pastaba"},mainid:{type:"integer",label:"main id"}}},48:function(e,t,a){e.exports=a(77)},53:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"filterReplacements",function(){return me}),a.d(n,"getSortingReplacement",function(){return ue});var r={};a.r(r),a.d(r,"filterReplacements",function(){return de}),a.d(r,"getSortingReplacement",function(){return pe});var i={};a.r(i),a.d(i,"ItemRow",function(){return ge}),a.d(i,"ItemHeadRow",function(){return be});var s={};a.r(s),a.d(s,"ItemRow",function(){return ve}),a.d(s,"ItemHeadRow",function(){return ye});var l={};a.r(l),a.d(l,"defect",function(){return Ne}),a.d(l,"welding",function(){return ke}),a.d(l,"employee",function(){return je});var o={};a.r(o),a.d(o,"SingleRow",function(){return ba}),a.d(o,"HeadRow",function(){return va});var c={};a.r(c),a.d(c,"default",function(){return ya});var m={};a.r(m),a.d(m,"InputRow",function(){return Na}),a.d(m,"InputHeadRow",function(){return ka});var u={};a.r(u),a.d(u,"default",function(){return ja});var d={};a.r(d),a.d(d,"FoundItemRow",function(){return Ia}),a.d(d,"SearchHeadRow",function(){return Oa});var p={};a.r(p),a.d(p,"main",function(){return Ca}),a.d(p,"journal",function(){return _a});var E={};a.r(E),a.d(E,"SingleRow",function(){return Pa}),a.d(E,"HeadRow",function(){return xa});var h={};a.r(h),a.d(h,"default",function(){return Aa});var f={};a.r(f),a.d(f,"InputRow",function(){return Da}),a.d(f,"InputHeadRow",function(){return La});var g={};a.r(g),a.d(g,"default",function(){return Ua});var b={};a.r(b),a.d(b,"FoundItemRow",function(){return Fa}),a.d(b,"SearchHeadRow",function(){return Ma});var v=a(0),y=a.n(v),N=a(39),k=a.n(N),j=a(5),I=a(6),O=a(9),S=a(7),C=a(8),_=(a(53),a(78)),w=a(11),T=a(12),R=a.n(T),P=function(e){e?R.a.defaults.headers.common.Authorization=e:delete R.a.defaults.headers.common.Authorization},x=a(25),A=a.n(x),D="LOGOUT",L=function(e){return{type:"LOGIN_ERROR",payload:{errors:e}}},U=function(e){return{type:"SET_CURRENT_USER",payload:e}},F=function(){return function(e){localStorage.removeItem("jwtToken"),P(!1),e(U({})),e({type:D})}},M=function(e){function t(){return Object(j.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(I.a)(t,[{key:"onLogoutClick",value:function(e){e.preventDefault(),this.props.logoutUser()}},{key:"render",value:function(){var e=this.props.login,t=e.isAuthenticated,a=e.user,n=y.a.createElement("ul",{className:"navbar-nav mr-auto"},y.a.createElement("li",{className:"nav-item"},y.a.createElement(_.a,{className:"nav-link",to:"/weldings"},"Suvirinimai")),y.a.createElement("li",{className:"nav-item"},y.a.createElement(_.a,{className:"nav-link",to:"/defects"},"Defektai")),y.a.createElement("li",{className:"nav-item dropdown"},y.a.createElement(_.a,{className:"nav-link dropdown-toggle",to:"#",id:"reportsDropdown",role:"button","data-toggle":"dropdown"},"Ataskaitos"),y.a.createElement("div",{className:"dropdown-menu"},y.a.createElement(_.a,{className:"dropdown-item",to:"/report/defects-undone"},"Defektai kelyje"),y.a.createElement(_.a,{className:"dropdown-item",to:"/report/defects-undone-count"},"Defektai kelyje - kiekis"),y.a.createElement(_.a,{className:"dropdown-item",to:"/report/k33"},"M\u0117nesio K-33"),y.a.createElement(_.a,{className:"dropdown-item",to:"/report/to-inspect"},"Suvirinimai - galima tikrinti"))),y.a.createElement("li",{className:"nav-item dropdown"},y.a.createElement(_.a,{className:"nav-link dropdown-toggle",to:"#",id:"operInputDropdown",role:"button","data-toggle":"dropdown"},"Operatori\u0173 darbas"),y.a.createElement("div",{className:"dropdown-menu"},y.a.createElement(_.a,{className:"dropdown-item",to:"/operinput/approve/defects"},"Defektai"),y.a.createElement(_.a,{className:"dropdown-item",to:"/operinput/approve/weldings"},"Suvirinimai")))),r=y.a.createElement("ul",{className:"navbar-nav mr-auto"},y.a.createElement("li",{className:"nav-item dropdown"},y.a.createElement(_.a,{className:"nav-link dropdown-toggle",to:"#",id:"operSupplyDropdown",role:"button","data-toggle":"dropdown"},"Perduoti duomenis"),y.a.createElement("div",{className:"dropdown-menu"},y.a.createElement(_.a,{className:"dropdown-item",to:"/operinput/supply/defects"},"Perduoti defektus"),y.a.createElement(_.a,{className:"dropdown-item",to:"/operinput/supply/weldings"},"Perduoti suvirinimus")))),i=y.a.createElement("ul",{className:"navbar-nav mr-auto"},y.a.createElement("li",{className:"nav-item"},y.a.createElement(_.a,{className:"nav-link",to:"/kmv/defects"},"Defektai meistrijos keliuose"))),s=y.a.createElement("ul",{className:"navbar-nav ml-auto"},y.a.createElement("li",{className:"nav-item"},y.a.createElement("span",{className:"navbar-text",style:{marginRight:"10px"}},a.name)),y.a.createElement("li",{className:"nav-item"},y.a.createElement("button",{className:"btn btn-dark",type:"button",onClick:this.onLogoutClick.bind(this)},"Logout"))),l=y.a.createElement("ul",{className:"navbar-nav ml-auto"},y.a.createElement("li",{className:"nav-item"},y.a.createElement(_.a,{className:"nav-link",to:"/register"},"Sign Up")),y.a.createElement("li",{className:"nav-item"},y.a.createElement(_.a,{className:"nav-link",to:"/login"},"Login")));return y.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark mb-4"},y.a.createElement("div",{className:"container"},y.a.createElement(_.a,{className:"navbar-brand",to:"/"},"RLDB"),y.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobile-nav"},y.a.createElement("span",{className:"navbar-toggler-icon"})),y.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},a?"adm"===a.role?n:"oper"===a.role?r:"kmv"===a.role?i:null:null,t?s:l)))}}]),t}(v.Component),H=Object(w.b)(function(e){return{login:e.login}},{logoutUser:F})(M),B=function(e){function t(){return Object(j.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.props.isAuthenticated&&this.props.history.push("/logged-in")}},{key:"render",value:function(){return y.a.createElement("div",{className:"landing"},y.a.createElement("div",{className:"dark-overlay landing-inner text-light"},y.a.createElement("div",{className:"container"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-md-12 text-center"},y.a.createElement("h1",{className:"display-3 mb-4"},"Rail Defect Data Base"),y.a.createElement("p",{className:"lead"},"Manage your data with confidence"),y.a.createElement("hr",null),y.a.createElement(_.a,{to:"/register",className:"btn btn-lg btn-info mr-2"},"Sign Up"),y.a.createElement(_.a,{to:"/login",className:"btn btn-lg btn-light"},"Login"))))))}}]),t}(v.Component),q=Object(w.b)(function(e){return{isAuthenticated:e.login.isAuthenticated}})(B),G=function(){return y.a.createElement("footer",{className:"bg-dark text-white mt-5 p-4 text-center"},"Copyright \xa9 ",(new Date).getFullYear()," RLDB")},V=a(3),Q=a(2),J=a(20),K=a.n(J),Y=function(e){var t=e.type,a=e.id,n=e.label,r=e.name,i=e.placeholder,s=e.value,l=e.error,o=e.info,c=e.onChange,m=e.disabled,u=e.readonly,d=e.autoComplete,p=e.classname,E=e.divClassname;return y.a.createElement("div",{className:E},n&&y.a.createElement("label",{htmlFor:a},n),y.a.createElement("input",{type:t,id:a,className:K()(p,{"is-invalid":l}),name:r,placeholder:i,value:s,onChange:c,autoComplete:d,disabled:m,readOnly:u}),o&&y.a.createElement("small",{className:"form-text text-muted"},o),l&&y.a.createElement("div",{className:"invalid-feedback"},l))};Y.defaultProps={type:"text",autoComplete:"on",classname:"form-control",divClassname:"form-group",onChange:null};var z=Y,X=function(e){var t="none";return e.hasOwnProperty("when")&&!0!==e.when||(t="block"),y.a.createElement("div",{id:"overlay",style:{display:t}},y.a.createElement("div",{className:"loader"}))},W=function(e){var t=e.type,a=e.message,n=e.hide;if(!a)return null;var r,i=t||"error";if("string"===typeof a){if(!(r=a.trim()))return null}else if(Array.isArray(a)){if(0===a.length)return null;r=[],a.forEach(function(e,t){r.push(e),t<a.length-1&&r.push(y.a.createElement("br",null))})}var s="alert alert-".concat({error:"danger",danger:"danger",red:"danger",warning:"warning",yellow:"warning",success:"success",green:"success",info:"info",lightblue:"info",light:"light",white:"light",primary:"primary",blue:"primary",secondary:"secondary",lightgrey:"secondary",dark:"dark",grey:"dark"}[i]).concat(null==n?" alert-dismissible fade show":"");return y.a.createElement("div",{className:s,role:"alert"},r,null==n?null:y.a.createElement("button",{type:"button",className:"close",onClick:n},y.a.createElement("span",null,"\xd7")))},$=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).onChange=function(e){a.setState(Object(V.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={email:a.state.email,password:a.state.password};a.props.loginUser(t)},a.state={email:"",password:""},a.onChange=a.onChange.bind(Object(Q.a)(a)),a.onSubmit=a.onSubmit.bind(Object(Q.a)(a)),a}return Object(C.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.props.login.isAuthenticated&&this.props.history.push("/logged-in")}},{key:"componentDidUpdate",value:function(e){!e.login.isAuthenticated&&this.props.login.isAuthenticated&&this.props.history.push("/logged-in")}},{key:"render",value:function(){var e=this.props.login.errors;return y.a.createElement("div",{className:"login"},y.a.createElement(X,{when:this.props.login.isBusy}),y.a.createElement("div",{className:"container"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-md-8 m-auto"},y.a.createElement("h1",{className:"display-4 text-center"},"Log In"),y.a.createElement("p",{className:"lead text-center"},"Sign in to your RLDB account"),y.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},y.a.createElement(z,{type:"email",name:"email",placeholder:"Email Address",value:this.state.email,onChange:this.onChange,error:e.email}),y.a.createElement(z,{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange,error:e.password}),e.message&&y.a.createElement(W,{message:e.message}),y.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"}))))))}}]),t}(v.Component),Z=Object(w.b)(function(e){return{login:e.login}},{loginUser:function(e){return function(t){t({type:"LOGIN_BEGIN"}),R.a.post("api/users/login",e).then(function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),P(a);var n=A()(a);t(U(n))}).catch(function(e){e.response?t(L(e.response.data)):t(L(e))})}}})($),ee=function(e){return{type:"REGISTER_ERROR",payload:{errors:e}}},te=a(82),ae=function(e){var t=e.options,a=e.name,n=e.id,r=e.value,i=e.onChange,s=e.label,l=e.size,o=e.style,c=e.multiple,m=e.disabled,u=e.classname,d=e.divClassname,p=e.error,E=e.info;return y.a.createElement("div",{className:d},s&&y.a.createElement("label",{htmlFor:n},s),y.a.createElement("select",{className:K()(u,{"is-invalid":p}),name:a,id:n,multiple:c,disabled:m,onChange:i,size:l,style:o,value:r},t),E&&y.a.createElement("small",{className:"form-text text-muted"},E),p&&y.a.createElement("div",{className:"invalid-feedback"},p))};ae.defaultProps={classname:"form-control",divClassname:"form-group"};var ne=ae,re=function(e){return{type:"THINGS_FETCH_SUCCESS",payload:{things:e}}},ie=function(e){return{type:"THINGS_FETCH_FAILURE",payload:{errormsg:e}}},se=function(e){return void 0===e||null===e||e.hasOwnProperty("length")&&0===e.length||e.constructor===Object&&0===Object.keys(e).length},le=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e.name},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){return e.id},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return e.id},i=e.map(function(e){return y.a.createElement("option",{key:n(e),value:r(e)},a(e))});return null!=t&&i.unshift(y.a.createElement("option",{key:"--1",value:" "},t)),i},oe=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).onChange=function(e){a.setState(Object(V.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={name:a.state.name,email:a.state.email,role:a.state.role,region:a.state.region,code:a.state.code,password:a.state.password,password2:a.state.password2};a.props.registerUser(t,a.props.history)},a.state={name:"",email:"",role:"",region:"",password:"",password2:""},a.onChange=a.onChange.bind(Object(Q.a)(a)),a.onSubmit=a.onSubmit.bind(Object(Q.a)(a)),a}return Object(C.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.props.isAuthenticated&&this.props.history.push("/logged-in"),this.props.fetchRegisterThings()}},{key:"render",value:function(){if(this.props.things.errormsg)return y.a.createElement(W,{message:this.props.things.errormsg});var e=this.props.register.errors,t=se(this.props.things.data)||se(this.props.things.data.urole),a=se(this.props.things.data)||se(this.props.things.data.region);return y.a.createElement("div",{className:"register"},y.a.createElement(X,{when:this.props.register.isBusy}),y.a.createElement("div",{className:"container"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-md-8 m-auto"},y.a.createElement("h1",{className:"display-4 text-center"},"Sign Up"),y.a.createElement("p",{className:"lead text-center"},"Create your RLDB account"),e.message&&y.a.createElement(W,{message:e.message}),y.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},y.a.createElement(z,{name:"name",placeholder:"Name",value:this.state.name,onChange:this.onChange,error:e.name,autoComplete:"off"}),y.a.createElement(z,{name:"email",type:"email",placeholder:"Email",value:this.state.email,onChange:this.onChange,error:e.email,autoComplete:"off"}),t?y.a.createElement("input",{className:"form-control form-control-lg",type:"text",value:"waiting for data\u2026",readOnly:!0}):y.a.createElement(ne,{name:"role",options:le(this.props.things.data.urole,"Select Role"),value:this.state.role,onChange:this.onChange,error:e.role}),a?y.a.createElement("input",{className:"form-control form-control-lg",type:"text",value:"waiting for data\u2026",readOnly:!0}):y.a.createElement(ne,{name:"region",options:le(this.props.things.data.region,"Select Region"),value:this.state.region,onChange:this.onChange,error:e.region}),y.a.createElement(z,{name:"code",type:"text",placeholder:"Code",value:this.state.code,onChange:this.onChange,error:e.code,autoComplete:"off"}),y.a.createElement(z,{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange,error:e.password,autoComplete:"off"}),y.a.createElement(z,{type:"password",name:"password2",placeholder:"Retype Password",value:this.state.password2,onChange:this.onChange,error:e.password2,autoComplete:"off"}),y.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"}))))))}}]),t}(v.Component),ce=Object(w.b)(function(e){return{register:e.register,things:e.things,isAuthenticated:e.login.isAuthenticated}},{registerUser:function(e,t){return function(a){a({type:"REGISTER_BEGIN"}),R.a.post("/api/users/register",e).then(function(e){a({type:"REGISTER_SUCCESS"}),t.push("/")}).catch(function(e){e.response?a(ee(e.response.data)):a(ee(e))})}},fetchRegisterThings:function(){return function(e){e({type:"THINGS_FETCH_BEGIN"}),R.a.get("/api/things/register").then(function(t){return e(re(t.data))}).catch(function(t){return e(ie(t.message))})}}})(Object(te.a)(oe)),me={id:"x.id",id1:"x.id1",regbit:"x.regbit",meistrija:"x.meistrija",linija:"x.linija",kelias:"x.kelias",km:"x.km",pk:"x.pk",m:"x.m",siule:"x.siule",kodas:"x.kodas",dl:"x.dl",dh:"x.dh",pavoj:"x.pavoj",kkateg:"x.kkateg",btipas:"x.btipas",bgamykl:"x.bgamykl",bmetai:"x.bmetai",oper:"x.oper",apar:"x.apar",data:"x.data",dtermin:"x.dtermin",dstop:"x.dstop",liko:"(x.dtermin && !x.dstop) && Math.floor((Date.parse(x.dtermin)-Date.now())/86400000)",vt:"(x.kelias && (x.kelias==='1' || x.kelias==='2') && x.km && x.pk && (x.m || x.m===0)) && (x.km*1000+(x.pk-1)*100+x.m)"};function ue(e,t){switch(e){case"id":return t.id;case"id1":return t.id1;case"regbit":return t.regbit;case"meistrija":return t.meistrija;case"linija":return t.linija;case"kelias":return t.kelias;case"km":return t.km;case"pk":return t.pk;case"m":return t.m;case"siule":return t.siule;case"kodas":return t.kodas;case"dl":return t.dl;case"dh":return t.dh;case"pavoj":return t.pavoj;case"kkateg":return t.kkateg;case"btipas":return t.btipas;case"bgamykl":return t.bgamykl;case"bmetai":return t.bmetai;case"oper":return t.oper;case"apar":return t.apar;case"data":return t.data;case"dtermin":return t.dtermin;case"dstop":return t.dstop;case"liko":return t.dtermin&&!t.daction?Math.floor((Date.parse(t.dtermin)-Date.now())/864e5):Number.MAX_SAFE_INTEGER;default:throw new Error("Nesuprantamas rikiavimo parametras "+e)}}var de={id:"x.id",oldid:"x.oldid",regbit:"x.regbit",linija:"x.linija",kelias:"x.kelias",km:"x.km",pk:"x.pk",m:"x.m",siule:"x.siule",vbudas:"x.vbudas",suvnr:"x.suvnr",nrschema:"x.nrschema",data0:"x.data0",dstop:"x.stop",note:"x.note",data:"x.data",oper:"x.oper",apar:"x.apar",name:"x.pvd",defectid:"x.defectid"};function pe(e,t){switch(e){case"id":return t.id;case"oldid":return t.oldid;case"regbit":return t.regbit;case"linija":return t.linija;case"kelias":return t.kelias;case"km":return t.km;case"pk":return t.pk;case"m":return t.m;case"siule":return t.siule;case"vbudas":return t.vbudas;case"suvnr":return t.suvnr;case"nrschema":return t.nrschema;case"data0":return t.data0;case"dstop":return t.dstop;case"note":return t.note;case"data":return t.data;case"apar":return t.apar;case"oper":return t.oper;case"pvd":return t.pvd;case"defectid":return t.defectid;default:throw new Error("Nesuprantamas rikiavimo parametras "+e)}}var Ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null==e?t:e.toString()},he=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return null==e||null==e[t]||null==e[t][a]?n:e[t][a].toString()};var fe,ge=function(e){var t,a=e.item,n=e.editItem,r=e.deleteItem;return y.a.createElement("tr",null,y.a.createElement("td",{className:"regbit"},a.regbit),y.a.createElement("td",{className:"meistrija"},a.meistrija),y.a.createElement("td",{className:"id text-right"},a.id),y.a.createElement("td",{className:"id1 text-right"},a.id1),y.a.createElement("td",{className:"linija"},a.linija),y.a.createElement("td",{className:"kelias"},a.kelias),y.a.createElement("td",{className:"km text-right"},a.km),y.a.createElement("td",{className:"pk text-right"},a.pk),y.a.createElement("td",{className:"m text-right"},a.m),y.a.createElement("td",{className:"siule"},a.siule),y.a.createElement("td",{className:"kodas"},a.kodas),y.a.createElement("td",{className:"dl text-right"},a.dl),y.a.createElement("td",{className:"dh text-right"},a.dh),y.a.createElement("td",{className:"pavoj"},a.pavoj),y.a.createElement("td",{className:"kkateg"},a.kkateg),y.a.createElement("td",{className:"btipas"},a.btipas),y.a.createElement("td",{className:"bgamykl"},a.bgamykl),y.a.createElement("td",{className:"bmetai"},a.bmetai),y.a.createElement("td",{className:"oper"},a.oper),y.a.createElement("td",{className:"apar"},a.apar),y.a.createElement("td",{className:"data"},a.data),y.a.createElement("td",{className:"dtermin"},a.dtermin),y.a.createElement("td",{className:"dstop"},a.dstop),y.a.createElement("td",{className:"liko"},!(t=a).dtermin||t.dstop?"":Math.floor((Date.parse(t.dtermin)-Date.now())/864e5)),y.a.createElement("td",{className:"pastaba"},a.note),y.a.createElement("td",null,y.a.createElement("div",{className:"button-group"},y.a.createElement("button",{className:"btn btn-xs btn-warning","data-id":a.id,onClick:n},y.a.createElement("i",{className:"fas fa-edit","data-id":a.id})),y.a.createElement("button",{className:"btn btn-xs btn-danger","data-id":a.id,"data-v":a.v,onClick:r},y.a.createElement("i",{className:"fas fa-trash-alt","data-id":a.id,"data-v":a.v})))))},be=function(){return y.a.createElement("tr",null,y.a.createElement("th",{className:"region"},"regbit"),y.a.createElement("th",{className:"meistrija"},"meistrija"),y.a.createElement("th",{className:"id"},"id"),y.a.createElement("th",{className:"id1"},"id1"),y.a.createElement("th",{className:"linija"},"linija"),y.a.createElement("th",{className:"kelias"},"kelias"),y.a.createElement("th",{className:"km"},"km"),y.a.createElement("th",{className:"pk"},"pk"),y.a.createElement("th",{className:"m"},"m"),y.a.createElement("th",{className:"siule"},"siule"),y.a.createElement("th",{className:"kodas"},"kodas"),y.a.createElement("th",{className:"dl"},"dl"),y.a.createElement("th",{className:"dh"},"dh"),y.a.createElement("th",{className:"pavoj"},"pavoj"),y.a.createElement("th",{className:"kkateg"},"kkateg"),y.a.createElement("th",{className:"btipas"},"btipas"),y.a.createElement("th",{className:"bgamykl"},"bgamykl"),y.a.createElement("th",{className:"bmetai"},"bmetai"),y.a.createElement("th",{className:"oper"},"oper"),y.a.createElement("th",{className:"apar"},"apar"),y.a.createElement("th",{className:"data"},"data"),y.a.createElement("th",{className:"dtermin"},"dtermin"),y.a.createElement("th",{className:"dstop"},"dstop"),y.a.createElement("th",{className:"liko"},"liko"),y.a.createElement("th",{className:"note"},"note"),y.a.createElement("th",{className:"controls"},"controls"))},ve=function(e){var t=e.item,a=e.editItem,n=e.deleteItem;return y.a.createElement("tr",null,y.a.createElement("td",{className:"regbit"},t.regbit),y.a.createElement("td",{className:"id text-right"},t.id),y.a.createElement("td",{className:"oldid text-right"},t.oldid),y.a.createElement("td",{className:"data"},t.data0),y.a.createElement("td",{className:"virino"},t.virino),y.a.createElement("td",{className:"vbudas"},t.vbudas),y.a.createElement("td",{className:"linija"},t.linija),y.a.createElement("td",{className:"kelias"},t.kelias),y.a.createElement("td",{className:"km text-right"},t.km),y.a.createElement("td",{className:"pk text-right"},t.pk),y.a.createElement("td",{className:"m text-right"},t.m),y.a.createElement("td",{className:"siule"},t.siule),y.a.createElement("td",{className:"suvnr"},t.suvnr),y.a.createElement("td",{className:"nrschema"},t.nrschema),y.a.createElement("td",{className:"data"},t.data),y.a.createElement("td",{className:"pvd"},t.pvd),y.a.createElement("td",{className:"oper"},t.oper),y.a.createElement("td",{className:"apar"},t.apar),y.a.createElement("td",{className:"dstop"},t.dstop),y.a.createElement("td",{className:"pastaba"},t.note),y.a.createElement("td",null,y.a.createElement("div",{className:"button-group"},y.a.createElement("button",{className:"btn btn-xs btn-warning","data-id":t.id,onClick:a},y.a.createElement("i",{className:"fas fa-edit","data-id":t.id})),y.a.createElement("button",{className:"btn btn-xs btn-danger","data-id":t.id,"data-v":t.v,onClick:n},y.a.createElement("i",{className:"fas fa-trash-alt","data-id":t.id,"data-v":t.v})))))},ye=function(){return y.a.createElement("tr",null,y.a.createElement("th",{className:"region"},"regbit"),y.a.createElement("th",{className:"id"},"id"),y.a.createElement("th",{className:"oldid"},"oldid"),y.a.createElement("th",{className:"data"},"data0"),y.a.createElement("th",{className:"virino"},"virino"),y.a.createElement("th",{className:"vbudas"},"vbudas"),y.a.createElement("th",{className:"linija"},"linija"),y.a.createElement("th",{className:"kelias"},"kelias"),y.a.createElement("th",{className:"km"},"km"),y.a.createElement("th",{className:"pk"},"pk"),y.a.createElement("th",{className:"m"},"m"),y.a.createElement("th",{className:"siule"},"siule"),y.a.createElement("th",{className:"suvnr"},"suvnr"),y.a.createElement("th",{className:"nrschema"},"nrschema"),y.a.createElement("th",{className:"data"},"data"),y.a.createElement("th",{className:"pvd"},"pvd"),y.a.createElement("th",{className:"oper"},"oper"),y.a.createElement("th",{className:"apar"},"apar"),y.a.createElement("th",{className:"dstop"},"dstop"),y.a.createElement("th",{className:"note"},"note"),y.a.createElement("th",{className:"controls"},"controls"))},Ne="defect",ke="welding",je="employee",Ie=(fe={},Object(V.a)(fe,Ne,{replacements:n,mainDataForm:function(e){var t=e.item,a=e.onChange,n=e.options;return y.a.createElement("div",{className:"container item-info border border-primary text-center"},y.a.createElement("div",{className:"form-group row main-data text-center"},y.a.createElement(z,{divClassname:"form-group col-3",label:"ID",id:"item-id",name:"id",placeholder:"Defekto ID",readonly:!0,value:Ee(t.id)}),y.a.createElement(z,{divClassname:"form-group col-1",label:"Regionas",id:"item-regbit",name:"regbit",placeholder:"Regionas",readonly:!0,value:Ee(t.regbit)}),y.a.createElement(z,{divClassname:"form-group col-3",label:"ID1",id:"item-id1",name:"id1",placeholder:"Defekto ID1",value:Ee(t.id1),onChange:a}),y.a.createElement(ne,{id:"item-meistrija",name:"meistrija",label:"Meistrija",divClassname:"form-group col-3",value:Ee(t.meistrija),options:n.meistrija,onChange:a}),y.a.createElement(ne,{id:"item-kkateg",name:"kkateg",label:"Kelio kategorija",divClassname:"form-group col-2",value:Ee(t.kkateg),options:n.kkateg,onChange:a})),y.a.createElement("div",{className:"form-group row begis text-center"},y.a.createElement(ne,{id:"item-btipas",divClassname:"form-group col-4",name:"btipas",label:"B\u0117gio tipas",value:Ee(t.btipas),options:n.btipas,onChange:a}),y.a.createElement(ne,{id:"item-bgamykl",divClassname:"form-group col-4",name:"bgamykl",label:"B\u0117gio gamykla",value:Ee(t.bgamykl),options:n.bgamykl,onChange:a}),y.a.createElement(z,{divClassname:"form-group col-4",label:"B\u0117gio gam. metai",id:"item-bmetai",name:"bmetai",placeholder:"B\u0117gio gam. metai",value:Ee(t.bmetai),onChange:a})),y.a.createElement("div",{className:"form-group row vieta text-center"},y.a.createElement(z,{label:"Linija",divClassname:"form-group col-2",id:"item-linija",name:"linija",placeholder:"Linija",value:Ee(t.linija),onChange:a}),y.a.createElement(z,{label:"Kelias",divClassname:"form-group col-2",id:"item-kelias",name:"kelias",placeholder:"Kelio Nr.",value:Ee(t.kelias),onChange:a}),y.a.createElement(z,{label:"km",divClassname:"form-group col-2",id:"item-km",name:"km",placeholder:"km",value:Ee(t.km),onChange:a}),y.a.createElement(z,{label:"pk",divClassname:"form-group col-2",id:"item-pk",name:"pk",placeholder:"pk",value:Ee(t.pk),onChange:a}),y.a.createElement(z,{label:"m",divClassname:"form-group col-2",id:"item-m",name:"m",placeholder:"m",value:Ee(t.m),onChange:a}),y.a.createElement(ne,{id:"item-siule",divClassname:"form-group col-2",name:"siule",label:"Si\u016bl\u0117",value:Ee(t.siule),options:n.siule,onChange:a})),y.a.createElement("div",{className:"form-group row datos text-center"},y.a.createElement(z,{label:"Galutinio panaikinimo data",divClassname:"form-group col-3",type:"date",id:"item-daction",name:"dstop",placeholder:"Panaikinimo data",value:Ee(t.dstop),onChange:a})))},singleRow:i,journalEditForm:function(e){var t=e.jItem,a=e.onChange,n=e.options,r=e.submitJItem,i=e.cancelJItem,s=e.alert;return y.a.createElement("div",{className:"container journal-info border border-primary text-center"},y.a.createElement("div",{className:"form-group row text-center"},s?y.a.createElement("div",{className:"col-12"},y.a.createElement(W,{message:s.msg,type:s.type})):null),y.a.createElement("div",{className:"form-group row text-center"},y.a.createElement(z,{label:"Data",divClassname:"form-group col-4",type:"date",id:"jitem-data",name:"data",value:Ee(t.data),onChange:a}),y.a.createElement(ne,{id:"jitem-oper",name:"oper",label:"Operatorius",divClassname:"form-group col-4",value:Ee(t.oper),options:n.oper,onChange:a}),y.a.createElement(ne,{id:"jitem-apar",name:"apar",label:"Defektoskopas",divClassname:"form-group col-4",value:Ee(t.apar),options:n.apar,onChange:a})),y.a.createElement("div",{className:"form-group row text-center"},y.a.createElement(z,{label:"Kodas",divClassname:"form-group col-3",id:"jitem-kodas",name:"kodas",placeholder:"Kodas",value:Ee(t.kodas),onChange:a}),y.a.createElement(z,{label:"L",divClassname:"form-group col-2",id:"jitem-dl",name:"dl",placeholder:"L",value:Ee(t.dl),onChange:a}),y.a.createElement(z,{label:"H",divClassname:"form-group col-2",id:"jitem-dh",name:"dh",placeholder:"H",value:Ee(t.dh),onChange:a}),y.a.createElement(ne,{id:"jitem-pavoj",name:"pavoj",label:"Pavojingumas",divClassname:"form-group col-2",value:Ee(t.pavoj),options:n.pavoj,onChange:a}),y.a.createElement(z,{label:"Terminas",divClassname:"form-group col-3",type:"date",id:"jitem-termin",name:"dtermin",value:Ee(t.dtermin),onChange:a})),y.a.createElement("div",{className:"form-group row pastaba text-center"},y.a.createElement(z,{label:"Pastaba",divClassname:"form-group col-12",placeholder:"Pastaba",id:"jitem-note",name:"note",value:Ee(t.note),onChange:a})),y.a.createElement("div",{className:"form-group row controls text-center"},y.a.createElement("div",{className:"form-group col-3"},y.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:r},"Submit This Journal Record")),y.a.createElement("div",{className:"form-group col-3"},y.a.createElement("button",{type:"submit",className:"btn btn-light",onClick:i},"Clear"))))},journalRow:function(e){var t=e.jItem,a=e.setForEdit,n=e.deleteJItem,r=e.current;return y.a.createElement("tr",{className:r?"current":void 0},y.a.createElement("td",{className:"id"},t.jid),y.a.createElement("td",{className:"data"},t.data),y.a.createElement("td",{className:"oper"},t.oper),y.a.createElement("td",{className:"apar"},t.apar),y.a.createElement("td",{className:"kodas"},t.kodas),y.a.createElement("td",{className:"dl text-right"},t.dl),y.a.createElement("td",{className:"dh text-right"},t.dh),y.a.createElement("td",{className:"pavoj"},t.pavoj),y.a.createElement("td",{className:"dtermin"},t.dtermin),y.a.createElement("td",{className:"note"},t.note),y.a.createElement("td",null,y.a.createElement("div",{className:"button-group"},y.a.createElement("button",{className:"btn btn-xs btn-warning","data-jid":t.jid,onClick:a},y.a.createElement("i",{className:"fas fa-edit","data-jid":t.jid})),y.a.createElement("button",{className:"btn btn-xs btn-danger","data-jid":t.jid,onClick:n},y.a.createElement("i",{className:"fas fa-trash-alt","data-jid":t.jid})))))},journalListHead:function(){return y.a.createElement("tr",null,y.a.createElement("th",{className:"id"},"id"),y.a.createElement("th",{className:"data"},"data"),y.a.createElement("th",{className:"oper"},"oper"),y.a.createElement("th",{className:"apar"},"apar"),y.a.createElement("th",{className:"kodas"},"kodas"),y.a.createElement("th",{className:"dl"},"dl"),y.a.createElement("th",{className:"dh"},"dh"),y.a.createElement("th",{className:"pavoj"},"pavoj"),y.a.createElement("th",{className:"dtermin"},"dtermin"),y.a.createElement("th",{className:"note"},"note"),y.a.createElement("th",{className:"controls"},"controls"))},listPath:"/defects",panaikinta:function(e){return!!e.dstop}}),Object(V.a)(fe,ke,{replacements:r,mainDataForm:function(e){var t=e.item,a=e.onChange,n=e.options;return y.a.createElement("div",{className:"container item-info border border-primary text-center"},y.a.createElement("div",{className:"form-group row main-data text-center"},y.a.createElement(z,{divClassname:"form-group col-3",label:"ID",id:"item-id",name:"id",placeholder:"Defekto ID",readonly:!0,value:Ee(t.id)}),y.a.createElement(z,{divClassname:"form-group col-3",label:"Senasis ID",id:"item-oldid",name:"oldid",placeholder:"Senasis ID",readonly:!0,value:Ee(t.oldid)}),y.a.createElement(z,{divClassname:"form-group col-2",label:"Regionas",id:"item-regbit",name:"regbit",placeholder:"Regionas",readonly:!0,value:Ee(t.regbit)})),y.a.createElement("div",{className:"form-group row virino text-center"},y.a.createElement(z,{id:"item-data0",divClassname:"form-group col-4",type:"date",name:"data0",label:"Virinimo data",value:Ee(t.data0),onChange:a}),y.a.createElement(ne,{id:"item-virino",divClassname:"form-group col-4",name:"virino",label:"Kas virino",value:Ee(t.virino),options:n.virino,onChange:a}),y.a.createElement(ne,{id:"item-vbudas",divClassname:"form-group col-4",name:"vbudas",label:"Virinimo b\u016bdas",value:Ee(t.vbudas),options:n.vbudas,onChange:a})),y.a.createElement("div",{className:"form-group row vieta text-center"},y.a.createElement(z,{label:"Linija",divClassname:"form-group col-2",id:"item-linija",name:"linija",placeholder:"Linija",value:Ee(t.linija),onChange:a}),y.a.createElement(z,{label:"Kelias",divClassname:"form-group col-2",id:"item-kelias",name:"kelias",placeholder:"Kelio Nr.",value:Ee(t.kelias),onChange:a}),y.a.createElement(z,{label:"km",divClassname:"form-group col-2",id:"item-km",name:"km",placeholder:"km",value:Ee(t.km),onChange:a}),y.a.createElement(z,{label:"pk",divClassname:"form-group col-2",id:"item-pk",name:"pk",placeholder:"pk",value:Ee(t.pk),onChange:a}),y.a.createElement(z,{label:"m",divClassname:"form-group col-2",id:"item-m",name:"m",placeholder:"m",value:Ee(t.m),onChange:a}),y.a.createElement(ne,{id:"item-siule",divClassname:"form-group col-2",name:"siule",label:"Si\u016bl\u0117",value:Ee(t.siule),options:n.siule,onChange:a}),y.a.createElement(z,{label:"Suvir. Nr.",divClassname:"form-group col-2",id:"item-suvnr",name:"suvnr",placeholder:"suv nr",value:Ee(t.suvnr),onChange:a}),y.a.createElement(z,{label:"Nr. pagal schem\u0105",divClassname:"form-group col-2",id:"item-nrschema",name:"nrschema",placeholder:"nrschema",value:Ee(t.nrschema),onChange:a})),y.a.createElement("div",{className:"form-group row datos text-center"},y.a.createElement(ne,{id:"item-dstop",divClassname:"form-group col-3",name:"dstop",label:"B\u016bsena",value:Ee(t.dstop),options:n.itemStatus,onChange:a})))},singleRow:s,journalEditForm:function(e){var t=e.jItem,a=e.onChange,n=e.options,r=e.submitJItem,i=e.cancelJItem,s=e.alert;return y.a.createElement("div",{className:"container journal-info border border-primary text-center"},y.a.createElement("div",{className:"form-group row text-center"},s?y.a.createElement("div",{className:"col-12"},y.a.createElement(W,{message:s.msg,type:s.type})):null),y.a.createElement("div",{className:"form-group row text-center"},y.a.createElement(z,{label:"Data",divClassname:"form-group col-3",type:"date",id:"jitem-data",name:"data",value:Ee(t.data),onChange:a}),y.a.createElement(ne,{id:"jitem-oper",name:"oper",label:"Operatorius",divClassname:"form-group col-3",value:Ee(t.oper),options:n.oper,onChange:a}),y.a.createElement(ne,{id:"jitem-apar",name:"apar",label:"Defektoskopas",divClassname:"form-group col-3",value:Ee(t.apar),options:n.apar,onChange:a})),y.a.createElement("div",{className:"form-group row text-center"},y.a.createElement(ne,{id:"jitem-pvd",name:"pvd",label:"Pavadinimas",divClassname:"form-group col-3",value:Ee(t.pvd),options:n.vpvd,onChange:a}),y.a.createElement(z,{divClassname:"form-group col-9",label:"Pastaba",id:"jitem-jnote",name:"note",placeholder:"Pastaba",value:Ee(t.note),onChange:a})),y.a.createElement("div",{className:"form-group row controls text-center"},y.a.createElement("div",{className:"form-group col-3"},y.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:r},"Submit This Journal Record")),y.a.createElement("div",{className:"form-group col-3"},y.a.createElement("button",{type:"submit",className:"btn btn-light",onClick:i},"Clear"))))},journalRow:function(e){var t=e.jItem,a=e.setForEdit,n=e.deleteJItem,r=e.current,i=e.things;return y.a.createElement("tr",{className:r?"current":void 0},y.a.createElement("td",{className:"id"},t.jid),y.a.createElement("td",{className:"data"},t.data),y.a.createElement("td",{className:"oper"},t.oper),y.a.createElement("td",{className:"apar"},t.apar),y.a.createElement("td",{className:"pvd"},i.vpvd.find(function(e){return e.pvdid===t.pvd}).pvdname),y.a.createElement("td",{className:"note"},t.note),y.a.createElement("td",null,y.a.createElement("div",{className:"button-group"},y.a.createElement("button",{className:"btn btn-xs btn-warning","data-jid":t.jid,onClick:a},y.a.createElement("i",{className:"fas fa-edit","data-jid":t.jid})),y.a.createElement("button",{className:"btn btn-xs btn-danger","data-jid":t.jid,onClick:n},y.a.createElement("i",{className:"fas fa-trash-alt","data-jid":t.jid})))))},journalListHead:function(){return y.a.createElement("tr",null,y.a.createElement("th",{className:"id"},"id"),y.a.createElement("th",{className:"data"},"data"),y.a.createElement("th",{className:"oper"},"oper"),y.a.createElement("th",{className:"apar"},"apar"),y.a.createElement("th",{className:"pvd"},"pavadinimas"),y.a.createElement("th",{className:"note"},"pastaba"),y.a.createElement("th",{className:"controls"},"controls"))},listPath:"/weldings",panaikinta:function(e){return 0===e.dstop||"0"===e.dstop}}),fe),Oe=function(e){var t=e.items,a=e.editItem,n=e.deleteItem,r=e.itype;if(t.length<1)return y.a.createElement("div",{className:"alert alert-info"},"There's no items for this view.");var i=Ie[r].singleRow,s=i.ItemRow,l=t.map(function(e){return y.a.createElement(s,{item:e,editItem:a,deleteItem:n,key:e.id})});return y.a.createElement("table",{className:"table table-sm table-striped table-bordered items",style:{fontSize:".9rem"}},y.a.createElement("thead",null,i.ItemHeadRow()),y.a.createElement("tbody",null,l))},Se=function(e){var t=e.total,a=e.inView;return y.a.createElement("div",{className:"alert alert-info",role:"alert"},t," items total, ",a," items in this view")};Se.defaultProps={total:0,inView:0};var Ce=Se,_e=function(e){var t=e.buttons,a=e.onPageChanged,n=[];return t.forEach(function(e){return n.push(function(e){return"ellipsis-left"===e.role||"ellipsis-right"===e.role?y.a.createElement("li",{key:e.role+e.pageIndex,className:"page-item ellipsis"},e.label):y.a.createElement("li",{key:e.role+e.pageIndex,className:"page-item",onClick:"current"!==e.role?function(t){return a(e.pageIndex,t)}:null},y.a.createElement("button",{className:"page-link "+e.role,onClick:function(e){return e.preventDefault()}},e.label))}(e))}),y.a.createElement("nav",null,y.a.createElement("ul",{className:"pagination"},n))},we=function(e){var t=e.firstItemLabel,a=e.lastItemLabel;return y.a.createElement("div",{className:"alert alert-info",role:"alert"},"Items: ",t,"-",a)},Te=function(e){var t=e.availableItemsPerPage,a=e.onItemsPerPageChanged,n=e.itemsPerPage,r=le(t,"",function(e){return e},function(e){return e},function(e){return e});return y.a.createElement(ne,{options:r,name:"items-per-page",onChange:a,value:n+""})},Re={availableItemsPerPage:[10,20,50]},Pe=function(e){var t=e.firstItemIndex,a=e.buttons,n=e.itemsPerPage,r=e.onPageChanged,i=e.onItemsPerPageChanged,s=e.itemCount;return y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-7"},y.a.createElement(_e,{buttons:a,onPageChanged:r})),y.a.createElement("div",{className:"col-2"},y.a.createElement(Te,{availableItemsPerPage:Re.availableItemsPerPage,onItemsPerPageChanged:i,itemsPerPage:n})),y.a.createElement("div",{className:"col-3"},y.a.createElement(we,{firstItemLabel:t+1,lastItemLabel:Math.min(t+n,s)})))},xe=function(e){var t=e.body,a=e.title,n=e.confirmHandler,r=e.rejectHandler,i=e.show;return y.a.createElement("div",{className:"my-modal",style:i?{display:"block"}:{display:"none"},id:"confirmation-modal",tabIndex:"-1"},y.a.createElement("div",{className:"modal-content"},y.a.createElement("div",{className:"modal-header"},y.a.createElement("h5",{className:"modal-title",id:"confirmationTitle"},a),y.a.createElement("button",{type:"button",className:"reject-button",onClick:r},"\xd7")),y.a.createElement("div",{className:"modal-body"},t),y.a.createElement("div",{className:"modal-footer"},y.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:r},"Close"),y.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:n},"Confirm"))))},Ae=a(42),De=a.n(Ae);var Le=function(e,t,a){var n='<?xml version="1.0" encoding="UTF-8"?>';return n+="<".concat(t,">"),e.forEach(function(e,t){return n+="<".concat(a,' index="').concat(t,'">')+function(e,t){var a=function e(t,a,n){var r="";if(t instanceof Array)for(var i=0,s=t.length;i<s;i++)r+=n+e(t[i],a,n+"\t")+"\n";else if("object"==typeof t){var l=!1;for(var o in r+=n+"<"+a,t)"@"===o.charAt(0)?r+=" "+o.substr(1)+'="'+t[o].toString()+'"':l=!0;if(r+=l?">":"/>",l){for(var c in t)"#text"===c?r+=t[c]:"#cdata"===c?r+="<![CDATA["+t[c]+"]]>":"@"!==c.charAt(0)&&(r+=e(t[c],c,n+"\t"));r+=("\n"===r.charAt(r.length-1)?n:"")+"</"+a+">"}}else r+=n+"<"+a+">"+t.toString()+"</"+a+">";return r},n="";for(var r in e)n+=a(e[r],r,"");return t?n.replace(/\t/g,t):n.replace(/\t|\n/g,"")}(e)+"</".concat(a,">")}),n+="</".concat(t,">")},Ue=[{convert:JSON.stringify,label:"JSON",defaultFnFunction:function(){return"json_items"},fnExtension:".json"},{convert:function(e){return De.a.parse(e,{delimiter:";"})},label:"CSV",defaultFnFunction:function(){return"csv_items"},fnExtension:".csv"},{convert:function(e){return Le(e,"items","item")},label:"XML",defaultFnFunction:function(){return"xml_items"},fnExtension:".xml"}],Fe=a(43),Me=a.n(Fe),He=a(44),Be=a.n(He),qe=function(e){var t=e.convertItems,a=e.label,n=e.fname,r=e.getItems;if(!r)return null;var i=n;return y.a.createElement("button",{className:"btn",type:"button",onClick:function(){return Be.a.saveAs(new Me.a([t(r())],{type:"text/plain;charset=utf-8"}),i)}},a)},Ge=function(e){var t=e.getItems,a=Ue.map(function(e){return y.a.createElement(qe,{convertItems:e.convert,label:e.label,fname:e.defaultFnFunction()+e.fnExtension,getItems:t,key:e.label})});return y.a.createElement("div",{className:"btn-group",role:"group"},a)},Ve=function(e){var t=e.classname,a=e.divClassname,n=e.name,r=e.rows,i=e.placeholder,s=e.readonly,l=e.value,o=e.error,c=e.info,m=e.onChange,u=e.style,d=e.id;return y.a.createElement("div",{className:a},y.a.createElement("textarea",{className:K()(t,{"is-invalid":o}),name:n,rows:r,placeholder:i,value:l,onChange:m,style:u,id:d,readOnly:s}),c&&y.a.createElement("small",{className:"form-text text-muted"},c),o&&y.a.createElement("div",{className:"invalid-feedback"},o))};Ve.defaultProps={classname:"form-control",divClassname:"form-group",onChange:null};var Qe=Ve,Je=function(e){var t=e.filterText,a=e.onChange,n=e.clearText,r=e.valid;return y.a.createElement(y.a.Fragment,null,y.a.createElement("h5",null,"Filter ",y.a.createElement("button",{className:"btn btn-sm btn-light",onClick:n},"Clear")),y.a.createElement(Qe,{name:"filter",rows:"3",onChange:a,value:t,valid:r}))};Je.defaultProps={filterText:""};var Ke=Je,Ye=function(e){var t=e.sortText,a=e.onChange,n=e.clearText,r=e.valid;return y.a.createElement(y.a.Fragment,null,y.a.createElement("h5",null,"Sort ",y.a.createElement("button",{className:"btn btn-sm btn-light",onClick:n},"Clear")),y.a.createElement(Qe,{name:"filter",rows:"3",onChange:a,value:t,valid:r}))};Ye.defaultProps={sortText:""};var ze=Ye,Xe=function(e){var t=e.queries,a=e.onChange,n=e.value;return y.a.createElement(ne,{options:le(t,"Filter-Sort Queries"),name:"fsqueries",value:n||"",placeholder:"Queries",onChange:a,size:"6",style:{fontSize:".95rem"}})},We=function(){return y.a.createElement("div",{className:"manual border p-2 mt-2"},y.a.createElement("p",null,"Skai\u010diais yra i\u0161reik\u0161ti \u0161ie laukai: ",y.a.createElement("span",{className:"fn"},"km"),","," ",y.a.createElement("span",{className:"fn"},"pk"),", ",y.a.createElement("span",{className:"fn"},"m"),","," ",y.a.createElement("span",{className:"fn"},"metai")," (turimi omeny b\u0117gio valcavimo metai). Vis\u0173 kit\u0173 lauk\u0173 reik\u0161m\u0117s i\u0161reik\u0161tos tekstu, tod\u0117l filtravimo s\u0105lygose j\u0173 reik\u0161m\u0117s turi b\u016bti ra\u0161omos kabut\u0117se. Pvz.:"," ",y.a.createElement("span",{className:"cd"},"meistrij != '11' && km <= 211 && (kkateg = '2' || kkateg = '1')")),y.a.createElement("p",null,"Su skai\u010diais i\u0161reik\u0161t\u0173 lauk\u0173 reik\u0161m\u0117mis galima atlikti aritmetikos veiksmus. Vietos koordina\u010di\u0173 pagrindiniame kelyje palyginimui galima naudoti i\u0161rai\u0161k\u0105 ",y.a.createElement("span",{className:"cd"},"_m_")," (metrai), kurios reik\u0161m\u0117 yra"," ",y.a.createElement("span",{className:"cd"},"km*1000\xa0+\xa0(pk-1)*100\xa0+\xa0m"),", ir kuri fakti\u0161kai rei\u0161kia kelio koordinat\u0119, i\u0161reik\u0161t\u0105 metrais. Pavyzd\u017eiui, norint i\u0161filtruoti visus defektus, kurie yra nuo 214.03.65 iki 222.05.99, galima ra\u0161yti filtravimo s\u0105lyg\u0105"," ",y.a.createElement("span",{className:"cd"},"_m_ >= 214265 && _m_ <= 222499"),". Atkreipti d\u0117mes\u012f, kad piketo reik\u0161m\u0117 ma\u017einama vienetu. Kabut\u0117s negalimos."),y.a.createElement("p",null,"Pana\u0161i \u012f ",y.a.createElement("span",{className:"cd"},"_m_")," i\u0161rai\u0161k\u0105 vietos koordinatei pagrindiniame kelyje nurodyti yra ",y.a.createElement("span",{className:"cd"},"_k_")," (koordinat\u0117). Tik \u010dia formatas yra: ",y.a.createElement("span",{className:"cd"},"km.pk.m"),". Pavyzd\u017eiui, norint i\u0161filtruoti visus defektus, kurie yra nuo 74.03.65 iki 112.10.09, galima ra\u0161yti filtravimo s\u0105lyg\u0105"," ",y.a.createElement("span",{className:"cd"},"_k_ >= 74.3.65 && _k_ <= 112.10.9"),". \u010cia piketas ra\u0161omas toks kaip defekto kode. Piketams ir metrams nuliai priekyje neb\u016btini. Piketas tur\u0117t\u0173 b\u016bti skai\u010dius nuo 1 iki 10, metrai - skai\u010dius nuo 0 iki 99. Kabut\u0117s negalimos."),y.a.createElement("p",null,"Laukai ",y.a.createElement("span",{className:"fn"},"action"),","," ",y.a.createElement("span",{className:"fn"},"data"),", ",y.a.createElement("span",{className:"fn"},"oper"),","," ",y.a.createElement("span",{className:"fn"},"apar"),", ",y.a.createElement("span",{className:"fn"},"kodas"),","," ",y.a.createElement("span",{className:"fn"},"dh"),", ",y.a.createElement("span",{className:"fn"},"dl"),","," ",y.a.createElement("span",{className:"fn"},"pavoj")," - yra history \u012fra\u0161uose, kuri\u0173 vienas defektas gali tur\u0117ti kelis. ",y.a.createElement("span",{className:"fn"},"action")," ",y.a.createElement("span",{className:"fv"},'"aptikta"')," ir"," ",y.a.createElement("span",{className:"fv"},'"perra\u0161yta"')," atlieka tik operatorius,"," ",y.a.createElement("span",{className:"fv"},'"pakeista"'),","," ",y.a.createElement("span",{className:"fv"},'"tvarsliuota"'),","," ",y.a.createElement("span",{className:"fv"},'"pervirinta"')," alieka tik eksploatacija."),y.a.createElement("p",null,"Skirting\u0173 history \u012fra\u0161\u0173 laukus galima pasiekti:"),y.a.createElement("ul",null,y.a.createElement("li",null,y.a.createElement("em",null,"paties pirmojo")," history \u012fra\u0161o - prie lauko pavadinimo pridedant gal\u016bn\u0119 ",y.a.createElement("span",{className:"cd"},"_0"),":"," ",y.a.createElement("span",{className:"fn"},"action_0"),","," ",y.a.createElement("span",{className:"fn"},"pavoj_0"),", ",y.a.createElement("span",{className:"fn"},"dh_0")," ","ir pan. Pvz.:",y.a.createElement("br",null),y.a.createElement("span",{className:"cd"},"kodas_0 = '17.2' && pavoj_0 = 'D3'"),y.a.createElement("br",null),"(pats pirmasis history \u012fra\u0161as bus atliktas operatoriaus, nes defektus randa operatoriai);"),y.a.createElement("li",null,"pirmojo ",y.a.createElement("em",null,"eksploatacijos")," atlikto history \u012fra\u0161o - prie lauko pavadinimo pridedant gal\u016bn\u0119 ",y.a.createElement("span",{className:"cd"},"_ex0"),":"," ",y.a.createElement("span",{className:"fn"},"action_ex0"),","," ",y.a.createElement("span",{className:"fn"},"date_ex0"),". Pvz.:",y.a.createElement("br",null),y.a.createElement("span",{className:"cd"},"date_ex0 < '2017-02-18' && action_ex0 = 'tvarsliuota'"),";"),y.a.createElement("li",null,y.a.createElement("em",null,"paties paskutiniojo")," history \u012fra\u0161o - prie lauko pavadinimo pridedant gal\u016bn\u0119 ",y.a.createElement("span",{className:"cd"},"_9"),":"," ",y.a.createElement("span",{className:"fn"},"action_9"),","," ",y.a.createElement("span",{className:"fn"},"pavoj_9"),", ",y.a.createElement("span",{className:"fn"},"dh_9")," ","ir pan. Pvz.:",y.a.createElement("br",null),y.a.createElement("span",{className:"cd"},"kodas_9 = '17.2' && pavoj_9 = 'D3'"),";"),y.a.createElement("li",null,"paskutiniojo ",y.a.createElement("em",null,"operatoriaus")," atlikto veiksmo \u012fra\u0161o - prie lauko pavadinimo pridedant gal\u016bn\u0119 ",y.a.createElement("span",{className:"cd"},"_op9"),":"," ",y.a.createElement("span",{className:"fn"},"action_op9"),","," ",y.a.createElement("span",{className:"fn"},"pavoj_op9"),","," ",y.a.createElement("span",{className:"fn"},"dh_op9")," ir pan. Pvz.:",y.a.createElement("br",null),y.a.createElement("span",{className:"cd"},"kodas_op9 = '17.2' && pavoj_op9 = 'D3'"),";"),y.a.createElement("li",null,"paskutiniojo ",y.a.createElement("em",null,"eksploatacijos")," atlikto veiksmo \u012fra\u0161o - prie lauko pavadinimo pridedant gal\u016bn\u0119 ",y.a.createElement("span",{className:"cd"},"_ex9"),":"," ",y.a.createElement("span",{className:"fn"},"action_ex9"),","," ",y.a.createElement("span",{className:"fn"},"pavoj_ex9"),","," ",y.a.createElement("span",{className:"fn"},"dh_ex9"),". Pvz.:",y.a.createElement("br",null),y.a.createElement("span",{className:"cd"},"date_ex9 < '2017-02-18' && action_ex9 = 'tvarsliuota'"),";"),y.a.createElement("li",null,"norint nurodyti, kad salyg\u0105 tur\u0117t\u0173 tenkinti ",y.a.createElement("em",null,"kuris nors")," i\u0161 history \u012fra\u0161\u0173 ",y.a.createElement("em",null,"arba keli"),", s\u0105lygos rei\u0161kiniai \u012fra\u0161omi \u012f funkcij\u0105 ",y.a.createElement("span",{className:"cd"},"some"),", o prie lauk\u0173 pavadinim\u0173 pridedama gal\u016bn\u0117 ",y.a.createElement("span",{className:"fn"},"_x"),".",y.a.createElement("br",null),"Pavyzd\u017eiui, u\u017era\u0161as"," ",y.a.createElement("span",{className:"cd"},"some(apar_x = '806' && data < '2017-01-01')")," ","rei\u0161kia, kad ie\u0161koma toki\u0173 defekt\u0173, kuri\u0173 history tur\u0117t\u0173 bent vien\u0105 \u012fra\u0161\u0105, kuriame b\u016bt\u0173 nurodytas aparato kodas 806 ir to \u012fra\u0161o data b\u016bt\u0173 ankstesn\u0117 nei 2017 metai.")),y.a.createElement("p",null,"Sakykime, norime rasti visus \u0161iuo metu sutvarsliuotus defektus kelyje. Tada j\u0173 pats paskutinis ",y.a.createElement("em",null,"eksploatacijos atliktas")," \u012fra\u0161as tur\u0117t\u0173 tur\u0117ti ",y.a.createElement("span",{className:"fn"},"action")," reik\u0161m\u0119"," ",y.a.createElement("span",{className:"fv"},'"tvarsliuota"'),". Filtras b\u016bt\u0173"," ",y.a.createElement("span",{className:"cd"},"action_ex9 = 'tvarsliuota'"),"."),y.a.createElement("p",null,"Sakykime, norime rasti visus defektus, kurie kada nors buvo tvarsliuoti. Tada j\u0173 history tur\u0117t\u0173 tur\u0117ti ",y.a.createElement("em",null,"bent vien\u0105")," \u012fra\u0161\u0105, kurio"," ",y.a.createElement("span",{className:"fn"},"action")," reik\u0161m\u0117 b\u016bt\u0173"," ",y.a.createElement("span",{className:"fv"},'"tvarsliuota"'),". Filtras b\u016bt\u0173"," ",y.a.createElement("span",{className:"cd"},"some(action_x = 'tvarsliuota')"),"."),y.a.createElement("p",null,"Sakykime, norime rasti visus defektus, kurie \u0161iuo metu yra sutvarsliuoti ir kuriems po sutvarsliavimo ka\u017ekas keit\u0117si. Tada j\u0173 pats paskutinis"," ",y.a.createElement("em",null,"eksploatacijos atliktas")," \u012fra\u0161as tur\u0117t\u0173 tur\u0117ti"," ",y.a.createElement("span",{className:"fn"},"action")," reik\u0161m\u0119"," ",y.a.createElement("span",{className:"fv"},'"tvarsliuota"'),", o pats"," ",y.a.createElement("em",null,"apskritai paskutinis")," \u012fra\u0161as tur\u0117t\u0173 tur\u0117ti"," ",y.a.createElement("span",{className:"fn"},"action")," reik\u0161m\u0119"," ",y.a.createElement("span",{className:"fv"},'"perrasyta"'),". Filtras b\u016bt\u0173"," ",y.a.createElement("span",{className:"cd"},"action_ex9 = 'tvarsliuota' && action_9 = 'perrasyta'"),"."))},$e=a(1),Ze=function(e){for(var t,a,n=/\b(\d{1,3})\.(\d{1,2})\.(\d{1,2})\b/g,r=e;null!==(t=n.exec(e));)a=1e3*parseInt(t[1],10)+100*(parseInt(t[2],10)-1)+parseInt(t[3],10),r=r.replace(t[0],a);return r};function et(e,t){if(!e||!e.trim())return function(e){return!0};var a="return "+function(e,t){var a=Ze(e);return a=a.replace(/=+/g,"===").replace(/!=+/g," !== ").replace(/>=+/g," >= ").replace(/<=+/g," <= ").replace(/<>/g," !== ").replace(/&+/g," && ").replace(/\|+/g," || ").replace(/\s+/g," "),Object.keys(t).forEach(function(e){var n=new RegExp("(\\b[\\W]*)("+e+")([\\W]*\\b)","g");a=a.replace(n,"$1"+t[e]+"$3")}),a}(e,t);return new Function("x",a)}function tt(e,t){return e&&e.trim()?(a=e.split(/[\s,;]/).filter(function(e){return""!==e}),n=t,function(e,t){return a.map(function(a){var r=a,i=1;return"-"===a[0]&&(i=-1,r=a.substring(1)),n(r,e)>n(r,t)?i:n(r,e)<n(r,t)?-i:0}).reduce(function(e,t){return e||t},0)}):function(e,t){return 0};var a,n}var at=function(e,t,a){var n=Ie[a].replacements;return{filter:et(e,n.filterReplacements),sort:tt(t,n.getSortingReplacement)}},nt=function(e,t){return e.data>t.data?1:e.data<t.data?-1:e.id>t.id?1:e.id<t.id?-1:0},rt=function(e){return e.map(function(e){return"id".concat(e.id,"-").concat(e.key,": ").concat(e.msg)})},it=function(e,t,a){return{type:"ITEM_LIST_SET_ALERT",payload:{itype:e,msg:t,type:a}}},st=function(e,t,a,n){try{var r=at(t,a,n);return{type:"ITEMS_FILTERSORT_APPLIED",payload:{items:e.filter(r.filter).sort(r.sort),filterText:t,sortText:a,itype:n}}}catch(i){return console.error(i),{type:"ITEMS_FILTERSORT_APPLY_ERROR",payload:{errormsg:i.toString(),itype:n}}}},lt=function(e,t,a){var n=t().allItems[a],r=t().itemsFS[a].filterText,i=t().itemsFS[a].sortText;e(st(n,r,i,a))},ot=function(e,t){return{type:"ITEM_INSERT_SUCCESS",payload:{item:e,itype:t}}},ct=function(e,t){return{type:"ITEM_INSERT_FAILURE",payload:{errormsg:e,itype:t}}},mt=function(e,t){return{type:"ITEM_UPDATE_FAILURE",payload:{errormsg:e,itype:t}}},ut=function(e,t){return{type:"ITEM_DELETE_SUCCESS",payload:{id:e,itype:t}}},dt=function(e,t,a){return{type:"ITEM_DELETE_FAILURE",payload:{errormsg:e,itype:t,target:a}}},pt=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).state={currentQueryId:null,filterText:a.props.filterSort.filterText,sortText:a.props.filterSort.sortText},a.clearFilter=a.clearFilter.bind(Object(Q.a)(a)),a.clearSort=a.clearSort.bind(Object(Q.a)(a)),a.changeFilter=a.changeFilter.bind(Object(Q.a)(a)),a.changeSort=a.changeSort.bind(Object(Q.a)(a)),a.applyFS=a.applyFS.bind(Object(Q.a)(a)),a.useSelectedQuery=a.useSelectedQuery.bind(Object(Q.a)(a)),a.onSelectedQueryChange=a.onSelectedQueryChange.bind(Object(Q.a)(a)),a.editQueries=a.editQueries.bind(Object(Q.a)(a)),a.toggleManual=a.toggleManual.bind(Object(Q.a)(a)),a}return Object(C.a)(t,e),Object(I.a)(t,[{key:"clearFilter",value:function(){this.setState({filterText:"",currentQueryId:""})}},{key:"clearSort",value:function(){this.setState({sortText:"",currentQueryId:""})}},{key:"changeFilter",value:function(e){this.setState({filterText:e.target.value,currentQueryId:""})}},{key:"changeSort",value:function(e){this.setState({sortText:e.target.value,currentQueryId:""})}},{key:"applyFS",value:function(e,t){this.props.filterSortItems(this.state.filterText,this.state.sortText,this.props.itype)}},{key:"onSelectedQueryChange",value:function(e){var t=parseInt(e.target.value);this.setState({currentQueryId:t})}},{key:"toggleManual",value:function(){this.props.toggleFSManual(this.props.itype)}},{key:"useSelectedQuery",value:function(){var e=this;if(this.state.currentQueryId){var t=this.props.queries.find(function(t){return t.id===e.state.currentQueryId});t&&this.setState({filterText:t.filter,sortText:t.sort})}}},{key:"editQueries",value:function(){this.props.history.push("/queries/edit/".concat(this.props.itype))}},{key:"render",value:function(){return y.a.createElement("div",{className:"row fs-view mb-2"},y.a.createElement("div",{className:"col-7",id:"fscontent"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-7"},y.a.createElement(Ke,{filterText:this.state.filterText,onChange:this.changeFilter,clearText:this.clearFilter,valid:null})),y.a.createElement("div",{className:"col-5"},y.a.createElement(ze,{sortText:this.state.sortText,onChange:this.changeSort,clearText:this.clearSort,valid:null})),this.props.filterSort.errormsg&&y.a.createElement("div",{className:"col-12"},y.a.createElement(W,{message:this.props.filterSort.errormsg}))),y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-12"},y.a.createElement("button",{type:"button",className:"btn btn-sm btn-secondary col-1",onClick:this.toggleManual},"Manual"),y.a.createElement("button",{type:"button",className:"btn btn-sm btn-info col-11",onClick:this.applyFS},"Apply Filter-Sort")),this.props.showFSManual?y.a.createElement("div",{className:"col-12"},y.a.createElement(We,null)):null)),y.a.createElement("div",{className:"col-3"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-12"},y.a.createElement("h5",null,"Filter-Sort Queries"," ",y.a.createElement("button",{className:"btn btn-sm btn-warning",onClick:this.editQueries},"Edit"),y.a.createElement("button",{className:"btn btn-sm btn-info",onClick:this.useSelectedQuery},"Use")),y.a.createElement(Xe,{queries:this.props.queries,onChange:this.onSelectedQueryChange,value:this.state.currentQueryId})))))}}]),t}(v.Component);pt.defaultProps={queries:[]};var Et=Object(w.b)(function(e,t){return{queries:e.queries[t.itype].data,filterSort:e.itemsFS[t.itype],showFSManual:e.itemsShow[t.itype].fsManualOn}},{toggleFSManual:function(e){return function(t){return t({type:"ITEM_TOGGLE_FS_MANUAL",payload:{itype:e}})}},filterSortItems:function(e,t,a){return function(n,r){n(st(r().allItems[a],e,t,a))}}})(pt),ht=function(e){return e.response?e.response.data.errors?e.response.data.errors.map(function(e){return"".concat(e.key," - ").concat(e.msg)}):e.response.data.msg?e.response.data.msg:"Ka\u017ekokia klaida":"Error: "+e.message},ft=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).state={showConfirmationDialog:!1,idToDelete:"",vToDelete:""},a.toggleFilterSort=a.toggleFilterSort.bind(Object(Q.a)(a)),a.editItem=a.editItem.bind(Object(Q.a)(a)),a.createItem=a.createItem.bind(Object(Q.a)(a)),a.pageChange=a.pageChange.bind(Object(Q.a)(a)),a.itemsPerPageChange=a.itemsPerPageChange.bind(Object(Q.a)(a)),a.showDeleteConfirmation=a.showDeleteConfirmation.bind(Object(Q.a)(a)),a.confirmDelete=a.confirmDelete.bind(Object(Q.a)(a)),a.unconfirmDelete=a.unconfirmDelete.bind(Object(Q.a)(a)),a.refreshItems=a.refreshItems.bind(Object(Q.a)(a)),a.refreshItemsAll=a.refreshItemsAll.bind(Object(Q.a)(a)),a.hideAlert=a.hideAlert.bind(Object(Q.a)(a)),a.getItems=a.getItems.bind(Object(Q.a)(a)),a}return Object(C.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.props.fsedItemsAreValid||this.props.fetchItems(this.props.itype),this.props.queriesAreValid||this.props.fetchQueries(this.props.itype)}},{key:"componentDidUpdate",value:function(e){e.fsedItemsAreValid&&!this.props.fsedItemsAreValid&&this.props.fetchItems(this.props.itype),e.queriesAreValid&&!this.props.queriesAreValid&&this.props.fetchQueries(this.props.itype)}},{key:"componentWillUnmount",value:function(){this.props.hideItemListAlert(this.props.itype)}},{key:"pageChange",value:function(e){this.props.pageChange(e,this.props.fsedItems.length,this.props.itype)}},{key:"itemsPerPageChange",value:function(e){var t=parseInt(e.target.value,10);this.props.itemsPerPageChange(t,this.props.fsedItems.length,this.props.itype)}},{key:"toggleFilterSort",value:function(){this.props.toggleFS(this.props.itype)}},{key:"createItem",value:function(){this.props.history.push("/".concat(this.props.itype,"s/new"))}},{key:"editItem",value:function(e){var t=e.target.dataset.id;this.props.history.push("".concat(this.props.itype,"s/edit/").concat(t))}},{key:"showDeleteConfirmation",value:function(e){this.setState({showConfirmationDialog:!0,idToDelete:e.target.dataset.id,vToDelete:e.target.dataset.v})}},{key:"confirmDelete",value:function(){this.props.deleteItem(this.state.idToDelete,this.state.vToDelete,this.props.itype),this.setState({showConfirmationDialog:!1,idToDelete:"",vToDelete:""})}},{key:"unconfirmDelete",value:function(){this.setState({showConfirmationDialog:!1,idToDelete:"",vToDelete:""})}},{key:"refreshItems",value:function(){this.props.invalidateItems(!1,this.props.itype)}},{key:"refreshItemsAll",value:function(){this.props.invalidateItems(!0,this.props.itype)}},{key:"hideAlert",value:function(){this.props.hideItemListAlert(this.props.itype)}},{key:"getItems",value:function(){return this.props.fsedItems}},{key:"render",value:function(){if(this.props.fatalError)return y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-12"},y.a.createElement(W,{message:this.props.fatalError.msg,type:this.props.fatalError.type})));if(!this.props.queriesAreValid||this.props.queriesIsLoading||!this.props.fsedItemsAreValid||this.props.itemsIsLoading)return y.a.createElement(X,null);var e=this.props.pager,t=e.firstItemIndex,a=e.itemsPerPage,n=e.buttons,r=n.length>0?y.a.createElement(Pe,{firstItemIndex:t,buttons:n,itemsPerPage:a,onPageChanged:this.pageChange,onItemsPerPageChanged:this.itemsPerPageChange,itemCount:this.props.fsedItems.length}):null;return y.a.createElement("div",{className:"container-fluid"},y.a.createElement(xe,{title:"Delete Confirmation",body:"Please confirm that you really want to delete this item from database.",confirmHandler:this.confirmDelete,rejectHandler:this.unconfirmDelete,show:this.state.showConfirmationDialog}),y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-12 commands button-group mb-2"},y.a.createElement("button",{className:"btn btn-sm btn-secondary",onClick:this.toggleFilterSort},"Filter-Sort"),y.a.createElement("button",{className:"btn btn-sm btn-primary",onClick:this.createItem},"New Item"),y.a.createElement("button",{className:"btn btn-sm btn-warning"+(this.props.allItems?"":" active"),onClick:this.refreshItems},"Refresh Active"),y.a.createElement("button",{className:"btn btn-sm btn-warning"+(this.props.allItems?" active":""),onClick:this.refreshItemsAll},"Refresh All")),y.a.createElement("div",{className:"col-12"},this.props.showFS?y.a.createElement(Et,{itype:this.props.itype,history:this.props.history}):null,y.a.createElement("div",{className:"row"},this.props.infoAlert?y.a.createElement("div",{className:"col-12"},y.a.createElement(W,{message:this.props.infoAlert.msg,type:this.props.infoAlert.type,hide:this.hideAlert})):null,y.a.createElement("div",{className:"col-12"},y.a.createElement(Oe,{itype:this.props.itype,items:this.props.fsedItems.slice(t,t+a),editItem:this.editItem,deleteItem:this.showDeleteConfirmation}))),y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-3"},y.a.createElement(Ce,{inView:this.props.fsedItems.length,total:this.props.allItemCount})),y.a.createElement("div",{className:"col-7"},r),y.a.createElement("div",{className:"col-xl-2"},y.a.createElement(Ge,{getItems:this.getItems}))))))}}]),t}(v.Component);ft.defaultProps={fsedItems:[],allItemCount:0};var gt,bt,vt,yt=Object(w.b)(function(e,t){return{queriesIsLoading:e.queries[t.itype].isLoading,queriesAreValid:e.queries[t.itype].valid,allItemCount:e.allItems[t.itype].length,fsedItems:e.fsedItems[t.itype].data,fsedItemsAreValid:e.fsedItems[t.itype].valid,itemsIsLoading:e.itemsStatus[t.itype].isBusy,allItems:e.itemsStatus[t.itype].all,pager:e.itemsPager[t.itype],showFS:e.itemsShow[t.itype].fsOn,fatalError:e.itemAlerting[t.itype].itemList.fatal,infoAlert:e.itemAlerting[t.itype].itemList.info}},{deleteItem:function(e,t,a){return function(n,r){n(function(e){return{type:"ITEM_DELETE_BEGIN",payload:{itype:e}}}(a)),R.a.delete("/api/items/delete",{params:{id:e,v:t,itype:a}}).then(function(e){n(it(a,e.data.msg,"success")),n(ut(e.data.id,a)),lt(n,r,a)}).catch(function(e){e.response&&e.response.data?n(dt(e.response.data.msg,a)):(console.error(e),n(dt(e.toString(),a)))})}},fetchItems:function(e){return function(t,a){t(function(e){return{type:"ITEMS_FETCH_BEGIN",payload:{itype:e}}}(e));var n={params:{itype:e}};a().itemsStatus[e].all&&(n.params.all=1),R.a.get("/api/items",n).then(function(n){t(function(e,t){return{type:"ITEMS_FETCH_SUCCESS",payload:{items:e,itype:t}}}(n.data,e)),lt(t,a,e)}).catch(function(a){console.error(a),t(function(e,t){return{type:"ITEMS_FETCH_FAILURE",payload:{errormsg:e,itype:t}}}(a.toString(),e))})}},fetchQueries:function(e){return function(t,a){t(function(e){return{type:"QUERIES_FETCH_BEGIN",payload:{itype:e}}}(e)),R.a.get("/api/fsqueries/fetch",{params:{itype:e}}).then(function(a){t(function(e,t){return{type:"QUERIES_FETCH_SUCCESS",payload:{queries:e,itype:t}}}(a.data,e))}).catch(function(a){t(function(e,t){return{type:"QUERIES_FETCH_FAILURE",payload:{error:e,itype:t}}}(ht(a),e))})}},invalidateItems:function(e,t){return function(a){a({type:"ITEMS_INVALIDATE",payload:{all:e,itype:t}})}},pageChange:function(e,t,a){return function(n){return n({type:"ITEMS_PAGE_CHANGE",payload:{itemCount:t,pageIndex:e,itype:a}})}},itemsPerPageChange:function(e,t,a){return function(n){return n({type:"ITEMS_PER_PAGE_CHANGE",payload:{itemCount:t,itemsPerPage:e,itype:a}})}},toggleFS:function(e){return function(t){return t({type:"ITEM_TOGGLE_FS",payload:{itype:e}})}},hideItemListAlert:function(e){return function(t){return t({type:"ITEM_LIST_HIDE_ALERT",payload:{itype:e}})}}})(ft),Nt=a(10),kt=a(17),jt=a(21),It=function(e){var t=e.jItems,a=e.setForEdit,n=e.deleteJItem,r=e.itype,i=e.currentJid,s=e.things;if(t.length<1)return y.a.createElement("div",{className:"container journal-list text-center"},y.a.createElement("div",{className:"alert alert-info"},"No journal as yet"));var l=Ie[r].journalRow,o=Ie[r].journalListHead,c=t.sort(nt).map(function(e,t){return y.a.createElement(l,{jItem:e,setForEdit:a,deleteJItem:n,key:e.jid,current:e.jid===i,things:s})});return y.a.createElement("div",{className:"container journal-list text-center"},y.a.createElement("table",{className:"table table-sm table-striped table-bordered jitems",style:{fontSize:".85rem"}},y.a.createElement("thead",null,o()),y.a.createElement("tbody",null,c)))},Ot=function(e){function t(e){var a;return Object(j.a)(this,t),a=Object(O.a)(this,Object(S.a)(t).call(this,e)),Object.defineProperty(Object(Q.a)(a),St,{writable:!0,value:void 0}),a.state={main:{},journal:[],jItem:{},jToDelete:[],jAlert:null},a.onSubmitItem=a.onSubmitItem.bind(Object(Q.a)(a)),a.submitJItem=a.submitJItem.bind(Object(Q.a)(a)),a.deleteJItem=a.deleteJItem.bind(Object(Q.a)(a)),a.setJItemForEdit=a.setJItemForEdit.bind(Object(Q.a)(a)),a.cancelJItem=a.cancelJItem.bind(Object(Q.a)(a)),a.onChangeMain=a.onChangeMain.bind(Object(Q.a)(a)),a.onChangeJItem=a.onChangeJItem.bind(Object(Q.a)(a)),Object(kt.a)(Object(Q.a)(a),St)[St]={meistrija:le(a.props.things.meistrija.sort(function(e,t){return e.ind-t.ind}),"-- nenurodyta --",function(e){return e.abbr+", "+e.name}),vpvd:le(a.props.things.vpvd,"-- nenurodyta --",function(e){return e.pvdname},function(e){return e.pvdid},function(e){return e.pvdid}),kkateg:le(a.props.things.kkateg,"-- nenurodyta --",function(e){return e.id}),btipas:le(a.props.things.btipas,"-- nenurodyta --",function(e){return e.id}),bgamykl:le(a.props.things.bgamykl,"-- nenurodyta --",function(e){return e.id}),siule:le(a.props.things.siule,"-- nenurodyta --",function(e){return e.id}),pavoj:le(a.props.things.pavoj.sort(function(e,t){return e.ind-t.ind}),"-- nenurodyta --",function(e){return e.id}),apar:le(a.props.things.defskop.sort(function(e,t){return e.id-t.id}),"-- nenurodyta --",function(e){return e.id}),oper:le(a.props.things.operat.sort(function(e,t){return e.name-t.name}),"-- nenurodyta --",function(e){return e.id+", "+e.name}),virino:le(a.props.things.virino.sort(function(e,t){return e.name-t.name}),"-- nenurodyta --",function(e){return e.name}),vbudas:le(a.props.things.vbudas.sort(function(e,t){return e.id-t.id}),"-- nenurodyta --",function(e){return e.id+", "+e.name}),itemStatus:le(a.props.things.itemstatus.sort(function(e,t){return e.id-t.id}),null,function(e){return e.id+", "+e.name})},a}return Object(C.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){if(this.props.match.params.id){var e=parseInt(this.props.match.params.id),t=this.props.items.find(function(t){return t.id===e});t&&this.setState({main:t}),this.props.fetchJournal(e,this.props.itype)}}},{key:"componentDidUpdate",value:function(e){e.journal.length<1&&this.props.journal.length>0&&this.setState({journal:this.props.journal})}},{key:"componentWillUnmount",value:function(){this.props.hideItemEditAlert(this.props.itype),this.props.removeJournal()}},{key:"submitJItem",value:function(){if(this.state.jItem){var e,t=this.state.jItem;if(t.jid){t.status||(t.status="edit");var a=this.state.journal.findIndex(function(e){return e.jid.toString()===t.jid.toString()});e=[].concat(Object(Nt.a)(this.state.journal.slice(0,a)),[Object($e.a)({},t)],Object(Nt.a)(this.state.journal.slice(a+1)))}else t.jid=Date.now()-1e7,t.status="add",e=[].concat(Object(Nt.a)(this.state.journal),[Object($e.a)({},t)]);this.setState({journal:e,jItem:{},jAlert:{msg:"\u012fra\u0161as s\u0117kmingai pakeistas/prid\u0117tas",type:"success"}})}}},{key:"cancelJItem",value:function(){this.setState({jItem:{}})}},{key:"deleteJItem",value:function(e){var t=e.target.dataset.jid,a=this.state.journal.findIndex(function(e){return e.jid.toString()===t.toString()});if(!(a<0)){var n=Object(Nt.a)(this.state.journal),r=Object(Nt.a)(this.state.jToDelete);this.state.journal[a].status&&"edit"!==this.state.journal[a].status||r.push(t),n.splice(a,1),this.setState({journal:n,jToDelete:r,jItem:{},jAlert:{msg:"\u012fra\u0161as i\u0161trintas",type:"success"}})}}},{key:"setJItemForEdit",value:function(e){var t=e.target.dataset.jid;console.log("e.target.dataset.jid",t),console.log("this.state.journal",this.state.journal);var a=this.state.journal.find(function(e){return e.jid.toString()===t.toString()});a&&this.setState({jItem:Object($e.a)({},a),jAlert:null})}},{key:"onChangeMain",value:function(e){var t=Object($e.a)({},this.state.main,Object(V.a)({},e.target.name,e.target.value));this.setState({main:t})}},{key:"onChangeJItem",value:function(e){var t=Object($e.a)({},this.state.jItem,Object(V.a)({},e.target.name,e.target.value));this.setState({jItem:t})}},{key:"onSubmitItem",value:function(e){if(e.preventDefault(),null!=this.state.main){var t=this.state.main;if(t.id){var a={};a.insert=this.state.journal.filter(function(e){return"add"===e.status}).map(function(e){var t=Object($e.a)({},e);return delete t.status,t}),a.update=this.state.journal.filter(function(e){return"edit"===e.status}).map(function(e){var t=Object($e.a)({},e);return delete t.status,t}),a.delete=Object(Nt.a)(this.state.jToDelete),this.props.updateItem(t,a,this.props.history,this.props.itype)}else this.props.insertItem(t,{insert:Object(Nt.a)(this.state.journal)},this.props.history,this.props.itype)}}},{key:"render",value:function(){if(this.props.fatalError)return y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-12"},y.a.createElement(W,{message:this.props.fatalError.msg,type:this.props.fatalError.type})));var e=Ie[this.props.itype].mainDataForm,t=Ie[this.props.itype].journalEditForm;return y.a.createElement("div",{className:"container"},y.a.createElement("div",{className:"row"},this.props.infoAlert?y.a.createElement("div",{className:"col-12"},y.a.createElement(W,{message:this.props.infoAlert.msg,type:this.props.infoAlert.type,hide:this.props.hideItemEditAlert})):null,y.a.createElement(X,{when:this.props.isBusyItem||this.props.isBusyJournal})),y.a.createElement("div",{className:"row"},e({item:this.state.main,onChange:this.onChangeMain,options:Object(kt.a)(this,St)[St]})),y.a.createElement("div",{className:"row"},this.props.journalFetchErrorMsg?y.a.createElement(W,{message:this.props.journalFetchErrorMsg}):y.a.createElement(It,{jItems:this.state.journal,setForEdit:this.setJItemForEdit,deleteJItem:this.deleteJItem,itype:this.props.itype,currentJid:this.state.jItem&&this.state.jItem.jid,things:this.props.things})),y.a.createElement("div",{className:"row"},t({jItem:this.state.jItem,onChange:this.onChangeJItem,options:Object(kt.a)(this,St)[St],submitJItem:this.submitJItem,cancelJItem:this.cancelJItem,alert:this.state.jAlert})),y.a.createElement("div",{className:"row"},y.a.createElement("button",{className:"btn btn-info",onClick:this.onSubmitItem},"Submit Item")))}}]),t}(v.Component),St=Object(jt.a)("options"),Ct=Object(w.b)(function(e,t){return{isBusyItem:e.itemsStatus[t.itype].isBusy,fatalError:e.itemAlerting[t.itype].itemEdit.fatal,infoAlert:e.itemAlerting[t.itype].itemEdit.info,journalFetchErrorMsg:e.journal.errormsg,journal:e.journal.items,things:e.things.data,items:e.fsedItems[t.itype].data,isBusyJournal:e.journal.isBusy}},{updateItem:function(e,t,a,n){return function(r,i){r(function(e){return{type:"ITEM_UPDATE_BEGIN",payload:{itype:e}}}(n)),R.a.post("/api/items/update",{main:e,journal:t,itype:n}).then(function(e){if(e.data.ok?r(it(n,e.data.msg,"success")):r(it(n,e.data.msg,"warning")),i().itemsStatus[n].all||!Ie[n].panaikinta(e.data.item.main)){var t=e.data.item.journal.sort(nt)[e.data.item.journal.length-1],s=Object($e.a)({},t,e.data.item.main);r(function(e,t){return{type:"ITEM_UPDATE_SUCCESS",payload:{item:e,itype:t}}}(s,n))}else r(ut(e.data.item.main.id,n));lt(r,i,n),a.push(Ie[n].listPath)}).catch(function(e){if(e.response&&e.response.data)if("bad criteria"===e.response.data.reason)r(function(e,t){return{type:"ITEM_UPDATE_FAILURE_NO_RETRY",payload:{errormsg:e,itype:t}}}(e.response.data.msg,n)),a.push(Ie[n].listPath);else if("bad draft"===e.response.data.reason){var t=e.response.data.msg;e.response.data.errors&&(t=rt(e.response.data.errors)),r(mt(t,n))}else console.error(e),r(mt(e.response.data.msg,n));else console.error(e),r(mt(e.toString(),n))})}},insertItem:function(e,t,a,n){return function(r,i){r(function(e){return{type:"ITEM_INSERT_BEGIN",payload:{itype:e}}}(n)),R.a.put("/api/items/insert",{main:e,journal:t,itype:n}).then(function(e){if(e.data.ok?r(it(n,e.data.msg,"success")):r(it(n,e.data.msg,"warning")),i().itemsStatus[n].all||!Ie[n].panaikinta(e.data.item.main)){var t=e.data.item.journal.sort(nt)[e.data.item.journal.length-1],s=Object($e.a)({},t,e.data.item.main);r(ot(s,n)),lt(r,i,n)}else r(ot(null,n));a.push(Ie[n].listPath)}).catch(function(e){if(e.response&&e.response.data)if("bad criteria"===e.response.data.reason)r(function(e,t){return{type:"ITEM_INSERT_FAILURE_NO_RETRY",payload:{errormsg:e,itype:t}}}(e.response.data.msg,n)),a.push(Ie[n].listPath);else if("bad draft"===e.response.data.reason){var t=e.response.data.msg;e.response.data.errors&&(t=rt(e.response.data.errors)),r(ct(t,n))}else console.error(e),r(ct(e.response.data.msg,n));else console.error(e),r(ct(e.toString(),n))})}},hideItemEditAlert:function(e){return function(t){return t({type:"ITEM_EDIT_HIDE_ALERT",payload:{itype:e}})}},fetchJournal:function(e,t){return function(a,n){a({type:"JOURNAL_FETCH_BEGIN"}),R.a.get("/api/journal",{params:{mainid:e,itype:t}}).then(function(e){a({type:"JOURNAL_FETCH_SUCCESS",payload:{journal:e.data}})}).catch(function(e){return a({type:"JOURNAL_FETCH_FAILURE",payload:{errormsg:e.message}})})}},removeJournal:function(){return function(e){e({type:"JOURNAL_REMOVE"})}}})(Ot),_t=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).state=a.props.query?{id:a.props.query.id||"",filter:a.props.query.filter||"",sort:a.props.query.sort||"",name:a.props.query.name||""}:{id:"",filter:"",sort:"",name:""},a.onChange=a.onChange.bind(Object(Q.a)(a)),a.submit=a.submit.bind(Object(Q.a)(a)),a}return Object(C.a)(t,e),Object(I.a)(t,[{key:"submit",value:function(e){e.preventDefault();var t={id:this.state.id,filter:this.state.filter,sort:this.state.sort,name:this.state.name};this.props.submitQuery(t)}},{key:"componentDidMount",value:function(){this.props.query?this.setState({id:this.props.query.id||"",filter:this.props.query.filter||"",sort:this.props.query.sort||"",name:this.props.query.name||""}):this.setState({id:"",filter:"",sort:"",name:""})}},{key:"componentDidUpdate",value:function(e){this.differentQueries(this.props.query,e.query)&&(this.props.query?this.setState({id:this.props.query.id||"",filter:this.props.query.filter||"",sort:this.props.query.sort||"",name:this.props.query.name||""}):this.setState({id:"",filter:"",sort:"",name:""}))}},{key:"differentQueries",value:function(e,t){return e&&!t||!e&&t||e&&t&&(e.id!==t.id||e.filter!==t.filter||e.sort!==t.sort||e.name!==t.name)}},{key:"onChange",value:function(e){this.setState(Object(V.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return y.a.createElement("div",{className:"row pt-3 mb-2 border border-primary"},y.a.createElement("div",{className:"col-12"},y.a.createElement("form",{className:""},y.a.createElement("div",{className:"form-group row"},y.a.createElement(Qe,{divClassname:"form-group col-7",id:"filter",name:"filter",rows:"4",readonly:!0,placeholder:"Filter",value:this.state.filter}),y.a.createElement(Qe,{divClassname:"form-group col-5",id:"sort",name:"sort",rows:"4",readonly:!0,placeholder:"Sort",value:this.state.sort})),y.a.createElement("div",{className:"form-group row"},y.a.createElement(z,{divClassname:"form-group col-7",name:"name",id:"name",placeholder:"Name",value:this.state.name,onChange:this.onChange}),y.a.createElement("div",{className:"form-group col-2"},y.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:this.submit},"Submit Query Name")),y.a.createElement(z,{divClassname:"form-group col-3",name:"id",id:"id",placeholder:"ID",readonly:!0,value:this.state.id})))))}}]),t}(v.Component),wt=function(e){var t=e.query,a=e.remove,n=e.setForEditing;return y.a.createElement("tr",null,y.a.createElement("td",{className:"id"},t.id),y.a.createElement("td",{className:"filter"},t.filter),y.a.createElement("td",{className:"sort"},t.sort),y.a.createElement("td",{className:"name"},t.name),y.a.createElement("td",{nowrap:"nowrap"},y.a.createElement("div",{className:"button-group"},y.a.createElement("button",{className:"btn btn-xs btn-warning","data-id":t.id,onClick:n},y.a.createElement("i",{"data-id":t.id,className:"fas fa-edit"})),y.a.createElement("button",{className:"btn btn-xs btn-danger","data-id":t.id,onClick:a},y.a.createElement("i",{"data-id":t.id,className:"fas fa-trash-alt"})))))},Tt=function(e){var t=e.queries,a=e.remove,n=e.setItemForEditing,r=t.map(function(e){return y.a.createElement(wt,{key:e.id,query:e,remove:a,setForEditing:n})});return y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-12"},y.a.createElement("table",{className:"table table-sm table-striped table-bordered query-list-table",style:{fontSize:".95rem"}},y.a.createElement("thead",null,y.a.createElement("tr",null,y.a.createElement("th",{className:"id"},"id"),y.a.createElement("th",{className:"filter"},"filter"),y.a.createElement("th",{className:"sort"},"sort"),y.a.createElement("th",{className:"name"},"name"),y.a.createElement("th",{className:"controls"},"controls"))),y.a.createElement("tbody",null,r))))},Rt=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).state={currentQuery:null,errormsg:""},a.submitDraft=a.submitDraft.bind(Object(Q.a)(a)),a.setForEditing=a.setForEditing.bind(Object(Q.a)(a)),a.submitDelete=a.submitDelete.bind(Object(Q.a)(a)),a.hideSuccess=a.hideSuccess.bind(Object(Q.a)(a)),a.hideError=a.hideError.bind(Object(Q.a)(a)),a.hideErrorInState=a.hideErrorInState.bind(Object(Q.a)(a)),a}return Object(C.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(""!==this.props.filterSort.filterText||""!==this.props.filterSort.sortText){var t=this.props.queries.find(function(t){return t.filter===e.props.filterSort.filterText&&t.sort===e.props.filterSort.sortText})||{filter:this.props.filterSort.filterText,sort:this.props.filterSort.sortText};this.setState({currentQuery:t})}else this.setState({currentQuery:null})}},{key:"componentDidUpdate",value:function(e){var t=this;this.state.currentQuery&&this.state.currentQuery.id&&!this.props.queries.some(function(e){return e.id===t.state.currentQuery.id})&&this.setState({currentQuery:null})}},{key:"hideError",value:function(){this.props.hideError(this.props.match.params.itype)}},{key:"hideErrorInState",value:function(){this.setState({errormsg:""})}},{key:"hideSuccess",value:function(){this.props.hideSuccess(this.props.match.params.itype)}},{key:"submitDelete",value:function(e){var t=e.target.dataset.id,a=this.props.match.params.itype;this.props.deleteQuery(t,a)}},{key:"submitDraft",value:function(e){var t=e;if(t.name&&""!==t.name.trim()){var a=this.props.queries.find(function(e){return e.name.trim()===t.name.trim()});if(a)this.setState({errormsg:"Same name as ".concat(a.id,"; name must be unique")});else{var n=this.props.match.params.itype;t.itype=n,t.id?this.props.updateQuery(t):this.props.insertQuery(t)}}else this.setState({errormsg:"Name must be not empty"})}},{key:"setForEditing",value:function(e){this.setState({currentQuery:this.props.queries.find(function(t){return t.id===parseInt(e.target.dataset.id)})||null,errormsg:null})}},{key:"render",value:function(){var e=this.props.storeError,t=this.state.errormsg,a=this.props.successmsg;return y.a.createElement("div",{className:"container thing-edit"},e&&y.a.createElement(W,{message:e,type:"error",hide:this.hideError}),t&&y.a.createElement(W,{message:t,type:"error",hide:this.hideErrorInState}),a&&y.a.createElement(W,{message:a,type:"success",hide:this.hideSuccess}),y.a.createElement(X,{when:this.props.isLoading}),y.a.createElement(Tt,{queries:this.props.queries,remove:this.submitDelete,setItemForEditing:this.setForEditing}),y.a.createElement(_t,{query:this.state.currentQuery,submitQuery:this.submitDraft}))}}]),t}(v.Component),Pt=Object(w.b)(function(e,t){var a=t.match.params.itype,n=e.queries[a];return{queries:n.data,isLoading:n.isLoading,storeError:n.error,successmsg:n.successmsg,filterSort:e.itemsFS[a]}},{updateQuery:function(e){return function(t){var a=e.itype;t(function(e){return{type:"QUERY_UPDATE_BEGIN",payload:{itype:e}}}(a)),R.a.post("/api/fsqueries/update",e).then(function(e){return t(function(e,t){return{type:"QUERY_UPDATE_SUCCESS",payload:{query:e,itype:t}}}(e.data,a))}).catch(function(e){t(function(e,t){return{type:"QUERY_UPDATE_FAILURE",payload:{error:e,itype:t}}}(ht(e),a))})}},deleteQuery:function(e,t){return function(a){a(function(e){return{type:"QUERY_DELETE_BEGIN",payload:{itype:e}}}(t)),R.a.delete("/api/fsqueries/delete",{params:{id:e}}).then(function(e){a(function(e,t){return{type:"QUERY_DELETE_SUCCESS",payload:{id:e,itype:t}}}(e.data.id,t))}).catch(function(e){a(function(e,t){return{type:"QUERY_DELETE_FAILURE",payload:{error:e,itype:t}}}(ht(e),t))})}},insertQuery:function(e){return function(t){var a=e.itype;t(function(e){return{type:"QUERY_INSERT_BEGIN",payload:{itype:e}}}(a)),R.a.put("/api/fsqueries/insert",e).then(function(e){t(function(e,t){return{type:"QUERY_INSERT_SUCCESS",payload:{query:e,itype:t}}}(e.data,a))}).catch(function(e){t(function(e,t){return{type:"QUERY_INSERT_FAILURE",payload:{error:e,itype:t}}}(ht(e),a))})}},hideSuccess:function(e){return function(t){return t({type:"QUERIES_HIDE_SUCCESS",payload:{itype:e}})}},hideError:function(e){return function(t){return t({type:"QUERIES_HIDE_ERROR",payload:{itype:e}})}}})(Rt),xt=function(){function e(t){Object(j.a)(this,e),this.things=t.things,this.data=t.data}return Object(I.a)(e,[{key:"byIndSorter",value:function(e,t,a){return e.ind-t.ind}},{key:"byIndSorterDesc",value:function(e,t){return t.ind-e.ind}}]),e}(),At=function(e){function t(){return Object(j.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(I.a)(t,[{key:"byVietaSorter",value:function(e,t){return e.linija>t.linija?1:e.linija<t.linija?-1:e.kelias>t.kelias?1:e.kelias<t.kelias?-1:e.km>t.km?1:e.km<t.km?-1:e.pk>t.pk?1:e.pk<t.pk?-1:e.m>t.m?1:e.m<t.m?-1:e.siule>t.siule?1:e.siule<t.siule?-1:e.iesmas>t.iesmas?1:e.iesmas<t.iesmas?-1:e.nr>t.nr?1:e.nr<t.nr?-1:0}},{key:"distributeDefects",value:function(e){var t=this;return this.things.meistrija.map(function(a){return Object($e.a)({},a,{defects:e.filter(function(e){return e.meistrija===a.id}).sort(t.byVietaSorter)})}).sort(this.byIndSorter)}},{key:"createReport",value:function(){return this.distributeDefects(this.data)}}]),t}(xt),Dt=function(e){function t(){return Object(j.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(I.a)(t,[{key:"createDefectCountGroups",value:function(e){return{meistrija:e.meistrija.map(function(e){return{label:e.abbr,ind:e.ind,ids:[e.id]}}).sort(this.byIndSorter),pavoj:e.pavoj.filter(function(e){return"L"!==e.id}).map(function(e){return{label:e.id,ind:e.ind,ids:[e.id]}}).sort(this.byIndSorterDesc),kkateg:[{label:"1",ind:1,ids:["1"]},{label:"2",ind:2,ids:["2"]},{label:"3, 4",ind:3,ids:["3","4"]},{label:"kt.",ind:4,ids:["5","6","7"]}]}}},{key:"createReport",value:function(){var e=this,t=this.createDefectCountGroups(this.things),a=function(e,t){return e+t.count};return t.meistrija.map(function(n){return Object($e.a)({},n,{kkateg:t.kkateg.map(function(r){return Object($e.a)({},r,{pavoj:t.pavoj.map(function(t){return Object($e.a)({},t,{count:(i=e.data,s=n.ids,l=r.ids,o=t.ids,i.filter(function(e,t,a){return function(n){return e.includes(n._id.meistrija)&&t.includes(n._id.kkateg)&&a.includes(n._id.pavoj)}}(s,l,o)).reduce(a,0))});var i,s,l,o})})})})})}}]),t}(xt),Lt=function(){function e(t){var a=this;Object(j.a)(this,e),this.byIndSorter=function(e,t){return e.ind-t.ind},this.createVbudasGroups=function(){return a.vbudai.sort(a.byIndSorter).map(function(e){return{id:e.id}})},this.createPavojGroups=function(){return a.pavojai.sort(a.byIndSorter).map(function(e){return{id:e.id}})},this.createPropertyGroups=function(){return{pavojai:Object(Nt.a)(a.createPavojGroups()),vbudai:Object(Nt.a)(a.createVbudasGroups())}},this.createDistinctOperatDefskop=function(){return[].concat(Object(Nt.a)(a.defectCounts.map(function(e){return{defskop:e._id.defskop,operat:e._id.operat}})),Object(Nt.a)(a.weldingCounts.map(function(e){return{defskop:e._id.defskop,operat:e._id.operat}}))).filter(function(e,t,a){return a.findIndex(function(t){return t.defskop===e.defskop&&t.operat===e.operat})===t}).sort(function(e,t){return e.defskop>t.defskop?1:e.defskop<t.defskop?-1:e.operat>t.operat?1:e.operat<t.operat?-1:0})},this.distribute=function(){return a.createDistinctOperatDefskop().map(function(e){var t=a.defectCounts.filter(function(t){return t._id.defskop===e.defskop&&t._id.operat===e.operat}),n=a.weldingCounts.filter(function(t){return t._id.defskop===e.defskop&&t._id.operat===e.operat}),r=a.createPropertyGroups(),i=r.vbudai.map(function(e){var t=n.find(function(t){return t._id.vbudas===e.id});return e.count=void 0!==t?t.count:0,e}),s=r.pavojai.map(function(e){var a=t.find(function(t){return t._id.pavoj===e.id});return e.count=void 0!==a?a.count:0,e});return e.counts=[].concat(Object(Nt.a)(s),Object(Nt.a)(i)),e})},this.vbudai=t.things.vbudas,this.pavojai=t.things.pavoj,this.operatoriai=t.things.operat,this.defskopai=t.things.defskop,this.defectCounts=t.data.defectCounts,this.weldingCounts=t.data.weldingCounts}return Object(I.a)(e,[{key:"createReport",value:function(){return this.distribute()}}]),e}(),Ut=function(){function e(t){Object(j.a)(this,e),this.data=t}return Object(I.a)(e,[{key:"createReport",value:function(){return this.data}}]),e}(),Ft=(gt={},Object(V.a)(gt,"defects-undone",{apiUrl:"/api/report/defects-undone",DataTransformerClass:At}),Object(V.a)(gt,"defects-undone-count",{apiUrl:"/api/report/defects-undone-count",DataTransformerClass:Dt}),Object(V.a)(gt,"k33",{apiUrl:"/api/report/k33",DataTransformerClass:Lt}),Object(V.a)(gt,"to-inspect",{apiUrl:"/api/report/to-inspect",DataTransformerClass:Ut}),gt),Mt=function(){function e(t){Object(j.a)(this,e),this.reporter=Ft[t]}return Object(I.a)(e,[{key:"createReport",value:function(e){return new this.reporter.DataTransformerClass(e).createReport()}},{key:"getUrl",value:function(){return this.reporter.apiUrl}}]),e}(),Ht=function(e){return{type:"REPORT_ERROR",payload:{errormsg:e}}},Bt=function(e,t){return function(a){var n=new Mt(e);n?(a(function(e){return{type:"REPORT_BEGIN",payload:{params:e}}}(t)),R.a.get(n.getUrl(),{params:Object($e.a)({},t)}).then(function(t){var r=n.createReport(t.data);a(function(e,t){return{type:"REPORT_SUCCESS",payload:{report:e,rtype:t}}}(r,e))}).catch(function(e){console.error(e),a(Ht(e))})):a(Ht({errormsg:"Unknown report type"}))}},qt=function(e){var t=e.report;if(!t)return null;var a=y.a.createElement("thead",null,y.a.createElement("tr",null,y.a.createElement("th",{scope:"col"},"Meistrija"),y.a.createElement("th",{scope:"col"},"Linija"),y.a.createElement("th",{scope:"col"},"Kelias"),y.a.createElement("th",{scope:"col"},"Km"),y.a.createElement("th",{scope:"col"},"Pk"),y.a.createElement("th",{scope:"col"},"M"),y.a.createElement("th",{scope:"col"},"Si\u016bl\u0117"),y.a.createElement("th",{scope:"col"},"Kodas"),y.a.createElement("th",{scope:"col"},"Pavoj"),y.a.createElement("th",{scope:"col"},"Aptikta"),y.a.createElement("th",{scope:"col"},"Terminas"))),n=function(e){var t=e.meistrijaLabel,a=e.defect;return y.a.createElement("tr",null,y.a.createElement("th",{scope:"row"},t),y.a.createElement("td",null,a.linija),y.a.createElement("td",null,a.kelias),y.a.createElement("td",null,a.km),y.a.createElement("td",null,a.pk),y.a.createElement("td",null,a.m),y.a.createElement("td",null,a.siule),y.a.createElement("td",null,a.kodas),y.a.createElement("td",null,a.pavoj),y.a.createElement("td",null,a.daptik),y.a.createElement("td",null,a.dtermin))},r=t.map(function(e){return e.defects.map(function(t){return y.a.createElement(n,{meistrijaLabel:e.abbr,defect:t,key:t.id})})});return y.a.createElement("table",{className:"table"},a,y.a.createElement("tbody",null,r))},Gt=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).state={byDate:(new Date).toISOString().split("T")[0],whichDefects:"active"},a.submitParams=a.submitParams.bind(Object(Q.a)(a)),a.onChange=a.onChange.bind(Object(Q.a)(a)),a}return Object(C.a)(t,e),Object(I.a)(t,[{key:"onChange",value:function(e){this.setState(Object(V.a)({},e.target.name,e.target.value))}},{key:"submitParams",value:function(){this.props.createReport(this.props.rtype,this.state)}},{key:"render",value:function(){return y.a.createElement("form",{className:"form"},y.a.createElement(z,{type:"date",id:"bydate",label:"Datai",name:"byDate",value:Ee(this.state.byDate),onChange:this.onChange,className:"form-group"}),y.a.createElement("div",{className:"form-group whichDefects"},y.a.createElement("div",{className:"form-check form-check-inline"},y.a.createElement("input",{className:"form-check-input",name:"whichDefects",type:"radio",id:"radio-active",checked:"active"===this.state.whichDefects,value:"active",onChange:this.onChange}),y.a.createElement("label",{className:"form-check-label",htmlFor:"radio-active"},"Visi esantys kelyje")),y.a.createElement("div",{className:"form-check form-check-inline"},y.a.createElement("input",{className:"form-check-input",name:"whichDefects",type:"radio",id:"radio-overdued",checked:"overdued"===this.state.whichDefects,value:"overdued",onChange:this.onChange}),y.a.createElement("label",{className:"form-check-label",htmlFor:"radio-overdued"},"Tik pradelsti"))),y.a.createElement("div",{className:"form-group"},y.a.createElement("button",{type:"button",className:"btn",onClick:this.submitParams},"Submit")))}}]),t}(v.Component),Vt=Object(w.b)(function(e){return{params:e.report.params}},{createReport:Bt})(Gt),Qt=function(e){["linija","kelias","km","pk","m","siule","kodas","pavoj","daptik","dtermin"].forEach(function(t){null==e[t]&&(e[t]="")})},Jt=function(e,t){return e+t.defects.length},Kt=function(e){var t=e.report;if(!t)return null;var a=t[0].kkateg[0].pavoj.length,n=function(e){var t=e.meistrija;return y.a.createElement("tr",null,y.a.createElement("th",{scope:"row"},t.label),t.kkateg.map(function(e){return e.pavoj.map(function(t){return y.a.createElement("td",{key:e.ind+"-"+t.ind},t.count>0?t.count:"")})}))};return y.a.createElement("table",{className:"table table-bordered table-striped"},y.a.createElement(function(e){var t=e.report;return y.a.createElement("thead",null,y.a.createElement("tr",null,y.a.createElement("th",{rowSpan:"2",scope:"col"},"Meistrija"),t[0].kkateg.map(function(e){return y.a.createElement("th",{key:e.ind,colSpan:a},e.label)})),y.a.createElement("tr",null,t[0].kkateg.map(function(e){return e.pavoj.map(function(e){return y.a.createElement("th",{scope:"col",key:e.ind},e.label)})})))},{report:t}),y.a.createElement(function(e){var t=e.report;return y.a.createElement("tbody",null,t.map(function(e){return y.a.createElement(n,{key:e.ind,meistrija:e})}))},{report:t}))},Yt=function(e){var t=e.report;if(!t)return null;var a=y.a.createElement("thead",null,y.a.createElement("tr",null,y.a.createElement("th",{scope:"col"},"Def"),y.a.createElement("th",{scope:"col"},"Oper"),t[0].counts.map(function(e){return y.a.createElement("th",{scope:"col",key:e.id},e.id)}))),n=t.map(function(e,t){return y.a.createElement("tr",{key:t},y.a.createElement("th",{scope:"row"},e.defskop),y.a.createElement("th",{scope:"row"},e.operat),e.counts.map(function(e){return y.a.createElement("td",{key:e.id},e.count>0?e.count:"")}))});return y.a.createElement("table",{className:"table"},a,y.a.createElement("tbody",null,n))},zt=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).today=new Date,a.oneMonthAgo=new Date,a.oneMonthAgo.setMonth(a.oneMonthAgo.getMonth()-1),a.state={startDate:a.today.toISOString().split("T")[0],endDate:a.oneMonthAgo.toISOString().split("T")[0]},a.submitParams=a.submitParams.bind(Object(Q.a)(a)),a.onChange=a.onChange.bind(Object(Q.a)(a)),a}return Object(C.a)(t,e),Object(I.a)(t,[{key:"onChange",value:function(e){this.setState(Object(V.a)({},e.target.name,e.target.value))}},{key:"submitParams",value:function(){this.props.createReport(this.props.rtype,this.state)}},{key:"render",value:function(){return y.a.createElement("form",{className:"form"},y.a.createElement(z,{type:"date",id:"startDate",label:"Nuo datos",name:"startDate",value:Ee(this.state.startDate),onChange:this.onChange,className:"form-group"}),y.a.createElement(z,{type:"date",id:"endDate",label:"iki datos",name:"endDate",value:Ee(this.state.endDate),onChange:this.onChange,className:"form-group"}),y.a.createElement("div",{className:"form-group"},y.a.createElement("button",{type:"button",className:"btn",onClick:this.submitParams},"Submit")))}}]),t}(v.Component),Xt=Object(w.b)(function(e){return{params:e.report.params}},{createReport:Bt})(zt),Wt=function(e){var t=e.report;if(!t)return null;var a=y.a.createElement("thead",null,y.a.createElement("tr",null,y.a.createElement("th",{scope:"col"},"id"),y.a.createElement("th",{scope:"col"},"linija"),y.a.createElement("th",{scope:"col"},"kelias"),y.a.createElement("th",{scope:"col"},"km"),y.a.createElement("th",{scope:"col"},"pk"),y.a.createElement("th",{scope:"col"},"m"),y.a.createElement("th",{scope:"col"},"siule"),y.a.createElement("th",{scope:"col"},"vbudas"),y.a.createElement("th",{scope:"col"},"data1"),y.a.createElement("th",{scope:"col"},"kelintas"),y.a.createElement("th",{scope:"col"},"galima_nuo"),y.a.createElement("th",{scope:"col"},"reikia_iki"))),n=t.map(function(e){return y.a.createElement("tr",{key:e.id},y.a.createElement("td",null,e.id),y.a.createElement("td",null,e.linija),y.a.createElement("td",null,e.kelias),y.a.createElement("td",null,e.km),y.a.createElement("td",null,e.pk),y.a.createElement("td",null,e.m),y.a.createElement("td",null,e.siule),y.a.createElement("td",null,e.vbudas),y.a.createElement("td",null,e.data1),y.a.createElement("td",null,e.kelintas),y.a.createElement("td",null,e.galimanuo),y.a.createElement("td",null,e.reikiaiki))});return y.a.createElement("table",{className:"table"},a,y.a.createElement("tbody",null,n))},$t=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).state={byDate:(new Date).toISOString().split("T")[0],onlyOverdued:!1},a.submitParams=a.submitParams.bind(Object(Q.a)(a)),a.onChange=a.onChange.bind(Object(Q.a)(a)),a}return Object(C.a)(t,e),Object(I.a)(t,[{key:"onChange",value:function(e){this.setState(Object(V.a)({},e.target.name,e.target.value))}},{key:"submitParams",value:function(){this.props.createReport(this.props.rtype,this.state)}},{key:"render",value:function(){return y.a.createElement("form",{className:"form"},y.a.createElement(z,{type:"date",id:"todate",label:"Datai",name:"toDate",value:Ee(this.state.toDate),onChange:this.onChange,className:"form-group"}),y.a.createElement("div",{className:"form-group whichDefects"},y.a.createElement("div",{className:"form-check form-check-inline"},y.a.createElement("input",{className:"form-check-input",name:"onlyover",type:"radio",id:"checkbox",checked:this.state.onlyOverdued,value:!1,onChange:this.onChange}),y.a.createElement("label",{className:"form-check-label",htmlFor:"radio-active"},"Tik pradelsti"))),y.a.createElement("div",{className:"form-group"},y.a.createElement("button",{type:"button",className:"btn",onClick:this.submitParams},"Submit")))}}]),t}(v.Component),Zt=Object(w.b)(function(e){return{params:e.report.params}},{createReport:Bt})($t),ea=(bt={},Object(V.a)(bt,"defects-undone",{title:"Keliuose esantys defektai.",subtitle:"Tik pradelsti arba visi",paramsCollector:Vt,reportTable:qt,itemsToExportFormat:function(e){var t=[];return e.forEach(function(e){e.defects.forEach(function(a){var n=Object($e.a)({},a);Qt(n),n.meistrija=e,t.push(n)})}),t},itemCount:function(e){return e.reduce(Jt,0)}}),Object(V.a)(bt,"defects-undone-count",{title:"Keliuose esan\u010di\u0173 defekt\u0173 skai\u010diai.",subtitle:"Tik pradelst\u0173 arba vis\u0173",paramsCollector:Vt,reportTable:Kt,itemsToExportFormat:function(e){var t=[];return e.forEach(function(e){e.kkateg.forEach(function(a){a.pavoj.forEach(function(n){t.push({meistrija:e,kkateg:a,pavoj:n,count:n.count})})})}),t},itemCount:function(e){return e.length}}),Object(V.a)(bt,"k33",{title:"Per period\u0105 atliktas darbas.",subtitle:"Ataskaita K-33",paramsCollector:Xt,reportTable:Yt,itemsToExportFormat:function(e){return e.map(function(e){return Object($e.a)({defskop:e.defskop,operat:e.operat},e.counts)})},itemCount:function(e){return e.length}}),Object(V.a)(bt,"to-inspect",{title:"Suvirinimai, kuriuos galima tikrinti.",subtitle:"",paramsCollector:Zt,reportTable:Wt,itemsToExportFormat:function(e){return e},itemCount:function(e){return e.length}}),bt),ta=function(e){function t(e){var a;return Object(j.a)(this,t),(a=Object(O.a)(this,Object(S.a)(t).call(this,e))).reporter=null,a.reporter=ea[e.rtype],a.getItems=a.getItems.bind(Object(Q.a)(a)),a}return Object(C.a)(t,e),Object(I.a)(t,[{key:"getItems",value:function(){return this.reporter.itemsToExportFormat(this.props.report)}},{key:"render",value:function(){var e,t,a=this.reporter.paramsCollector,n=this.reporter.reportTable;return this.props.rtype===this.props.storeReportType&&(e=this.props.report,t=this.reporter.itemCount(this.props.report)),y.a.createElement("div",{className:"container"},y.a.createElement("div",{className:"report-title"},y.a.createElement("h3",null,this.reporter.title," ",y.a.createElement("small",{className:"text-muted"},this.reporter.subtitle))),y.a.createElement("div",{className:"row"},y.a.createElement(a,{rtype:this.props.rtype})),this.props.isLoading?y.a.createElement(X,null):this.props.errormsg?y.a.createElement(W,{message:this.props.errormsg}):e&&0!==Object.keys(e).length?y.a.createElement("div",null,y.a.createElement("div",{className:"row"},y.a.createElement(n,{report:e})),y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-6"},y.a.createElement(Ce,{inView:t,total:t})),y.a.createElement("div",{className:"col-6"},y.a.createElement(Ge,{getItems:this.getItems})))):null)}}]),t}(v.Component),aa=Object(w.b)(function(e){return{report:e.report.data,errormsg:e.report.errormsg,storeReportType:e.report.rtype,isLoading:e.report.isLoading}},{eraseReport:function(){return function(e){e({type:"REPORT_ERASE"})}}})(ta),na=function(e){function t(){return Object(j.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAllThings()}},{key:"render",value:function(){return this.props.things.errormsg?y.a.createElement(W,{message:this.props.things.errormsg}):y.a.createElement("div",{className:"logged-in"},y.a.createElement(X,{when:this.props.things.isLoading}),y.a.createElement("div",{className:"dark-overlay logged-in-inner text-light"},y.a.createElement("div",{className:"container"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col-md-12 text-center"},y.a.createElement("h1",{className:"display-3 mb-4"},"Rail Defect Data Base"),y.a.createElement("p",{className:"lead"},"Manage your data with confidence"),y.a.createElement("hr",null),y.a.createElement("p",{className:"lead"},"You're logged-in, and now you can start working"))))))}}]),t}(v.Component),ra=Object(w.b)(function(e){return{things:e.things}},{fetchAllThings:function(){return function(e){e({type:"THINGS_FETCH_BEGIN"});var t=localStorage.getItem("allThingsV")||-1;R.a.get("/api/things/all",{params:{v:t}}).then(function(t){t.data.things?(localStorage.setItem("allThingsV",t.data.v),localStorage.setItem("allThings",JSON.stringify(t.data.things)),e(re(t.data.things))):e(re(JSON.parse(localStorage.getItem("allThings"))))}).catch(function(t){return e(ie(t.message))})}}})(Object(te.a)(na)),ia={none:{display:"None",value:"none",classname:"none"},ok:{display:"OK",value:"ok",classname:"ok"},return:{display:"Return",value:"return",classname:"return"},delete:{display:"Delete",value:"delete",classname:"delete"}},sa=function(e){var t=e.action,a=e.ind;return y.a.createElement("option",{key:a,value:ia[t].value,className:ia[t].value},ia[t].display)},la=function(e){var t=e.action,a=e.ind,n=e.changeAction;return y.a.createElement("select",{name:"action",className:"by-option "+t,"data-ind":a,value:t,onChange:n,id:"select-action-"+a},Object.keys(ia).map(function(e,t){return y.a.createElement(sa,{action:e,ind:t,key:t})}))},oa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return null==e||""===e?"-".repeat(t):("0".repeat(t)+e).substr(-t)},ca=function(e){return new Date(e).toLocaleString("lt-LT").slice(0,-3)},ma=function(e){var t="";return e.errors?(t=Array.isArray(e.errors)?e.errors.map(function(e){return"".concat(e.key," - ").concat(e.msg)}).join(", "):e.errors.toString(),"Validation: ".concat(e.reason,". Errors: ").concat(t)):"Validation: "+e.reason},ua=function(e){return"".concat(Ee(e.oper),"-").concat(Ee(e.apar))},da=function(e){return"".concat(Ee(e.dh),"/").concat(Ee(e.dl))},pa=function(e){return"".concat(oa(e.linija),".").concat(Ee(e.kelias)).concat(oa(e.km,3),".").concat(oa(e.pk),".").concat(oa(e.m),".").concat(Ee(e.siule))},Ea=function(e){return"".concat(Ee(e.btipas)," ").concat(Ee(e.bgamykl)," ").concat(Ee(e.bmetai))},ha=function(e){var t=e.item,a=e.ind,n=e.changeAction,r=e.setEdit,i=t.main,s=t.journal;return y.a.createElement("tr",{className:"approve-primary-row"},y.a.createElement("td",{className:"meistrija vieta"},i.meistrija),y.a.createElement("td",{className:"vk vieta"},pa(i)),y.a.createElement("td",{className:"oper-apar"},ua(s)),y.a.createElement("td",{className:"data def"},s.data),y.a.createElement("td",{className:"kodas def"},s.kodas),y.a.createElement("td",{className:"hl"},da(s)),y.a.createElement("td",{className:"kkateg def"},i.kkateg),y.a.createElement("td",{className:"pavoj def"},s.pavoj),y.a.createElement("td",{className:"dtermin def"},s.dtermin),y.a.createElement("td",{className:"controls"},y.a.createElement("button",{className:"btn btn-xs btn-light","data-ind":a,onClick:r},y.a.createElement("i",{className:"fas fa-edit","data-ind":a})),y.a.createElement(la,{action:t.action,ind:a,changeAction:n})))},fa=function(e){var t=e.item,a=t.main,n=t.journal;return y.a.createElement("tr",{className:"approve-secondary-row"},y.a.createElement("td",{className:"supplied-by"},t.oper),y.a.createElement("td",{className:"supplied-when"},ca(t.timestamp)),y.a.createElement("td",{className:"id"},a.id),y.a.createElement("td",{className:"begis"},Ea(a)),y.a.createElement("td",{className:"note",colSpan:"6"},n.note))},ga=function(e){var t=e.item;return t.validation?y.a.createElement("tr",{className:"approve-validation-row"},y.a.createElement("td",{className:"pastaba",colSpan:"10"},ma(t.validation))):null},ba=function(e){var t=e.item,a=e.ind,n=e.changeAction,r=e.setEdit;return y.a.createElement(y.a.Fragment,null,y.a.createElement(ha,{item:t,ind:a,changeAction:n,setEdit:r}),y.a.createElement(fa,{item:t}),y.a.createElement(ga,{item:t}))},va=function(){return y.a.createElement("thead",null,y.a.createElement("tr",{className:"approve-primary-row"},y.a.createElement("th",{className:"meistrija vieta"},"Meistrija"),y.a.createElement("th",{className:"vk vieta"},"Vietos kodas"),y.a.createElement("th",{className:"oper-apar"},"Oper-Apar"),y.a.createElement("th",{className:"data def"},"Data"),y.a.createElement("th",{className:"kodas def"},"Kodas"),y.a.createElement("th",{className:"hl"},"H/L"),y.a.createElement("th",{className:"kkateg def"},"KKateg"),y.a.createElement("th",{className:"pavoj def"},"Pavoj"),y.a.createElement("th",{className:"dtermin def"},"Terminas"),y.a.createElement("th",{className:"controls"},"Actions")),y.a.createElement("tr",{className:"approve-secondary-row"},y.a.createElement("th",{className:"supplied-by"},"Pateik\u0117"),y.a.createElement("th",{className:"supplied-when"},"Kada"),y.a.createElement("th",{className:"id"},"ID"),y.a.createElement("th",{className:"begis"},"B\u0117gis"),y.a.createElement("th",{className:"note",colSpan:"7"},"Pastaba")))},ya=function(e){var t=e.item,a=e.onChange,n=e.options,r=e.errors,i=t&&t.main&&t.main.id>0;return y.a.createElement("form",null,r.common&&y.a.createElement(W,{message:r.common,type:"error"}),y.a.createElement("div",{className:"form-group row main-data text-center"},y.a.createElement(ne,{id:"defect-meistrija",name:"main.meistrija",label:"Meistrija",divClassname:"form-group col-4",value:he(t,"main","meistrija"),options:n.meistrija,onChange:a,disabled:i,error:r.meistrija}),y.a.createElement(ne,{id:"defect-kkateg",name:"main.kkateg",label:"Kelio kategorija",divClassname:"form-group col-4",value:he(t,"main","kkateg"),options:n.kkateg,onChange:a,disabled:i,error:r.kkateg})),y.a.createElement("div",{className:"form-group row begis text-center"},y.a.createElement(ne,{id:"defect-btipas",divClassname:"form-group col-4",name:"main.btipas",label:"B\u0117gio tipas",value:he(t,"main","btipas"),options:n.btipas,onChange:a,disabled:i,error:r.btipas}),y.a.createElement(ne,{id:"defect-bgamykl",divClassname:"form-group col-4",name:"main.bgamykl",label:"B\u0117gio gamykla",value:he(t,"main","bgamykl"),options:n.bgamykl,onChange:a,disabled:i,error:r.bgamykl}),y.a.createElement(z,{divClassname:"form-group col-4",label:"B\u0117gio gam. metai",id:"defect-bmetai",name:"main.bmetai",placeholder:"B\u0117gio gam. metai",value:he(t,"main","bmetai"),onChange:a,readonly:i,error:r.bmetai})),y.a.createElement("div",{className:"form-group row vieta text-center"},y.a.createElement(z,{label:"Linija",divClassname:"form-group col-2",id:"defect-linija",name:"main.linija",placeholder:"Linija",value:he(t,"main","linija"),onChange:a,readonly:i,error:r.linija}),y.a.createElement(z,{label:"Kelias",divClassname:"form-group col-2",id:"defect-kelias",name:"main.kelias",placeholder:"Kelio Nr.",value:he(t,"main","kelias"),onChange:a,readonly:i,error:r.kelias}),y.a.createElement(z,{label:"km",divClassname:"form-group col-2",id:"defect-km",name:"main.km",placeholder:"km",value:he(t,"main","km"),onChange:a,readonly:i,error:r.km}),y.a.createElement(z,{label:"pk",divClassname:"form-group col-2",id:"defect-pk",name:"main.pk",placeholder:"pk",value:he(t,"main","pk"),onChange:a,readonly:i,error:r.pk}),y.a.createElement(z,{label:"m",divClassname:"form-group col-2",id:"defect-m",name:"main.m",placeholder:"m",value:he(t,"main","m"),onChange:a,readonly:i,error:r.m}),y.a.createElement(ne,{id:"defect-siule",divClassname:"form-group col-2",name:"main.siule",label:"Si\u016bl\u0117",value:he(t,"main","siule"),options:n.siule,onChange:a,disabled:i,error:r.siule})),y.a.createElement("div",{className:"form-group row text-center"},y.a.createElement(z,{label:"Data",divClassname:"form-group col-4",type:"date",id:"defect-data",name:"journal.data",value:he(t,"journal","data"),onChange:a,error:r.data}),y.a.createElement(ne,{id:"defect-oper",name:"journal.oper",label:"Operatorius",divClassname:"form-group col-4",value:he(t,"journal","oper"),options:n.oper,onChange:a,error:r.oper}),y.a.createElement(ne,{id:"defect-apar",name:"journal.apar",label:"Defektoskopas",divClassname:"form-group col-4",value:he(t,"journal","apar"),options:n.apar,onChange:a,error:r.apar})),y.a.createElement("div",{className:"form-group row text-center"},y.a.createElement(z,{label:"Kodas",divClassname:"form-group col-3",id:"defect-kodas",name:"journal.kodas",placeholder:"Kodas",value:he(t,"journal","kodas"),onChange:a,error:r.kodas}),y.a.createElement(z,{label:"L",divClassname:"form-group col-3",id:"defect-dl",name:"journal.dl",placeholder:"L",value:he(t,"journal","dl"),onChange:a,error:r.dl}),y.a.createElement(z,{label:"H",divClassname:"form-group col-3",id:"defect-dh",name:"journal.dh",placeholder:"H",value:he(t,"journal","dh"),onChange:a,error:r.dh}),y.a.createElement(ne,{id:"defect-pavoj",name:"journal.pavoj",label:"Pavojingumas",divClassname:"form-group col-3",value:he(t,"journal","pavoj"),options:n.pavoj,onChange:a,error:r.pavoj})),y.a.createElement("div",{className:"form-group row text-center"},y.a.createElement(z,{label:"Terminas",divClassname:"form-group col-3",type:"date",id:"defect-dtermin",name:"journal.dtermin",value:he(t,"journal","dtermin"),onChange:a,error:r.termin}),y.a.createElement(z,{label:"Pastaba",divClassname:"form-group col-9",id:"defect-note",name:"journal.note",placeholder:"Pastaba",value:he(t,"journal","note"),onChange:a,error:r.note})))},Na=function(e){var t=e.ind,a=e.inputItem,n=e.setItemEdit,r=e.deleteItem,i=e.copyItem,s=e.isCurrent,l=a.main,o=a.journal;return y.a.createElement("tr",{className:s?"current":void 0},y.a.createElement("td",{className:"id"},l.id),y.a.createElement("td",{className:"meistrija vieta"},l.meistrija),y.a.createElement("td",{className:"vk vieta"},pa(l)),y.a.createElement("td",{className:"oper-apar"},ua(o)),y.a.createElement("td",{className:"begis"},Ea(l)),y.a.createElement("td",{className:"data def"},o.data),y.a.createElement("td",{className:"kodas def"},o.kodas),y.a.createElement("td",{className:"hl"},da(o)),y.a.createElement("td",{className:"kkateg def"},l.kkateg),y.a.createElement("td",{className:"pavoj def"},o.pavoj),y.a.createElement("td",{className:"dtermin def"},o.dtermin),y.a.createElement("td",{className:"note"},o.note),y.a.createElement("td",null,y.a.createElement("div",{className:"button-group"},y.a.createElement("button",{className:"btn btn-xs btn-warning","data-ind":t,onClick:n},y.a.createElement("i",{className:"fas fa-edit","data-ind":t})),y.a.createElement("button",{className:"btn btn-xs btn-info","data-ind":t,onClick:i},y.a.createElement("i",{className:"fas fa-copy","data-ind":t})),y.a.createElement("button",{className:"btn btn-xs btn-danger","data-ind":t,onClick:r},y.a.createElement("i",{className:"fas fa-trash-alt","data-ind":t})))))},ka=function(){return y.a.createElement("tr",null,y.a.createElement("th",{className:"id"},"ID"),y.a.createElement("th",{className:"meistrija vieta"},"Meistrija"),y.a.createElement("th",{className:"vk vieta"},"Vietos kodas"),y.a.createElement("th",{className:"oper-apar"},"Oper-Apar"),y.a.createElement("th",{className:"begis"},"B\u0117gis"),y.a.createElement("th",{className:"data def"},"Data"),y.a.createElement("th",{className:"kodas def"},"Kodas"),y.a.createElement("th",{className:"hl"},"H/L"),y.a.createElement("th",{className:"kkateg def"},"KKateg"),y.a.createElement("th",{className:"pavoj def"},"Pavoj"),y.a.createElement("th",{className:"dtermin def"},"Terminas"),y.a.createElement("th",{className:"note"},"Pastaba"),y.a.createElement("th",{className:"controls"},"Controls"))},ja=function(e){var t=e.onChange,a=e.searchInput,n=e.options,r=e.errors;return y.a.createElement("form",null,y.a.createElement("div",{className:"form-group row"},y.a.createElement(z,{label:"Linija",id:"defect-search-linija",name:"linija",placeholder:"Linija",classname:"form-group col-12",value:Ee(a.linija),onChange:t,error:r.linija})),y.a.createElement("div",{className:"form-group row"},y.a.createElement(z,{label:"Kelias",id:"defect-search-kelias",name:"kelias",placeholder:"kelias",classname:"form-group col-12",value:Ee(a.kelias),onChange:t,error:r.kelias})),y.a.createElement("div",{className:"form-group row"},y.a.createElement(z,{label:"km",id:"defect-search-km",name:"km",placeholder:"km",classname:"form-group col-12",value:Ee(a.km),onChange:t,error:r.km})),y.a.createElement("div",{className:"form-group row"},y.a.createElement(z,{label:"pk",id:"defect-search-pk",name:"pk",placeholder:"pk",classname:"form-group col-12",value:Ee(a.pk),onChange:t,error:r.pk})),y.a.createElement("div",{className:"form-group row"},y.a.createElement(z,{label:"m",id:"defect-search-m",name:"m",placeholder:"m",classname:"form-group col-12",value:Ee(a.m),onChange:t,error:r.m})),y.a.createElement("div",{className:"form-group row"},y.a.createElement(ne,{id:"defect-search-siule",name:"siule",label:"Si\u016bl\u0117",classname:"form-group col-12",value:Ee(a.siule),options:n.siule,onChange:t,error:r.siule})))},Ia=function(e){var t=e.ind,a=e.foundItem,n=e.setItemEdit;return y.a.createElement("tr",null,y.a.createElement("td",{className:"id"},a.id),y.a.createElement("td",{className:"meistrija vt"},a.meistrija),y.a.createElement("td",{className:"kkateg"},a.kkateg),y.a.createElement("td",{className:"btipas begis"},a.btipas),y.a.createElement("td",{className:"bgamykl begis"},a.bgamykl),y.a.createElement("td",{className:"bmetai begis"},a.bmetai),y.a.createElement("td",{className:"linija vt"},a.linija),y.a.createElement("td",{className:"kelias vt"},a.kelias),y.a.createElement("td",{className:"km vt"},a.km),y.a.createElement("td",{className:"pk vt"},a.pk),y.a.createElement("td",{className:"m vt"},a.m),y.a.createElement("td",{className:"siule vt"},a.siule),y.a.createElement("td",{className:"data"},a.data),y.a.createElement("td",{className:"kodas def"},a.kodas),y.a.createElement("td",{className:"dl def"},a.dl),y.a.createElement("td",{className:"dh def"},a.dh),y.a.createElement("td",{className:"pavoj def"},a.pavoj),y.a.createElement("td",{className:"dtermin def"},a.dtermin),y.a.createElement("td",{className:"note"},a.note),y.a.createElement("td",null,y.a.createElement("div",{className:"button-group"},y.a.createElement("button",{className:"btn btn-xs btn-warning","data-ind":t,onClick:n},y.a.createElement("i",{className:"fas fa-edit","data-ind":t})))))},Oa=function(){return y.a.createElement("tr",null,y.a.createElement("th",{className:"id"},"ID"),y.a.createElement("th",{className:"meistrija vt"},"Meistrija"),y.a.createElement("th",{className:"kkateg"},"KKateg"),y.a.createElement("th",{className:"btipas begis"},"BTipas"),y.a.createElement("th",{className:"bgamykl begis"},"BGamykl"),y.a.createElement("th",{className:"bmetai begis"},"BMetai"),y.a.createElement("th",{className:"linija vt"},"Linija"),y.a.createElement("th",{className:"kelias vt"},"Kelias"),y.a.createElement("th",{className:"km vt"},"Km"),y.a.createElement("th",{className:"pk vt"},"Pk"),y.a.createElement("th",{className:"m vt"},"M"),y.a.createElement("th",{className:"siule vt"},"Si\u016bl\u0117"),y.a.createElement("th",{className:"data"},"Data"),y.a.createElement("th",{className:"kodas def"},"DKodas"),y.a.createElement("th",{className:"dl def"},"DL"),y.a.createElement("th",{className:"dh def"},"DH"),y.a.createElement("th",{className:"pavoj def"},"DPavoj"),y.a.createElement("th",{className:"dtermin def"},"Terminas"),y.a.createElement("th",{className:"note"},"Pastaba"),y.a.createElement("th",{className:"controls"},"Controls"))},Sa=function(e){return{meistrija:le(e.meistrija.sort(function(e,t){return e.ind-t.ind}),"-- nenurodyta --",function(e){return e.abbr+", "+e.name}),kkateg:le(e.kkateg,"-- nenurodyta --",function(e){return e.id}),btipas:le(e.btipas,"-- nenurodyta --",function(e){return e.id}),bgamykl:le(e.bgamykl,"-- nenurodyta --",function(e){return e.id}),siule:le(e.siule,"-- nenurodyta --",function(e){return e.id}),pavoj:le(e.pavoj.sort(function(e,t){return e.ind-t.ind}),"-- nenurodyta --",function(e){return e.id}),apar:le(e.defskop.sort(function(e,t){return e.id-t.id}),"-- nenurodyta --",function(e){return e.id}),oper:le(e.operat.sort(function(e,t){return e.name-t.name}),"-- nenurodyta --",function(e){return e.id+", "+e.name})}},Ca={id:{type:"integer",label:"id"},v:{type:"integer",label:"versija"},id1:{type:"integer",validator:"isNegative",label:"ID1"},regbit:{type:"integer",validator:"isNegative",label:"regiono bitas"},meistrija:{type:"string",required:!0,validator:"isEmptyString",label:"meistrija"},linija:{type:"string",required:!0,validator:"isEmptyString",label:"linija"},kelias:{type:"string",required:!0,validator:"isEmptyString",label:"kelias"},km:{type:"integer",required:!0,validator:"isNegative",label:"km"},pk:{type:"integer",required:!0,validator:"isNegative",label:"pk"},m:{type:"integer",required:!0,validator:"isNegative",label:"m"},siule:{type:"string",label:"si\u016bl\u0117"},kkateg:{type:"string",required:!0,validator:"isEmptyString",label:"kelio kategorija"},btipas:{type:"string",required:!0,validator:"isEmptyString",label:"b\u0117gio tipas"},bgamykl:{type:"string",required:!0,validator:"isEmptyString",label:"b\u0117gio gamykla"},bmetai:{type:"integer",required:!0,validator:"isNotYear",label:"b\u0117gio pagaminimo metai"},dstop:{type:"string",validator:"isNeitherEmptyStringNorShortDate",label:"pa\u0161alinimo data"}},_a={jid:{type:"integer",label:"id"},data:{type:"string",required:!0,validator:"isNotShortDate",label:"\u012fra\u0161o data"},kodas:{type:"string",required:!0,validator:"isEmptyString",label:"defekto kodas"},dl:{type:"number",validator:"isNegative",label:"defekto dydis L"},dh:{type:"number",validator:"isNegative",label:"defekto dydis H"},pavoj:{type:"string",required:!0,validator:"isEmptyString",label:"pavojingumo laipsnis"},oper:{type:"string",required:!0,validator:"isEmptyString",label:"operatoriaus kodas"},apar:{type:"string",required:!0,validator:"isEmptyString",label:"defektoskopo kodas"},dtermin:{type:"string",validator:"isNeitherEmptyStringNorShortDate",label:"pa\u0161alinimo terminas"},note:{type:"string",validator:"wrongLength",params:{min:0,max:255},label:"pastaba"},mainid:{type:"integer",label:"main id"}},wa=function(e){var t=e.item,a=e.ind,n=e.changeAction,r=e.setEdit,i=t.main,s=t.journal;return y.a.createElement("tr",{className:"approve-primary-row"},y.a.createElement("td",{className:"vbudas"},i.vbudas),y.a.createElement("td",{className:"vk vieta"},pa(i)),y.a.createElement("td",{className:"data def"},s.data),y.a.createElement("td",{className:"pvd def"},s.pvd),y.a.createElement("td",{className:"oper-apar"},ua(s)),y.a.createElement("td",{className:"controls"},y.a.createElement("button",{className:"btn btn-xs btn-light","data-ind":a,onClick:r},y.a.createElement("i",{className:"fas fa-edit","data-ind":a})),y.a.createElement(la,{action:t.action,ind:a,changeAction:n})))},Ta=function(e){var t=e.item,a=t.main,n=t.journal;return y.a.createElement("tr",{className:"approve-secondary-row"},y.a.createElement("td",{className:"supplied-by"},t.oper),y.a.createElement("td",{className:"supplied-when"},ca(t.timestamp)),y.a.createElement("td",{className:"id"},a.id),y.a.createElement("td",{className:"virino"},a.virino),y.a.createElement("td",{className:"data0"},a.data0),y.a.createElement("td",{className:"note"},n.note))},Ra=function(e){var t=e.item;return t.validation?y.a.createElement("tr",{className:"approve-validation-row"},y.a.createElement("td",{className:"pastaba",colSpan:"6"},ma(t.validation))):null},Pa=function(e){var t=e.item,a=e.ind,n=e.changeAction,r=e.setEdit;return y.a.createElement(y.a.Fragment,null,y.a.createElement(wa,{item:t,ind:a,changeAction:n,setEdit:r}),y.a.createElement(Ta,{item:t}),y.a.createElement(Ra,{item:t}))},xa=function(){return y.a.createElement("thead",null,y.a.createElement("tr",{className:"approve-primary-row"},y.a.createElement("th",{className:"vbudas"},"Virinimo b\u016bdas"),y.a.createElement("th",{className:"vk vieta"},"Vietos kodas"),y.a.createElement("th",{className:"data"},"Data"),y.a.createElement("th",{className:"pvd"},"Pavadinimas"),y.a.createElement("th",{className:"oper-apar"},"Oper-Apar"),y.a.createElement("th",{className:"controls"},"Actions")),y.a.createElement("tr",{className:"approve-secondary-row"},y.a.createElement("th",{className:"supplied-by"},"Pateik\u0117"),y.a.createElement("th",{className:"supplied-when"},"Kada"),y.a.createElement("th",{className:"id"},"ID"),y.a.createElement("th",{className:"virino"},"Kas virino"),y.a.createElement("th",{className:"data0"},"Virinimo data"),y.a.createElement("th",{className:"note"},"Pastaba")))},Aa=function(e){var t=e.item,a=e.onChange,n=e.options,r=e.errors,i=t&&t.main&&t.main.id>0;return y.a.createElement("form",null,r.common&&y.a.createElement(W,{message:r.common,type:"error"}),y.a.createElement("div",{className:"form-group row general-data text-center"},y.a.createElement(ne,{id:"welding-vbudas",divClassname:"form-group col-4",name:"main.vbudas",label:"Virinimo b\u016bdas",value:he(t,"main","vbudas"),options:n.vbudas,onChange:a,disabled:i,error:r.vbudas}),y.a.createElement(ne,{id:"welding-virino",divClassname:"form-group col-4",name:"main.virino",label:"Kas virino",value:he(t,"main","virino"),options:n.virino,onChange:a,disabled:i,error:r.virino}),y.a.createElement(z,{divClassname:"form-group col-4",type:"date",label:"Virinimo data",id:"welding-data0",name:"main.data0",value:he(t,"main","data0"),onChange:a,readonly:i,error:r.data0})),y.a.createElement("div",{className:"form-group row vieta text-center"},y.a.createElement(z,{label:"Linija",divClassname:"form-group col-4",id:"welding-linija",name:"main.linija",placeholder:"Linija",value:he(t,"main","linija"),onChange:a,readonly:i,error:r.linija}),y.a.createElement(z,{label:"Kelias",divClassname:"form-group col-4",id:"welding-kelias",name:"main.kelias",placeholder:"Kelio Nr.",value:he(t,"main","kelias"),onChange:a,readonly:i,error:r.kelias}),y.a.createElement(z,{label:"km",divClassname:"form-group col-4",id:"welding-km",name:"main.km",placeholder:"km",value:he(t,"main","km"),onChange:a,readonly:i,error:r.km}),y.a.createElement(z,{label:"pk",divClassname:"form-group col-4",id:"welding-pk",name:"main.pk",placeholder:"pk",value:he(t,"main","pk"),onChange:a,readonly:i,error:r.pk}),y.a.createElement(z,{label:"m",divClassname:"form-group col-4",id:"welding-m",name:"main.m",placeholder:"m",value:he(t,"main","m"),onChange:a,readonly:i,error:r.m}),y.a.createElement(ne,{id:"welding-siule",divClassname:"form-group col-4",name:"main.siule",label:"Si\u016bl\u0117",value:he(t,"main","siule"),options:n.siule,onChange:a,disabled:i,error:r.siule})),y.a.createElement("div",{className:"form-group row specific-data text-center"},y.a.createElement(z,{label:"Data",divClassname:"form-group col-4",type:"date",id:"welding-data",name:"journal.data",value:he(t,"journal","data"),onChange:a,error:r.data}),y.a.createElement(ne,{id:"welding-oper",name:"journal.oper",label:"Operatorius",divClassname:"form-group col-4",value:he(t,"journal","oper"),options:n.oper,onChange:a,error:r.oper}),y.a.createElement(ne,{id:"welding-apar",name:"journal.apar",label:"Defektoskopas",divClassname:"form-group col-4",value:he(t,"journal","apar"),options:n.apar,onChange:a,error:r.apar})),y.a.createElement("div",{className:"form-group row description text-center"},y.a.createElement(ne,{id:"welding-pvd",name:"journal.pvd",label:"Tikrinimo pavadinimas",divClassname:"form-group col-3",value:he(t,"journal","pvd"),options:n.vpvd,onChange:a,error:r.pvd}),y.a.createElement(z,{label:"Pastaba",divClassname:"form-group col-9",id:"welding-note",name:"journal.note",placeholder:"Pastaba",value:he(t,"journal","note"),onChange:a,error:r.note})))},Da=function(e){var t=e.ind,a=e.inputItem,n=e.setItemEdit,r=e.deleteItem,i=e.copyItem,s=e.isCurrent,l=a.main,o=a.journal;return y.a.createElement("tr",{className:s?"current":void 0},y.a.createElement("td",{className:"id"},l.id),y.a.createElement("td",{className:"vbudas"},l.vbudas),y.a.createElement("td",{className:"data0"},l.data0),y.a.createElement("td",{className:"vk vieta"},pa(l)),y.a.createElement("td",{className:"virino"},l.virino),y.a.createElement("td",{className:"data"},o.data),y.a.createElement("td",{className:"oper-apar"},ua(o)),y.a.createElement("td",{className:"pvd"},o.pvd),y.a.createElement("td",{className:"note"},o.note),y.a.createElement("td",null,y.a.createElement("div",{className:"button-group"},y.a.createElement("button",{className:"btn btn-xs btn-warning","data-ind":t,onClick:n},y.a.createElement("i",{className:"fas fa-edit","data-ind":t})),y.a.createElement("button",{className:"btn btn-xs btn-info","data-ind":t,onClick:i},y.a.createElement("i",{className:"fas fa-copy","data-ind":t})),y.a.createElement("button",{className:"btn btn-xs btn-danger","data-ind":t,onClick:r},y.a.createElement("i",{className:"fas fa-trash-alt","data-ind":t})))))},La=function(){return y.a.createElement("tr",null,y.a.createElement("th",{className:"id"},"ID"),y.a.createElement("th",{className:"vbudas"},"B\u016bdas"),y.a.createElement("th",{className:"data0"},"Virinimo data"),y.a.createElement("th",{className:"vk vieta"},"Vietos kodas"),y.a.createElement("th",{className:"virino"},"Kas virino"),y.a.createElement("th",{className:"data"},"Tikrinimo data"),y.a.createElement("th",{className:"oper-apar"},"Oper-Apar"),y.a.createElement("th",{className:"pvd"},"Pavadinimas"),y.a.createElement("th",{className:"note"},"Pastaba"),y.a.createElement("th",{className:"controls"},"Controls"))},Ua=function(e){var t=e.onChange,a=e.searchInput,n=e.options,r=e.errors;return y.a.createElement("form",null,y.a.createElement("div",{className:"form-group row"},y.a.createElement(ne,{id:"welding-search-vbudas",name:"vbudas",label:"Virinimo b\u016bdas",classname:"form-group col-12",value:Ee(a.vbudas),options:n.vbudas,onChange:t,error:r.vbudas})),y.a.createElement("div",{className:"form-group row"},y.a.createElement(z,{label:"Linija",id:"welding-search-linija",name:"linija",placeholder:"Linija",classname:"form-group col-12",value:Ee(a.linija),onChange:t,error:r.linija})),y.a.createElement("div",{className:"form-group row"},y.a.createElement(z,{label:"Kelias",id:"welding-search-kelias",name:"kelias",placeholder:"kelias",classname:"form-group col-12",value:Ee(a.kelias),onChange:t,error:r.kelias})),y.a.createElement("div",{className:"form-group row"},y.a.createElement(z,{label:"km",id:"welding-search-km",name:"km",placeholder:"km",classname:"form-group col-12",value:Ee(a.km),onChange:t,error:r.km})),y.a.createElement("div",{className:"form-group row"},y.a.createElement(z,{label:"pk",id:"welding-search-pk",name:"pk",placeholder:"pk",classname:"form-group col-12",value:Ee(a.pk),onChange:t,error:r.pk})),y.a.createElement("div",{className:"form-group row"},y.a.createElement(z,{label:"m",id:"welding-search-m",name:"m",placeholder:"m",classname:"form-group col-12",value:Ee(a.m),onChange:t,error:r.m})),y.a.createElement("div",{className:"form-group row"},y.a.createElement(ne,{id:"welding-search-siule",name:"siule",label:"Si\u016bl\u0117",classname:"form-group col-12",value:Ee(a.siule),options:n.siule,onChange:t,error:r.siule})))},Fa=function(e){var t=e.ind,a=e.foundItem,n=e.setItemEdit;return y.a.createElement("tr",null,y.a.createElement("td",{className:"id"},a.id),y.a.createElement("td",{className:"vbudas"},a.vbudas),y.a.createElement("td",{className:"data0"},a.data0),y.a.createElement("td",{className:"virino"},a.virino),y.a.createElement("td",{className:"linija vt"},a.linija),y.a.createElement("td",{className:"kelias vt"},a.kelias),y.a.createElement("td",{className:"km vt"},a.km),y.a.createElement("td",{className:"pk vt"},a.pk),y.a.createElement("td",{className:"m vt"},a.m),y.a.createElement("td",{className:"siule vt"},a.siule),y.a.createElement("td",{className:"data"},a.data),y.a.createElement("td",{className:"pvd"},a.pvd),y.a.createElement("td",{className:"note"},a.note),y.a.createElement("td",null,y.a.createElement("div",{className:"button-group"},y.a.createElement("button",{className:"btn btn-xs btn-warning","data-ind":t,onClick:n},y.a.createElement("i",{className:"fas fa-edit","data-ind":t})))))},Ma=function(){return y.a.createElement("tr",null,y.a.createElement("th",{className:"id"},"ID"),y.a.createElement("th",{className:"vbudas"},"B\u016bdas"),y.a.createElement("th",{className:"data0"},"Virinimo data"),y.a.createElement("th",{className:"virino"},"Kas virino"),y.a.createElement("th",{className:"linija vt"},"Linija"),y.a.createElement("th",{className:"kelias vt"},"Kelias"),y.a.createElement("th",{className:"km vt"},"Km"),y.a.createElement("th",{className:"pk vt"},"Pk"),y.a.createElement("th",{className:"m vt"},"M"),y.a.createElement("th",{className:"siule vt"},"Si\u016bl\u0117"),y.a.createElement("th",{className:"data"},"Tikrinimo Data"),y.a.createElement("th",{className:"pvd"},"Pavadinimas"),y.a.createElement("th",{className:"note"},"Pastaba"),y.a.createElement("th",{className:"controls"},"Controls"))},Ha=function(e){return{vbudas:le(e.vbudas.sort(function(e,t){return e.ind-t.ind}),"-- nenurodyta --",function(e){return e.id+", "+e.name}),virino:le(e.virino,"-- nenurodyta --",function(e){return e.id}),vpvd:le(e.vpvd,"-- nenurodyta --",function(e){return e.pvdname},function(e){return e.pvdid},function(e){return e.pvdid}),siule:le(e.siule,"-- nenurodyta --",function(e){return e.id}),apar:le(e.defskop.sort(function(e,t){return e.id-t.id}),"-- nenurodyta --",function(e){return e.id}),oper:le(e.operat.sort(function(e,t){return e.name-t.name}),"-- nenurodyta --",function(e){return e.id+", "+e.name})}},Ba=a(45),qa=(vt={},Object(V.a)(vt,Ne,{approveRow:o,inputForm:c,iApproveEditForm:c,inputRow:m,searchForm:u,searchResultRow:d,model:p,options:Sa}),Object(V.a)(vt,ke,{approveRow:E,inputForm:h,iApproveEditForm:h,inputRow:f,searchForm:g,searchResultRow:b,model:Ba,options:Ha}),vt),Ga=function(e){var t=e.inputItems,a=e.itype,n=e.newInputHandler,r=e.sendHandler,i=e.clearHandler,s=e.setItemEditHandler,l=e.deleteItemHandler,o=e.copyInputHandler,c=e.currentId,m=e.info,u=e.hideInfo,d=qa[a].inputRow.InputRow,p=qa[a].inputRow.InputHeadRow,E=t.map(function(e,t){return y.a.createElement(d,{ind:t,inputItem:e,setItemEdit:s,deleteItem:l,copyItem:o,key:e.main.id,isCurrent:c&&e.main.id===c})});return y.a.createElement("div",{className:"container-fluid oper-input-panel"},m&&y.a.createElement("div",{className:"row info-row"},y.a.createElement("div",{className:"col-12"},y.a.createElement(W,{message:m.message,type:m.type,hide:u}))),y.a.createElement("div",{className:"row table-row"},y.a.createElement("div",{className:"col-12"},y.a.createElement("table",{className:"table table-sm table-striped table-bordered items"},y.a.createElement("thead",null,y.a.createElement(p,null)),y.a.createElement("tbody",null,E)))),y.a.createElement("div",{className:"row button-row"},y.a.createElement("div",{className:"col-12"},y.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:n},"New Input"),y.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:r},"Send"),y.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:i},"Clear"))))},Va=function(e){var t=e.foundItems,a=e.itype,n=e.setItemEditHandler,r=e.newSearchHandler,i=e.info,s=e.hideInfo,l=qa[a].searchResultRow.SearchHeadRow,o=qa[a].searchResultRow.FoundItemRow,c=t.map(function(e,t){return y.a.createElement(o,{ind:t,foundItem:e,setItemEdit:n,key:e.id})});return y.a.createElement("div",{className:"container search-panel"},i&&y.a.createElement("div",{className:"row info-row"},y.a.createElement("div",{className:"col-12"},y.a.createElement(W,{message:i.message,type:i.type,hide:s}))),y.a.createElement("div",{className:"row button-row"},y.a.createElement("div",{className:"col-12"},y.a.createElement("button",{type:"button",className:"btn btn-warning",onClick:r},"New Search"))),y.a.createElement("div",{className:"row table-row"},y.a.createElement("div",{className:"col-12"},y.a.createElement("table",{className:"table table-sm table-striped table-bordered items"},y.a.createElement("thead",null,y.a.createElement(l,null)),y.a.createElement("tbody",null,c)))))},Qa=function(e){var t=e.body,a=e.title,n=e.submitHandler,r=e.cancelHandler,i=e.purpose,s=e.show;return y.a.createElement("div",{className:"operinput my-modal "+i,style:s?{display:"block"}:{display:"none"},id:"form-panel",tabIndex:"-1"},y.a.createElement("div",{className:"modal-content"},y.a.createElement("div",{className:"modal-header"},y.a.createElement("h5",{className:"modal-title",id:"modal-title"},a),y.a.createElement("button",{type:"button",className:"reject-button",onClick:r},"\xd7")),y.a.createElement("div",{className:"modal-body"},t),y.a.createElement("div",{className:"modal-footer"},y.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:r},"Close"),y.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:n},"Submit"))))},Ja=function(e){return new Date(e).toLocaleString("lt-LT").slice(0,-3)},Ka={supplied:function(e){return JSON.parse(e.input).map(function(t){return a=t,n=e.oper,r=e.timestamp,Object($e.a)({},a,{supplied:{by:n,when:Ja(r)}});var a,n,r})},unapproved:function(e){return JSON.parse(e.input)}},Ya=function(){return function(e){e({type:"OPERINPUT_SEARCH_INFO_REMOVE"})}},za=function(e){function t(e){var a;return Object(j.a)(this,t),a=Object(O.a)(this,Object(S.a)(t).call(this,e)),Object.defineProperty(Object(Q.a)(a),Xa,{writable:!0,value:void 0}),a.state={currentInput:{},inputItemErrors:{},showInputModal:!1,searchInput:{},searchInputErrors:{},showSearchModal:!1},a.changeInputItem=a.changeInputItem.bind(Object(Q.a)(a)),a.startNewInput=a.startNewInput.bind(Object(Q.a)(a)),a.submitRecord=a.submitRecord.bind(Object(Q.a)(a)),a.cancelEditRecord=a.cancelEditRecord.bind(Object(Q.a)(a)),a.clearCurrentRecord=a.clearCurrentRecord.bind(Object(Q.a)(a)),a.changeSearchInput=a.changeSearchInput.bind(Object(Q.a)(a)),a.submitSearch=a.submitSearch.bind(Object(Q.a)(a)),a.cancelSearch=a.cancelSearch.bind(Object(Q.a)(a)),a.clearCurrentSearch=a.clearCurrentSearch.bind(Object(Q.a)(a)),a.sendItems=a.sendItems.bind(Object(Q.a)(a)),a.clearInputItems=a.clearInputItems.bind(Object(Q.a)(a)),a.setItemEdit=a.setItemEdit.bind(Object(Q.a)(a)),a.deleteItem=a.deleteItem.bind(Object(Q.a)(a)),a.setFoundItemEdit=a.setFoundItemEdit.bind(Object(Q.a)(a)),a.startNewSearch=a.startNewSearch.bind(Object(Q.a)(a)),a.hideInfo=a.hideInfo.bind(Object(Q.a)(a)),a.hideSearchInfo=a.hideSearchInfo.bind(Object(Q.a)(a)),a.copyInput=a.copyInput.bind(Object(Q.a)(a)),Object(kt.a)(Object(Q.a)(a),Xa)[Xa]=qa[a.props.itype].options(a.props.things),a}return Object(C.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUnapprovedOperInput(this.props.itype)}},{key:"componentDidUpdate",value:function(e){e.itype!==this.props.itype&&(Object(kt.a)(this,Xa)[Xa]=qa[this.props.itype].options(this.props.things),this.props.clearFound(),this.setState({searchInputErrors:{},showSearchModal:!1}),this.props.fetchUnapprovedOperInput(this.props.itype))}},{key:"hideInfo",value:function(){this.props.removeInfo()}},{key:"hideSearchInfo",value:function(){this.props.removeSearchInfo()}},{key:"componentWillUnmount",value:function(){this.props.clearOperInput()}},{key:"findIndexById",value:function(e,t){return t.findIndex(function(t){return t.main.id.toString()===e.toString()})}},{key:"copyInput",value:function(e){var t=parseInt(e.target.dataset.ind),a={main:Object($e.a)({},this.props.items[t].main,{id:-Date.now()}),journal:Object($e.a)({},this.props.items[t].journal)};delete a.journal.mainid,this.setState({currentInput:a,inputItemErrors:{},showInputModal:!0,showSearchModal:!1})}},{key:"changeInputItem",value:function(e){var t=e.target.name.split("."),a={main:Object($e.a)({},this.state.currentInput.main),journal:Object($e.a)({},this.state.currentInput.journal)};a[t[0]][t[1]]=e.target.value,this.setState({currentInput:a})}},{key:"startNewInput",value:function(){this.setState({currentInput:{main:{id:-Date.now()},journal:{}},inputItemErrors:{},showInputModal:!0,showSearchModal:!1})}},{key:"validateRecord",value:function(e,t){return{item:e}}},{key:"submitRecord",value:function(){var e=this.validateRecord(this.state.currentInput,this.props.itype);if(e.errors)this.setState({inputItemErrors:e.errors});else{var t=e.item;if(this.props.items.some(function(e){return function(e,t){var a=function(a){var n=e[a],r=t[a];return(null==n||""===n)&&(null==r||""===r)||null!=n&&null!=r&&n.toString()===r.toString()};return a("linija")&&a("kelias")&&a("km")&&a("pk")&&a("m")&&a("siule")}(e.main,t.main)&&e.main.id!==t.main.id}))this.setState({inputItemErrors:{common:"same place"}});else{var a,n=this.findIndexById(t.main.id,this.props.items);a=n<0?[].concat(Object(Nt.a)(this.props.items),[t]):[].concat(Object(Nt.a)(this.props.items.slice(0,n)),[t],Object(Nt.a)(this.props.items.slice(n+1))),this.props.setItems(a),this.setState({inputItemErrors:{},showInputModal:!1,currentInput:{}})}}}},{key:"cancelEditRecord",value:function(){this.setState({inputItemErrors:{},currentInput:{},showInputModal:!1})}},{key:"clearCurrentRecord",value:function(){this.setState({inputItemErrors:{},currentInput:{}})}},{key:"changeSearchInput",value:function(e){var t=Object($e.a)({},this.state.searchInput,Object(V.a)({},e.target.name,e.target.value));this.setState({searchInput:t})}},{key:"validateSearchInput",value:function(e,t){return t}},{key:"submitSearch",value:function(){var e=this.validateSearchInput(this.props.itype,this.state.searchInput);e.errors?this.setState({searchInputErrors:e.errors}):(this.setState({showSearchModal:!1}),this.props.searchItems(this.props.itype,e))}},{key:"cancelSearch",value:function(){this.setState({searchInputErrors:{},searchInput:{},showSearchModal:!1})}},{key:"clearCurrentSearch",value:function(){this.setState({searchInputErrors:{},searchInput:{}})}},{key:"sendItems",value:function(){this.props.items.length<1||this.props.supplyOperInput(this.props.items,this.props.itype)}},{key:"clearInputItems",value:function(){this.props.clearOperInput()}},{key:"setItemEdit",value:function(e){var t=parseInt(e.target.dataset.ind);this.setState({currentInput:{main:Object($e.a)({},this.props.items[t].main),journal:Object($e.a)({},this.props.items[t].journal)},inputItemErrors:{},showInputModal:!0,showSearchModal:!1})}},{key:"deleteItem",value:function(e){var t=parseInt(e.target.dataset.ind);this.props.setItems([].concat(Object(Nt.a)(this.props.items.slice(0,t)),Object(Nt.a)(this.props.items.slice(t+1)))),this.setState({currentInput:{}})}},{key:"setFoundItemEdit",value:function(e){var t=parseInt(e.target.dataset.ind),a=function(e,t){var a={};Object.keys(t.main).forEach(function(t){return a[t]=e[t]});var n={};return Object.keys(t.journal).forEach(function(e){return n[e]=null}),n.mainid=e.id,{main:a,journal:n}}(Object($e.a)({},this.props.foundItems[t]),qa[this.props.itype].model);this.setState({showSearchModal:!1,showInputModal:!0,currentInput:a,inputItemErrors:{},searchInputErrors:{},searchInput:{}})}},{key:"startNewSearch",value:function(){this.setState({showSearchModal:!0,showInputModal:!1,searchInputErrors:{},searchInput:{}})}},{key:"render",value:function(){var e=qa[this.props.itype].inputForm.default,t=qa[this.props.itype].searchForm.default;return y.a.createElement(y.a.Fragment,null,y.a.createElement(X,{when:this.props.isLoading}),y.a.createElement("div",{className:"container-fluid"},y.a.createElement(Qa,{body:e({item:this.state.currentInput,onChange:this.changeInputItem,options:Object(kt.a)(this,Xa)[Xa],errors:this.state.inputItemErrors}),title:"\u012era\u0161o suk\u016brimas/redagavimas",submitHandler:this.submitRecord,cancelHandler:this.cancelEditRecord,purpose:"input",show:this.state.showInputModal}),y.a.createElement(Qa,{body:t({searchInput:this.state.searchInput,onChange:this.changeSearchInput,options:Object(kt.a)(this,Xa)[Xa],errors:this.state.searchInputErrors}),title:"\u012era\u0161\u0173 paie\u0161ka",submitHandler:this.submitSearch,cancelHandler:this.cancelSearch,clearHandler:this.clearCurrentSearch,purpose:"search",show:this.state.showSearchModal}),y.a.createElement(Ga,{inputItems:this.props.items,itype:this.props.itype,newInputHandler:this.startNewInput,sendHandler:this.sendItems,clearHandler:this.clearInputItems,setItemEditHandler:this.setItemEdit,deleteItemHandler:this.deleteItem,copyInputHandler:this.copyInput,currentId:this.state.currentInput.main?this.state.currentInput.main.id:null,info:this.props.info,hideInfo:this.hideInfo}),y.a.createElement(Va,{foundItems:this.props.foundItems,itype:this.props.itype,setItemEditHandler:this.setFoundItemEdit,newSearchHandler:this.startNewSearch,info:this.props.searchInfo,hideInfo:this.hideSearchInfo})))}}]),t}(v.Component),Xa=Object(jt.a)("options"),Wa=Object(w.b)(function(e){return{things:e.things.data,items:e.operInput.items,foundItems:e.operInput.foundItems,isLoading:e.operInput.isLoading,info:e.operInput.info,searchInfo:e.operInput.searchInfo}},{fetchUnapprovedOperInput:function(e){return function(t){t({type:"UNAPPROVED_FETCH_BEGIN"});var a={params:{itype:e}};R.a.get("/api/operinput/unapproved",a).then(function(e){var a=function(e,t){var a=Ka[t];return e.reduce(function(e,t){return e.concat(a(t))},[])}(e.data,"unapproved");t({type:"UNAPPROVED_FETCH_SUCCESS",payload:{items:a}})}).catch(function(e){console.error(e),t({type:"UNAPPROVED_FETCH_FAILURE",payload:{errormsg:e.message}})})}},searchItems:function(e,t){return function(a){a(function(e){e({type:"OPERINPUT_SEARCH_INFO_REMOVE"})}),a({type:"OPERINPUT_ITEMS_SEARCH_BEGIN"}),R.a.get("/api/items/search/location",{params:Object($e.a)({itype:e},t)}).then(function(e){a({type:"OPERINPUT_ITEMS_SEARCH_SUCCESS",payload:{items:e.data}})}).catch(function(e){var t,n="error";e.response&&e.response.data?(e.response.data.ok&&(n="info"),t=e.response.data.msg):(console.error(e),t=e.toString()),a(function(e,t){return{type:"OPERINPUT_ITEMS_SEARCH_FAILURE",payload:{msg:e,type:t}}}(t,n))})}},setItems:function(e){return function(t){t({type:"OPERINPUT_SET_ITEMS",payload:{items:e}})}},supplyOperInput:function(e,t){return function(a){a({type:"OPERINPUT_SUPPLY_BEGIN"}),R.a.post("/api/operinput/supply",{input:e,itype:t}).then(function(e){a({type:"OPERINPUT_SUPPLY_SUCCESS"})}).catch(function(e){console.error(e),a({type:"OPERINPUT_SUPPLY_FAILURE",payload:{errormsg:e.message}})})}},clearOperInput:function(){return function(e){e({type:"OPERINPUT_CLEAR"})}},clearFound:function(){return function(e){e({type:"OPERINPUT_CLEAR_FOUND"})}},removeInfo:function(){return function(e){e({type:"OPERINPUT_INFO_REMOVE"})}},removeSearchInfo:Ya})(za),$a=function(e){function t(e){var a;return Object(j.a)(this,t),a=Object(O.a)(this,Object(S.a)(t).call(this,e)),Object.defineProperty(Object(Q.a)(a),Za,{writable:!0,value:void 0}),a.state={currentIndex:null,currentItem:null,showModal:!1,localValidationErrors:{}},a.changeAction=a.changeAction.bind(Object(Q.a)(a)),a.changeItem=a.changeItem.bind(Object(Q.a)(a)),a.setEdit=a.setEdit.bind(Object(Q.a)(a)),a.submitEdit=a.submitEdit.bind(Object(Q.a)(a)),a.cancelEdit=a.cancelEdit.bind(Object(Q.a)(a)),a.submitItems=a.submitItems.bind(Object(Q.a)(a)),Object(kt.a)(Object(Q.a)(a),Za)[Za]=qa[a.props.itype].options(a.props.things),a}return Object(C.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchSuppliedOperInput(this.props.itype)}},{key:"componentDidUpdate",value:function(e){e.itype!==this.props.itype&&(Object(kt.a)(this,Za)[Za]=qa[this.props.itype].options(this.props.things),this.props.fetchSuppliedOperInput(this.props.itype))}},{key:"replaceItem",value:function(e,t,a){return[].concat(Object(Nt.a)(a.slice(0,t)),[e],Object(Nt.a)(a.slice(t+1)))}},{key:"changeAction",value:function(e){var t=parseInt(e.target.dataset.ind),a=e.target.value,n=Object($e.a)({},this.props.items[t],{action:a}),r=this.replaceItem(n,t,this.props.items);this.props.setItems(r)}},{key:"setEdit",value:function(e){var t=parseInt(e.target.dataset.ind),a=this.props.items[t];this.setState({currentIndex:t,currentItem:Object($e.a)({},a,{main:Object($e.a)({},a.main),journal:Object($e.a)({},a.journal)}),showModal:!0})}},{key:"changeItem",value:function(e){var t=e.target.name.split("."),a=Object($e.a)({},this.state.currentItem);a[t[0]][t[1]]=e.target.value,this.setState({currentItem:a})}},{key:"submitEdit",value:function(){var e=this.state.currentIndex,t=this.state.currentItem,a=this.replaceItem(t,e,this.props.items);this.props.setItems(a),this.setState({currentIndex:null,currentItem:null,showModal:!1})}},{key:"cancelEdit",value:function(){this.setState({currentIndex:null,note:"",showModal:!1})}},{key:"submitItems",value:function(){this.props.submitIApprove(this.props.items,this.props.itype)}},{key:"render",value:function(){var e=this;if(0===this.props.items.length)return y.a.createElement("div",{className:"container"},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"col"},"No items to approve or disapprove yet.")));var t=qa[this.props.itype].iApproveEditForm.default,a=qa[this.props.itype].approveRow.SingleRow,n=qa[this.props.itype].approveRow.HeadRow,r=this.props.items.map(function(t,n){return y.a.createElement(a,{item:t,ind:n,changeAction:e.changeAction,setEdit:e.setEdit,key:t.id})});return y.a.createElement(y.a.Fragment,null,y.a.createElement(X,{when:this.props.isLoading}),this.props.info?y.a.createElement(W,{message:this.props.info.message,type:this.props.info.type}):null,y.a.createElement(Qa,{body:t({item:this.state.currentItem,onChange:this.changeItem,options:Object(kt.a)(this,Za)[Za],errors:this.state.localValidationErrors}),title:"\u012era\u0161o redagavimas",submitHandler:this.submitEdit,cancelHandler:this.cancelEdit,show:this.state.showModal}),y.a.createElement("div",{className:"container"},y.a.createElement("div",{className:"row"},y.a.createElement("table",{className:"table"},y.a.createElement(n,null),y.a.createElement("tbody",null,r))),y.a.createElement("div",{className:"row"},y.a.createElement("button",{className:"btn btn-warning",onClick:this.submitItems},"Submit"))))}}]),t}(v.Component),Za=Object(jt.a)("options"),en=Object(w.b)(function(e){return{things:e.things.data,items:e.iApprove.items,info:e.iApprove.info,isLoading:e.iApprove.isLoading}},{submitIApprove:function(e,t){return function(a){a({type:"IAPPROVE_PROCESS_BEGIN"}),R.a.post("/api/operinput/process-approved",{input:e.filter(function(e){return"none"!==e.action}),itype:t}).then(function(e){a({type:"IAPPROVE_PROCESS_SUCCESS",payload:{items:e.data}})}).catch(function(e){console.error(e),a({type:"IAPPROVE_PROCESS_FAILURE",payload:{errormsg:e.message}})})}},fetchSuppliedOperInput:function(e){return function(t){t({type:"IAPPROVE_FETCH_BEGIN"}),R.a.get("/api/operinput/supplied",{params:{itype:e}}).then(function(e){t({type:"IAPPROVE_FETCH_SUCCESS",payload:{items:e.data}})}).catch(function(e){console.error(e),t({type:"IAPPROVE_FETCH_FAILURE",payload:{errormsg:e.message}})})}},setItems:function(e){return function(t){t({type:"IAPPROVE_SET_ITEMS",payload:{items:e}})}}})($a),tn=a(80),an=a(83),nn=a(79),rn=a(18),sn=a(46),ln={data:null,isLoading:!1,errormsg:null},on={isAuthenticated:!1,user:{},isBusy:!1,errors:{}},cn={isBusy:!1,errors:{}};function mn(e,t){var a={};return Object.keys(e).forEach(function(n){return a[e[n]]=Object($e.a)({},t)}),a}var un=mn(l,{data:[],valid:!1,isLoading:!1,error:null,successmsg:""}),dn={data:{},rtype:"",params:null,errormsg:null,isLoading:!1},pn=Object($e.a)({},{items:[],isBusy:!1,errormsg:null}),En=Object($e.a)({},{items:[],foundItems:[],isLoading:!1,info:null,searchInfo:null}),hn=Object($e.a)({},{items:[],isLoading:!1,info:null}),fn=mn(l,[]),gn=mn(l,{itemEdit:{fatal:null,info:null},itemList:{fatal:null,info:null}}),bn=mn(l,{filterText:"",sortText:"",errormsg:null}),vn=3,yn=10,Nn=function(e,t,a){var n=a*e,r=Math.floor(vn/2),i=Math.ceil(t/e),s=i-1,l=i-a-1,o=a,c=[];c.push({pageIndex:a,label:a+1,role:"current"});for(var m=1;m<=r&&a-m>0;)c.unshift({pageIndex:a-m,label:a-m+1,role:"visible-left"}),m++;for(m=1;m<=r&&a+m<s;)c.push({pageIndex:a+m,label:a+m+1,role:"visible-right"}),m++;if(c[0].pageIndex>1){c.unshift({pageIndex:-1,label:"...",role:"ellipsis-left"});for(var u=0;Math.pow(yn,u)<=o;)u++;for(m=0;m<u;m++){var d=a-Math.pow(yn,m);c.unshift({pageIndex:d,label:Array(m+2).join("<"),role:"shift-back"})}}if(a>0&&c.unshift({pageIndex:0,label:1,role:"first-page"}),c[c.length-1].pageIndex<s-1){c.push({pageIndex:-1,label:"...",role:"ellipsis-right"});for(var p=0;Math.pow(yn,p)<=l;)p++;for(m=0;m<p;m++){var E=a+Math.pow(yn,m);c.push({pageIndex:E,label:Array(m+2).join(">"),role:"shift-forward"})}}return a<s&&c.push({pageIndex:s,label:s+1,role:"last-page"}),{itemsPerPage:e,currPageIndex:a,firstItemIndex:n,buttons:c}},kn=mn(l,{itemsPerPage:0,currPageIndex:0,firstItemIndex:0,buttons:[]}),jn=mn(l,{fsOn:!1,fsManualOn:!1}),In=mn(l,{isBusy:!1,all:!1}),On=mn(l,{data:[],valid:!1}),Sn=Object(rn.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:on,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_BEGIN":return Object($e.a)({},e,{isBusy:!0,user:{},errors:{},isAuthenticated:!1});case"SET_CURRENT_USER":return Object($e.a)({},e,{isAuthenticated:!se(t.payload),user:t.payload,isBusy:!1,errors:{}});case"LOGIN_ERROR":return Object($e.a)({},e,{isBusy:!1,user:{},errors:t.payload.errors,isAuthenticated:!1});case D:return on;default:return e}},things:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THINGS_FETCH_BEGIN":return Object($e.a)({},e,{isLoading:!0,errormsg:null,data:null});case"THINGS_FETCH_SUCCESS":return Object($e.a)({},e,{isLoading:!1,errormsg:null,data:t.payload.things});case"THINGS_FETCH_FAILURE":return Object($e.a)({},e,{isLoading:!1,errormsg:t.payload.errormsg,data:null});case D:return ln;default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER_BEGIN":return Object($e.a)({},e,{isBusy:!0,errors:{}});case"REGISTER_SUCCESS":return Object($e.a)({},e,{isBusy:!1,errors:{}});case"REGISTER_ERROR":return Object($e.a)({},e,{isBusy:!1,errors:t.payload.errors});case D:return cn;default:return e}},queries:function(){var e,t,a,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case"QUERIES_FETCH_BEGIN":case"QUERY_UPDATE_BEGIN":case"QUERY_INSERT_BEGIN":case"QUERY_DELETE_BEGIN":return e=s.payload.itype,Object($e.a)({},i,Object(V.a)({},e,Object($e.a)({},i[e],{isLoading:!0,valid:!1,error:null,successmsg:""})));case"QUERIES_FETCH_SUCCESS":return e=s.payload.itype,Object($e.a)({},i,Object(V.a)({},e,Object($e.a)({},i[e],{data:s.payload.queries,isLoading:!1,valid:!0,error:null,successmsg:""})));case"QUERY_UPDATE_SUCCESS":return t=s.payload.query,(r=i[e=s.payload.itype].data.findIndex(function(e){return e.id===t.id}))<0?Object($e.a)({},i,Object(V.a)({},e,Object($e.a)({},i[e],{error:{message:"\u012evyko nesuprantama klaida"},valid:!1,isLoading:!1,successmsg:""}))):(a=[].concat(Object(Nt.a)(i[e].data.slice(0,r)),[t],Object(Nt.a)(i[e].data.slice(r+1))),Object($e.a)({},i,Object(V.a)({},e,Object($e.a)({},i[e],{data:a,isLoading:!1,error:null,valid:!0,successmsg:"atnaujinta s\u0117kmingai"}))));case"QUERY_INSERT_SUCCESS":return t=s.payload.query,e=s.payload.itype,a=[].concat(Object(Nt.a)(i[e].data),[t]),Object($e.a)({},i,Object(V.a)({},e,Object($e.a)({},i[e],{data:a,isLoading:!1,error:null,valid:!0,successmsg:"sukurta s\u0117kmingai"})));case"QUERY_DELETE_SUCCESS":return n=s.payload.id.toString(),(r=i[e=s.payload.itype].data.findIndex(function(e){return e.id.toString()===n}))<0?Object($e.a)({},i,Object(V.a)({},e,Object($e.a)({},i[e],{error:{message:"\u012evyko nesuprantama klaida"},valid:!1,isLoading:!1,successmsg:""}))):(a=[].concat(Object(Nt.a)(i[e].data.slice(0,r)),Object(Nt.a)(i[e].data.slice(r+1))),Object($e.a)({},i,Object(V.a)({},e,Object($e.a)({},i[e],{data:a,isLoading:!1,error:null,valid:!0,successmsg:"id ".concat(n," panaikinta s\u0117kmingai")}))));case"QUERIES_FETCH_FAILURE":case"QUERY_UPDATE_FAILURE":case"QUERY_INSERT_FAILURE":case"QUERY_DELETE_FAILURE":return e=s.payload.itype,Object($e.a)({},i,Object(V.a)({},e,Object($e.a)({},i[e],{isLoading:!1,error:s.payload.error,successmsg:""})));case"QUERIES_HIDE_ERROR":return e=s.payload.itype,Object($e.a)({},i,Object(V.a)({},e,Object($e.a)({},i[e],{error:null})));case"QUERIES_HIDE_SUCCESS":return e=s.payload.itype,Object($e.a)({},i,Object(V.a)({},e,Object($e.a)({},i[e],{successmsg:""})));case D:return un;default:return i}},report:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPORT_BEGIN":return Object($e.a)({},e,{data:{},params:t.payload.params,errormsg:null,isLoading:!0});case"REPORT_SUCCESS":return Object($e.a)({},e,{data:t.payload.report,rtype:t.payload.rtype,errormsg:null,isLoading:!1});case"REPORT_ERROR":return Object($e.a)({},e,{data:{},rtype:"",errormsg:t.payload.errormsg,isLoading:!1});case"REPORT_ERASE":case D:return dn;default:return e}},journal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JOURNAL_FETCH_BEGIN":return{items:[],isBusy:!1,errormsg:null};case"JOURNAL_FETCH_SUCCESS":return{items:t.payload.journal,isBusy:!1,errormsg:null};case"JOURNAL_FETCH_FAILURE":return{items:[],isBusy:!1,errormsg:t.payload.errormsg};case"JOURNAL_SET":return{items:t.payload.journal,isBusy:!1,errormsg:null};case"JOURNAL_REMOVE":return{items:[],isBusy:!1,errormsg:null};case D:return pn;default:return e}},operInput:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UNAPPROVED_FETCH_BEGIN":case"OPERINPUT_SUPPLY_BEGIN":return Object($e.a)({},e,{info:null,isLoading:!0});case"OPERINPUT_ITEMS_SEARCH_BEGIN":return Object($e.a)({},e,{searchInfo:null,isLoading:!0});case"OPERINPUT_SET_ITEMS":return Object($e.a)({},e,{items:t.payload.items});case"UNAPPROVED_FETCH_SUCCESS":var a=t.payload.items;return Object($e.a)({},e,{items:a,isLoading:!1});case"OPERINPUT_ITEMS_SEARCH_SUCCESS":return Object($e.a)({},e,{foundItems:t.payload.items,isLoading:!1});case"OPERINPUT_SUPPLY_SUCCESS":return Object($e.a)({},e,{items:[],isLoading:!1,info:{message:"\u012era\u0161ai s\u0117kmingai pateikti",type:"success"}});case"UNAPPROVED_FETCH_FAILURE":case"OPERINPUT_SUPPLY_FAILURE":return Object($e.a)({},e,{info:{message:t.payload.errormsg,type:"error"},isLoading:!1});case"OPERINPUT_ITEMS_SEARCH_FAILURE":return Object($e.a)({},e,{foundItems:[],searchInfo:{message:t.payload.msg,type:t.payload.type},isLoading:!1});case"OPERINPUT_CLEAR_FOUND":return Object($e.a)({},e,{foundItems:[],searchInfo:null});case"OPERINPUT_CLEAR":return Object($e.a)({},e,{items:[]});case"OPERINPUT_INFO_REMOVE":return Object($e.a)({},e,{info:null});case"OPERINPUT_SEARCH_INFO_REMOVE":return Object($e.a)({},e,{searchInfo:null});case D:return En;default:return e}},iApprove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IAPPROVE_FETCH_BEGIN":case"IAPPROVE_PROCESS_BEGIN":return Object($e.a)({},e,{info:null,isLoading:!0});case"IAPPROVE_PROCESS_SUCCESS":case"IAPPROVE_FETCH_SUCCESS":var a=t.payload.items.map(function(e){return Object($e.a)({},e,{action:"none"})});return Object($e.a)({},e,{items:a,isLoading:!1});case"IAPPROVE_FETCH_FAILURE":case"IAPPROVE_PROCESS_FAILURE":return Object($e.a)({},e,{info:{message:t.payload.errormsg,type:"error"},isLoading:!1});case"IAPPROVE_INFO_REMOVE":return Object($e.a)({},e,{info:null});case"IAPPROVE_SET_ITEMS":return Object($e.a)({},e,{items:t.payload.items});case D:return hn;default:return e}},allItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ITEMS_FETCH_SUCCESS":return Object($e.a)({},e,Object(V.a)({},t.payload.itype,t.payload.items));case"ITEM_INSERT_SUCCESS":return t.payload.item?Object($e.a)({},e,Object(V.a)({},t.payload.itype,[].concat(Object(Nt.a)(e[t.payload.itype]),[t.payload.item]))):e;case"ITEM_UPDATE_SUCCESS":if(!t.payload||!t.payload.item)return e;var a=t.payload.item,n=t.payload.itype,r=e[n],i=r.findIndex(function(e){return e.id===a.id});return Object($e.a)({},e,Object(V.a)({},n,[].concat(Object(Nt.a)(r.slice(0,i)),[a],Object(Nt.a)(r.slice(i+1)))));case"ITEM_DELETE_SUCCESS":return null==t.payload.id?e:(i=e[t.payload.itype].findIndex(function(e){return e.id===t.payload.id}))<0?e:Object($e.a)({},e,Object(V.a)({},t.payload.itype,[].concat(Object(Nt.a)(e[t.payload.itype].slice(0,i)),Object(Nt.a)(e[t.payload.itype].slice(i+1)))));case D:return fn;default:return e}},itemAlerting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ITEMS_FETCH_BEGIN":case"ITEM_INSERT_BEGIN":case"ITEM_UPDATE_BEGIN":case"ITEM_DELETE_BEGIN":case D:return gn;case"ITEMS_FETCH_FAILURE":case"QUERIES_FETCH_FAILURE":return Object($e.a)({},e,Object(V.a)({},t.payload.itype,Object($e.a)({},e[t.payload.itype],{itemList:{fatal:{msg:t.payload.errormsg,type:"error"},info:null}})));case"ITEM_DELETE_FAILURE":case"ITEM_UPDATE_FAILURE_NO_RETRY":case"ITEM_INSERT_FAILURE_NO_RETRY":return Object($e.a)({},e,Object(V.a)({},t.payload.itype,Object($e.a)({},e[t.payload.itype],{itemList:{fatal:null,info:{msg:t.payload.errormsg,type:"error"}}})));case"ITEM_UPDATE_FAILURE":case"ITEM_INSERT_FAILURE":return Object($e.a)({},e,Object(V.a)({},t.payload.itype,Object($e.a)({},e[t.payload.itype],{itemEdit:{fatal:null,info:{msg:t.payload.errormsg,type:"error"}}})));case"ITEM_LIST_SET_ALERT":return Object($e.a)({},e,Object(V.a)({},t.payload.itype,Object($e.a)({},e[t.payload.itype],{itemList:{fatal:null,info:{msg:t.payload.msg,type:t.payload.type}}})));case"ITEM_LIST_HIDE_ALERT":return Object($e.a)({},e,Object(V.a)({},t.payload.itype,Object($e.a)({},e[t.payload.itype],{itemList:{fatal:null,info:null}})));case"ITEM_EDIT_SET_ALERT":return Object($e.a)({},e,Object(V.a)({},t.payload.itype,Object($e.a)({},e[t.payload.itype],{itemEdit:{fatal:null,info:{msg:t.payload.msg,type:t.payload.type}}})));case"ITEM_EDIT_HIDE_ALERT":return Object($e.a)({},e,Object(V.a)({},t.payload.itype,Object($e.a)({},e[t.payload.itype],{itemEdit:{fatal:null,info:null}})));default:return e}},itemsFS:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ITEMS_FILTERSORT_APPLIED":return Object($e.a)({},e,Object(V.a)({},t.payload.itype,{filterText:t.payload.filterText,sortText:t.payload.sortText,errormsg:null}));case"ITEMS_FILTERSORT_APPLY_ERROR":var a=Object($e.a)({},e[t.payload.itype],{errormsg:t.payload.errormsg});return Object($e.a)({},e,Object(V.a)({},t.payload.itype,a));case"ITEMS_REFRESH":case D:return bn;default:return e}},itemsPager:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ITEMS_PAGE_CHANGE":return a.payload.pageIndex===t[a.payload.itype].currPageIndex?t:(e=Nn(t[a.payload.itype].itemsPerPage,a.payload.itemCount,a.payload.pageIndex),Object($e.a)({},t,Object(V.a)({},a.payload.itype,e)));case"ITEMS_PER_PAGE_CHANGE":return a.payload.itemsPerPage===t[a.payload.itype].itemsPerPage?t:(e=Nn(a.payload.itemsPerPage,a.payload.itemCount,0),Object($e.a)({},t,Object(V.a)({},a.payload.itype,e)));case"ITEMS_FILTERSORT_APPLIED":return e=Nn(10,a.payload.items.length,0),Object($e.a)({},t,Object(V.a)({},a.payload.itype,e));case"ITEMS_REFRESH":case D:return kn;default:return t}},itemsShow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ITEM_TOGGLE_FS":return Object($e.a)({},e,Object(V.a)({},t.payload.itype,Object($e.a)({},e[t.payload.itype],{fsOn:!e[t.payload.itype].fsOn})));case"ITEM_TOGGLE_FS_MANUAL":return Object($e.a)({},e,Object(V.a)({},t.payload.itype,Object($e.a)({},e[t.payload.itype],{fsManualOn:!e[t.payload.itype].fsManualOn})));case D:return jn;default:return e}},itemsStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ITEMS_FETCH_BEGIN":case"ITEM_INSERT_BEGIN":case"ITEM_UPDATE_BEGIN":case"ITEM_DELETE_BEGIN":return Object($e.a)({},e,Object(V.a)({},t.payload.itype,Object($e.a)({},e[t.payload.itype],{isBusy:!0})));case"ITEMS_FETCH_SUCCESS":case"ITEM_INSERT_SUCCESS":case"ITEM_UPDATE_SUCCESS":case"ITEM_DELETE_SUCCESS":case"ITEMS_FETCH_FAILURE":case"ITEM_DELETE_FAILURE":case"ITEM_UPDATE_FAILURE_NO_RETRY":case"ITEM_INSERT_FAILURE_NO_RETRY":case"ITEM_UPDATE_FAILURE":case"ITEM_INSERT_FAILURE":return Object($e.a)({},e,Object(V.a)({},t.payload.itype,Object($e.a)({},e[t.payload.itype],{isBusy:!1})));case"ITEMS_INVALIDATE":return Object($e.a)({},e,Object(V.a)({},t.payload.itype,Object($e.a)({},e[t.payload.itype],{all:t.payload.all})));case D:return In;default:return e}},fsedItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:On,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ITEMS_FILTERSORT_APPLIED":return Object($e.a)({},e,Object(V.a)({},t.payload.itype,Object($e.a)({},e[t.payload.itype],{data:t.payload.items,valid:!0})));case"ITEMS_INVALIDATE":return Object($e.a)({},e,Object(V.a)({},t.payload.itype,Object($e.a)({},e[t.payload.itype],{valid:!1})));case D:return On;default:return e}}}),Cn=[sn.a],_n=Object(rn.e)(Sn,{},Object(rn.d)(rn.a.apply(void 0,Cn),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),wn=a(47),Tn=a(81),Rn=Object(w.b)(function(e){return{isAuthenticated:e.login.isAuthenticated}})(function(e){var t=e.component,a=e.itype,n=e.rtype,r=e.isAuthenticated,i=Object(wn.a)(e,["component","itype","rtype","isAuthenticated"]);return y.a.createElement(nn.a,Object.assign({},i,{render:function(e){return r?a?y.a.createElement(t,Object.assign({},e,{itype:a})):n?y.a.createElement(t,Object.assign({},e,{rtype:n})):y.a.createElement(t,e):y.a.createElement(Tn.a,{to:"/login"})}}))});if(localStorage.jwtToken){P(localStorage.jwtToken);var Pn=A()(localStorage.jwtToken);_n.dispatch(U(Pn));var xn=Date.now()/1e3;Pn.exp<xn&&(_n.dispatch(F()),localStorage.removeItem("jwtToken"),window.location.href="/login")}var An=function(e){function t(){return Object(j.a)(this,t),Object(O.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(I.a)(t,[{key:"render",value:function(){return y.a.createElement(w.a,{store:_n},y.a.createElement(tn.a,null,y.a.createElement("div",{className:"App"},y.a.createElement(H,null),y.a.createElement(an.a,null,y.a.createElement(nn.a,{exact:!0,path:"/",component:q}),y.a.createElement(Rn,{exact:!0,path:"/logged-in",component:ra})),y.a.createElement("div",{className:"container"},y.a.createElement(nn.a,{exact:!0,path:"/login",component:Z}),y.a.createElement(nn.a,{exact:!0,path:"/register",component:ce})),y.a.createElement(an.a,null,y.a.createElement(Rn,{exact:!0,path:"/defects",component:yt,itype:Ne}),y.a.createElement(Rn,{path:"/defects/edit/:id",component:Ct,itype:Ne}),y.a.createElement(Rn,{exact:!0,path:"/defects/new",component:Ct,itype:Ne}),y.a.createElement(Rn,{exact:!0,path:"/operinput/supply/defects",component:Wa,itype:Ne}),y.a.createElement(Rn,{exact:!0,path:"/operinput/approve/defects",component:en,itype:Ne}),y.a.createElement(Rn,{exact:!0,path:"/weldings",component:yt,itype:ke}),y.a.createElement(Rn,{path:"/weldings/edit/:id",component:Ct,itype:ke}),y.a.createElement(Rn,{exact:!0,path:"/weldings/new",component:Ct,itype:ke}),y.a.createElement(Rn,{exact:!0,path:"/operinput/supply/weldings",component:Wa,itype:ke}),y.a.createElement(Rn,{exact:!0,path:"/operinput/approve/weldings",component:en,itype:ke}),y.a.createElement(Rn,{exact:!0,path:"/queries/edit/:itype",component:Pt}),y.a.createElement(Rn,{exact:!0,path:"/report/defects-undone",component:aa,rtype:"defects-undone",key:"defects-undone"}),y.a.createElement(Rn,{exact:!0,path:"/report/defects-undone-count",component:aa,rtype:"defects-undone-count",key:"defects-undone-count"}),y.a.createElement(Rn,{exact:!0,path:"/report/k33",component:aa,rtype:"k33",key:"k33"}),y.a.createElement(Rn,{exact:!0,path:"/report/to-inspect",component:aa,rtype:"to-inspect",key:"to-inspect"})),y.a.createElement(G,null))))}}]),t}(v.Component);k.a.render(y.a.createElement(An,null),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.d62aef89.chunk.js.map