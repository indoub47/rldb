{"version":3,"sources":["components/operInput/specific/weldings/model.js","utils/set-auth-token.js","actions/types.js","actions/loginActions.js","components/layout/Navbar.js","components/layout/Landing.js","components/layout/Footer.js","components/common/TextFieldGroup.js","components/common/IsLoading.js","components/common/Alert.js","components/auth/Login.js","actions/registerActions.js","components/common/SelectInputGroup.js","actions/thingsActions.js","validation/is-empty.js","components/createOptions.js","components/auth/Register.js","actions/functions/filterSort/replacements/defect.js","actions/functions/filterSort/replacements/welding.js","utils/absentProps.js","components/items/specific/defects/SingleRow.js","components/items/specific/defects/functions.js","components/items/specific/weldings/SingleRow.js","itypes.js","itemSpecific.js","components/items/specific/defects/MainDataForm.js","components/items/specific/defects/JournalEditForm.js","components/items/specific/defects/JournalRow.js","components/items/specific/weldings/MainDataForm.js","components/items/specific/weldings/JournalEditForm.js","components/items/specific/weldings/JournalRow.js","components/items/ItemList.js","components/common/ItemsCount.js","components/common/pager/components/PagerNav.js","components/common/pager/components/CurrentPageInfo.js","components/common/pager/components/ItemsPerPageSelector.js","components/common/pager/settings.js","components/common/pager/Pager.js","components/common/Confirmation.js","components/common/exportItems/arrayToXml.js","components/common/exportItems/modifiers.js","components/common/exportItems/GenericExporter.js","components/common/exportItems/ExportItems.js","components/common/TextAreaGroup.js","components/common/filterSort/components/Filter.js","components/common/filterSort/components/Sort.js","components/common/filterSort/components/QuerySelect.js","components/common/filterSort/components/Manual.js","actions/functions/filterSort/functions/parseAndReplaceVk.js","actions/functions/filterSort/functions/fsRoutines.js","actions/functions/filterSort/itemFilterSort.js","utils/journalSorter.js","actions/itemsActions.js","components/common/filterSort/FilterSort.js","actions/queriesActions.js","components/items/Items.js","components/items/JournalList.js","components/items/EditItem.js","actions/journalActions.js","components/editQueries/components/EditQueryForm.js","components/editQueries/components/QueryRow.js","components/editQueries/components/QueryList.js","components/editQueries/EditQueries.js","actions/reporters/defectsUndone/UDDataTransformer.js","actions/reporters/defectsUndone/UDDataDefectsTransformer.js","actions/reporters/defectsUndone/UDDataNumberTransformer.js","actions/reporters/k33/K33DataTransformer.js","actions/reporters/toInspect/ToInspectDataTransformer.js","actions/reporters/reporterMap.js","reportTypes.js","actions/reporters/Reporter.js","actions/reportActions.js","components/report/activeDefects/ActiveDefectsTable.js","components/report/activeDefects/ActiveDefectsParamsCollector.js","components/report/activeDefects/adItemsToExport.js","components/report/activeDefects/adItemCount.js","components/report/activeDefects/ActiveDefectsCountTable.js","components/report/k33/K33Table.js","components/report/k33/K33ParamsCollector.js","components/report/toInspect/ToInspectTable.js","components/report/toInspect/ToInspectParamsCollector.js","components/report/rTypeComponentMap.js","components/report/activeDefects/adCountItemsToExport.js","components/report/activeDefects/adCountItemCount.js","components/report/k33/itemsToExport.js","components/report/k33/itemCount.js","components/report/toInspect/itemsToExport.js","components/report/toInspect/itemCount.js","components/report/Report.js","components/layout/LoggedIn.js","components/operInput/specific/ActionSelector.js","components/operInput/specific/functions.js","components/operInput/specific/defects/ApproveRow.js","components/operInput/specific/defects/EditForm.js","components/operInput/specific/defects/InputRow.js","components/operInput/specific/defects/SearchForm.js","components/operInput/specific/defects/SearchResultRow.js","components/operInput/specific/defects/options.js","components/operInput/specific/defects/model.js","components/operInput/specific/weldings/ApproveRow.js","components/operInput/specific/weldings/EditForm.js","components/operInput/specific/weldings/InputRow.js","components/operInput/specific/weldings/SearchForm.js","components/operInput/specific/weldings/SearchResultRow.js","components/operInput/specific/weldings/options.js","components/operInput/itemSpecific.js","components/operInput/InputPanel.js","components/operInput/SearchPanel.js","components/operInput/ModalFormPanel.js","actions/functions/unpack.js","actions/operInputActions.js","components/operInput/OperInputSupply.js","components/operInput/OperInputApprove.js","actions/inputApproveActions.js","reducers/thingsReducer.js","reducers/loginReducer.js","reducers/registerReducer.js","reducers/functions/getInitialState.js","reducers/queriesReducer.js","reducers/reportReducer.js","reducers/journalReducer.js","reducers/operInputReducer.js","reducers/iApproveReducer.js","reducers/items/allItemsReducer.js","reducers/items/itemAlertingReducer.js","reducers/items/itemsFSReducer.js","reducers/functions/getPagerObj.js","reducers/items/itemsPagerReducer.js","reducers/items/itemsShowReducer.js","reducers/items/itemsStatusReducer.js","reducers/items/fsedItemsReducer.js","reducers/index.js","store.js","components/common/PrivateRoute.js","App.js","index.js"],"names":["module","exports","main","id","type","label","oldid","v","regbit","validator","linija","required","kelias","km","pk","m","siule","vbudas","virino","data0","dstop","suvnr","nrschema","journal","jid","data","oper","apar","pvd","params","note","min","max","mainid","setAuthToken","token","axios","defaults","headers","common","LOGOUT","loginError","errors","payload","setCurrentUser","decoded","logoutUser","dispatch","localStorage","removeItem","Navbar","e","preventDefault","this","props","_this$props$login","login","isAuthenticated","user","adminLinks","react_default","a","createElement","className","Link","to","role","data-toggle","operLinks","kmvLinks","authLinks","style","marginRight","name","onClick","onLogoutClick","bind","guestLinks","data-target","Component","connect","state","Landing","history","push","Footer","Date","getFullYear","TextFieldGroup","_ref","placeholder","value","error","info","onChange","disabled","readonly","autoComplete","classname","divClassname","htmlFor","classnames","is-invalid","readOnly","defaultProps","IsLoading","display","hasOwnProperty","when","Alert","message","hide","displayMsg","alertType","trim","Array","isArray","length","forEach","item","i","concat","danger","red","warning","yellow","success","green","lightblue","light","white","primary","blue","secondary","lightgrey","dark","grey","Login","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","setState","defineProperty","target","onSubmit","userData","email","password","loginUser","assertThisInitialized","prevProps","common_IsLoading","isBusy","noValidate","common_TextFieldGroup","common_Alert","post","then","res","setItem","jwt_decode","catch","err","response","registerError","SelectInputGroup","options","size","multiple","fetchThingsSuccess","things","fetchThingsFailure","errormsg","isEmpty","undefined","constructor","keys","createOptions","arr","displayfunc","arguments","x","keyfunc","valuefunc","map","key","unshift","Register","newUser","region","code","password2","registerUser","fetchRegisterThings","register","noUserRoles","urole","noRegions","common_SelectInputGroup","get","withRouter","filterReplacements","id1","meistrija","kodas","dl","dh","pavoj","kkateg","btipas","bgamykl","bmetai","dtermin","liko","vt","getSortingReplacement","fieldName","daction","Math","floor","parse","now","Number","MAX_SAFE_INTEGER","Error","defectid","absent","prop","defaultValue","toString","absentMulti","obj","level1","level2","ItemRow","defect","editItem","deleteItem","data-id","data-v","ItemHeadRow","welding","employee","itemSpecific","_iTypes$defect$iTypes","iTypes","replacements","defectReplacements","mainDataForm","singleRow","defectSingleRow","journalEditForm","jItem","submitJItem","cancelJItem","alert","msg","journalRow","setForEdit","deleteJItem","current","data-jid","journalListHead","listPath","panaikinta","weldingReplacements","itemStatus","weldingSingleRow","vpvd","find","th","pvdid","pvdname","ItemList","items","itype","itemRows","fontSize","ItemsCount","total","inView","PagerNav","buttons","onPageChanged","navButtons","b","pageIndex","makeButton","CurrentPageInfo","firstItemLabel","lastItemLabel","ItemsPerPageSelector","availableItemsPerPage","onItemsPerPageChanged","itemsPerPage","pagerSettings","Pager","firstItemIndex","itemCount","components_PagerNav","components_ItemsPerPageSelector","components_CurrentPageInfo","Confirmation","body","title","confirmHandler","rejectHandler","show","tabIndex","arrayToXml","parentName","childName","xml","index","o","tab","toXml","ind","n","hasChild","m1","charAt","substr","m2","replace","json2xml","modifiers","convert","JSON","stringify","defaultFnFunction","fnExtension","json2csv","delimiter","GenericExporter","convertItems","fname","getItems","fileName","FileSaver","saveAs","Blob","ExportItems","exporters","exportItems_GenericExporter","TextAreaGroup","rows","Filter","filterText","clearText","valid","Fragment","common_TextAreaGroup","Sort","sortText","QuerySelect","queries","Manual","parseAndReplaceVk","inputText","match","regexVk","replaced","exec","parseInt","getFilterFunc","filterString","fnReplacements","filterFuncString","regex","RegExp","replaceFieldNames","Function","getSortFunc","sortString","fields","split","filter","fnToValue","field","dir","substring","reduce","p","funcCreator","sort","journalSorter","errors2msgs","setItemListAlert","applyFilterSort","funcs","console","refilter","getState","fetchedItems","allItems","itemsFS","itemInsertSuccess","itemInsertFailure","itemUpdateFailure","itemDeleteSuccess","itemDeleteFailure","FilterSort","currentQueryId","filterSort","clearFilter","clearSort","changeFilter","changeSort","applyFS","useSelectedQuery","onSelectedQueryChange","editQueries","toggleManual","filterSortItems","toggleFSManual","_this2","query","q","components_Filter","components_Sort","showFSManual","components_Manual","components_QuerySelect","ownProps","itemsShow","fsManualOn","err2msg","Items","showConfirmationDialog","idToDelete","vToDelete","toggleFilterSort","createItem","pageChange","itemsPerPageChange","showDeleteConfirmation","confirmDelete","unconfirmDelete","refreshItems","refreshItemsAll","hideAlert","fsedItemsAreValid","fetchItems","queriesAreValid","fetchQueries","hideItemListAlert","fsedItems","selectedValue","toggleFS","dataset","invalidateItems","fatalError","queriesIsLoading","itemsIsLoading","_this$props$pager","pager","pagerComponent","pager_Pager","common_Confirmation","showFS","filterSort_FilterSort","infoAlert","items_ItemList","slice","common_ItemsCount","allItemCount","exportItems_ExportItems","isLoading","itemsStatus","all","itemsPager","fsOn","itemAlerting","itemList","fatal","itemId","itemV","itemDeleteBegin","delete","fetchItemsBegin","paramsObj","fetchItemsSuccess","fetchItemsFailure","fetchQueriesBegin","fetchQueriesSuccess","fetchQueriesFailure","JournalList","jItems","currentJid","JournalRow","JournalHeadRow","jItemRows","EditItem","_options","writable","jToDelete","jAlert","onSubmitItem","setJItemForEdit","onChangeMain","onChangeJItem","classPrivateFieldLooseBase","abbr","p1","p2","defskop","d1","d2","operat","o1","o2","v1","v2","b1","b2","itemstatus","fetchJournal","hideItemEditAlert","removeJournal","status","findIndex","toConsumableArray","objectSpread","j","splice","log","insert","update","updateItem","insertItem","isBusyItem","isBusyJournal","journalFetchErrorMsg","items_JournalList","itemEdit","itemUpdateBegin","ok","lastJournalRecord","itemUpdateSuccess","reason","itemUpdateFailureNoRetry","responseMsg","itemInsertBegin","put","itemInsertFailureNoRetry","EditQueryForm","submit","modifiedQuery","submitQuery","differentQueries","q1","q2","QueryRow","remove","setForEditing","nowrap","QueryList","setItemForEditing","queryRows","components_QueryRow","EditQueries","currentQuery","submitDraft","submitDelete","hideSuccess","hideError","hideErrorInState","_this3","some","deleteQuery","draft","sameNameQuery","updateQuery","insertQuery","storeError","stateError","storeSuccess","successmsg","components_QueryList","components_EditQueryForm","stateQueries","updateQueryBegin","updateQuerySuccess","updateQueryFailure","deleteQueryBegin","deleteQuerySuccess","deleteQueryFailure","insertQueryBegin","insertQuerySuccess","insertQueryFailure","UDDataTransformer","thingsAndData","descending","UDDataDefectsTransformer","_UDDataTransformer","apply","inherits","createClass","iesmas","nr","defs","defects","d","byVietaSorter","byIndSorter","distributeDefects","UDDataNumberTransformer","ids","byIndSorterDesc","groups","createDefectCountGroups","sumReducer","acc","curr","count","kk","defectCounts","meistrijaIds","kkategIds","pavojIds","defectCount","includes","_id","fitFunction","K33DataTransformer","createVbudasGroups","vbudai","vb","createPavojGroups","pavojai","pav","createPropertyGroups","createDistinctOperatDefskop","c","weldingCounts","distribute","odPair","defectPavojCounts","dc","weldingVbudasCounts","wc","propGroupContainer","propGroupVB","weldingVbudasCount","wvc","propGroupPav","defectPavojCount","dpc","counts","operatoriai","defskopai","ToInspectDataTransformer","reporterMap","_reporterMap","apiUrl","DataTransformerClass","Reporter","rtype","reporter","createReport","reportFailure","reportBegin","getUrl","report","reportSuccess","ActiveDefectsTable","tHead","scope","DefectRow","_ref2","meistrijaLabel","daptik","bodyRows","ActiveDefectsParamsCollector","_Component","byDate","toISOString","whichDefects","submitParams","checked","ensureAllProps","reducer","currentMeistrija","ActiveDefectsCountTable","kkategColSpan","ReportRow","_ref3","rowSpan","colSpan","_ref4","K33Table","tRows","row","today","oneMonthAgo","setMonth","getMonth","startDate","endDate","ToInspectTable","data1","kelintas","galimanuo","reikiaiki","ToInspectParamsCollector","onlyOverdued","toDate","rTypeComponentMap","_rTypeComponentMap","subtitle","paramsCollector","reportTable","itemsToExportFormat","def","K33ParamsCollector","Report","ParamsCollector","ReportTable","storeReportType","eraseReport","LoggedIn","fetchAllThings","getItem","actionMap","none","return","Option","action","ActionSelector","changeAction","data-ind","ac","ActionSelector_Option","pad","num","repeat","getDTString","timestamp","toLocaleString","getValidationString","validation","errs","join","getOperApar","getHL","getVietosKodas","getBegis","PrimaryRow","setEdit","specific_ActionSelector","SecondaryRow","ValidationRow","SingleRow","ApproveRow_PrimaryRow","ApproveRow_SecondaryRow","ApproveRow_ValidationRow","HeadRow","EditForm","edit","termin","InputRow","inputItem","setItemEdit","copyItem","isCurrent","InputHeadRow","SearchForm","searchInput","FoundItemRow","foundItem","SearchHeadRow","weldings_ApproveRow_PrimaryRow","weldings_ApproveRow_SecondaryRow","weldings_ApproveRow_ValidationRow","operInput_itemSpecific","itemSpecific_iTypes$defect$iTypes","approveRow","defectApproveRow","inputForm","defectForm","iApproveEditForm","inputRow","defectInputRow","searchForm","defectSearchForm","searchResultRow","defectSearchResultRow","model","defectModel","defectOptions","weldingApproveRow","weldingForm","weldingInputRow","weldingSearchForm","weldingSearchResultRow","weldingModel","weldingOptions","InputPanel","inputItems","newInputHandler","sendHandler","clearHandler","setItemEditHandler","deleteItemHandler","copyInputHandler","currentId","hideInfo","inputRows","iItem","SearchPanel","foundItems","newSearchHandler","foundItemRows","fItem","ModalFormPanel","submitHandler","cancelHandler","purpose","parseArray","supplied","rec","input","by","unapproved","removeSearchInfo","OperInputSupply","OperInputSupply_options","currentInput","inputItemErrors","showInputModal","searchInputErrors","showSearchModal","changeInputItem","startNewInput","submitRecord","cancelEditRecord","clearCurrentRecord","changeSearchInput","submitSearch","cancelSearch","clearCurrentSearch","sendItems","clearInputItems","setFoundItemEdit","startNewSearch","hideSearchInfo","copyInput","fetchUnapprovedOperInput","clearFound","removeInfo","clearOperInput","newItem","nameParts","modified","vResult","validateRecord","main1","main2","areEq","propName","val1","val2","samePlace","findIndexById","setItems","validateSearchInput","searchItems","supplyOperInput","fissedItem","splitMainJournalClear","InputForm","default","operInput_ModalFormPanel","operInput_InputPanel","operInput_SearchPanel","searchInfo","operInput","parsed","which","getParsedArray","unpack","searchItemsFailure","OperInputApprove","OperInputApprove_options","currentIndex","currentItem","showModal","localValidationErrors","changeItem","submitEdit","cancelEdit","submitItems","fetchSuppliedOperInput","newItems","replaceItem","propsItem","submitIApprove","iApprove","initialState","getInitialState","stateObj","getPagerObj","currPageIndex","halfOfVisible","pageCount","ceil","lastPageIndex","pagesRight","pagesLeft","maxShifBase","pow","shiftedPageIndex","combineReducers","updatedItem","pagerObj","middleware","thunk","store","createStore","rootReducer","compose","applyMiddleware","window","__REDUX_DEVTOOLS_EXTENSION__","component","rest","objectWithoutProperties","Route","assign","render","Redirect","jwtToken","currentTime","exp","location","href","App","es","BrowserRouter","layout_Navbar","Switch","exact","path","common_PrivateRoute","ReactDOM","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.d62aef89.chunk.js","sourcesContent":["module.exports.main = {\r\n  id: {type: 'integer', label: \"id\"}, // insert - generates \r\n  oldid: {type: 'integer', label: \"oldid\"}, // insert - generates automatically, update - if wrong doesnt find\r\n  v: {type: 'integer', label: \"versija\"}, // insert - generates \r\n  regbit: {type: 'integer', validator: \"isNegative\", label: \"regiono bitas\"}, // is set by the server \r\n  linija: {type: 'string', required: true, validator: \"isEmptyString\", label: \"linija\"},\r\n  kelias: {type: 'string', required: true, validator: \"isEmptyString\", label: \"kelias\"},\r\n  km: {type: 'integer', required: true, validator: \"isNegative\", label: \"km\"},\r\n  pk: {type: 'integer', required: true, validator: \"isNegative\", label: \"pk\"},\r\n  m: {type: 'integer', required: true, validator: \"isNegative\", label: \"m\"},\r\n  siule: {type: 'string', label: \"siūlė\"},\r\n  vbudas: {type: 'string', required: true, validator: \"isEmptyString\", label: \"virinimo būdas\"},\r\n  virino: {type: 'string', required: true, validator: \"isEmptyString\", label: \"kas virino\"},\r\n  data0: {type: 'string', required: true, validator: \"isNotShortDate\", label: \"virinimo data\"},\r\n  dstop: {type: 'integer', validator: \"isNegative\", label: \"statusas\"},\r\n  suvnr: {type: 'string', label: \"suvnr\"},\r\n  nrschema: {type: 'string', label: \"nrschema\"}\r\n};\r\n\r\nmodule.exports.journal = {\r\n  jid: {type: 'integer', validator: \"isNegative\", label: \"id\"},\r\n  data: {type: 'string', required: true, validator: \"isNotShortDate\", label: \"įrašo data\"},\r\n  oper: {type: 'string', required: true, validator: \"isEmptyString\", label: \"operatoriaus kodas\"},\r\n  apar: {type: 'string', required: true, validator: \"isEmptyString\", label: \"defektoskopo kodas\"},\r\n  pvd: {type: 'string', required: true, validator: \"isNotInSet\", params: [\"1\", \"2\", \"3\", \"4\", \"npl\", \"ctrl\"], label: \"pavadinimas\"},\r\n  note: {type: 'string', validator: \"wrongLength\", params: {min: 0, max: 255}, label: \"pastaba\"},\r\n  mainid: {type: 'integer', label: 'main id'}\r\n}","import axios from 'axios';\r\nconst setAuthToken = token => {\r\n  if (token) {\r\n    // apply to every request\r\n    axios.defaults.headers.common['Authorization'] = token;\r\n  } else {\r\n    delete axios.defaults.headers.common['Authorization'];\r\n  }\r\n}\r\n\r\nexport default setAuthToken;","// authentificacion\r\nexport const LOGIN_BEGIN = \"LOGIN_BEGIN\";\r\nexport const SET_CURRENT_USER = \"SET_CURRENT_USER\";\r\nexport const LOGIN_ERROR = \"LOGIN_ERROR\";\r\nexport const LOGOUT = \"LOGOUT\";\r\n\r\nexport const REGISTER_BEGIN = \"REGISTER_BEGIN\";\r\nexport const REGISTER_SUCCESS = \"REGISTER_SUCCESS\";\r\nexport const REGISTER_ERROR = \"REGISTER_ERROR\";\r\n\r\n// common\r\nexport const THINGS_FETCH_BEGIN = \"THINGS_FETCH_BEGIN\";\r\nexport const THINGS_FETCH_SUCCESS = \"THINGS_FETCH_SUCCESS\";\r\nexport const THINGS_FETCH_FAILURE = \"THINGS_FETCH_FAILURE\";\r\n\r\n// items\r\nexport const ITEMS_FETCH_BEGIN = \"ITEMS_FETCH_BEGIN\";\r\nexport const ITEMS_FETCH_SUCCESS = \"ITEMS_FETCH_SUCCESS\";\r\nexport const ITEMS_FETCH_FAILURE = \"ITEMS_FETCH_FAILURE\";\r\n\r\nexport const ITEMS_INVALIDATE = \"ITEMS_INVALIDATE\";\r\n\r\nexport const ITEMS_DELETE_LOCAL = \"ITEMS_DELETE_LOCAL\";\r\nexport const ITEMS_UPDATE_LOCAL = \"ITEMS_UPDATE_LOCAL\";\r\n\r\nexport const ITEM_INSERT_BEGIN = \"ITEM_INSERT_BEGIN\";\r\nexport const ITEM_UPDATE_BEGIN = \"ITEM_UPDATE_BEGIN\";\r\nexport const ITEM_DELETE_BEGIN = \"ITEM_DELETE_BEGIN\";\r\n\r\nexport const ITEM_INSERT_SUCCESS = \"ITEM_INSERT_SUCCESS\";\r\nexport const ITEM_UPDATE_SUCCESS = \"ITEM_UPDATE_SUCCESS\";\r\nexport const ITEM_DELETE_SUCCESS = \"ITEM_DELETE_SUCCESS\";\r\n\r\nexport const ITEM_INSERT_FAILURE = \"ITEM_INSERT_FAILURE\";\r\nexport const ITEM_UPDATE_FAILURE = \"ITEM_UPDATE_FAILURE\";\r\nexport const ITEM_INSERT_FAILURE_NO_RETRY = \"ITEM_INSERT_FAILURE_NO_RETRY\";\r\nexport const ITEM_UPDATE_FAILURE_NO_RETRY = \"ITEM_UPDATE_FAILURE_NO_RETRY\";\r\nexport const ITEM_DELETE_FAILURE = \"ITEM_DELETE_FAILURE\";\r\n\r\nexport const ITEMS_PAGE_CHANGE = \"ITEMS_PAGE_CHANGE\";\r\nexport const ITEMS_PER_PAGE_CHANGE = \"ITEMS_PER_PAGE_CHANGE\";\r\nexport const ITEM_TOGGLE_FS = \"ITEM_TOGGLE_FS\";\r\nexport const ITEM_TOGGLE_FS_MANUAL = \"ITEM_TOGGLE_FS_MANUAL\";\r\nexport const ITEMS_FILTERSORT_APPLIED = \"ITEMS_FILTERSORT_APPLIED\";\r\nexport const ITEMS_FILTERSORT_APPLY_ERROR = \"ITEMS_FILTERSORT_APPLY_ERROR\";\r\nexport const ITEMS_REFRESH = \"ITEMS_REFRESH\";\r\n\r\nexport const ITEM_LIST_SET_ALERT = \"ITEM_LIST_SET_ALERT\";\r\nexport const ITEM_LIST_HIDE_ALERT = \"ITEM_LIST_HIDE_ALERT\";\r\n\r\nexport const ITEM_EDIT_SET_ALERT = \"ITEM_EDIT_SET_ALERT\";\r\nexport const ITEM_EDIT_HIDE_ALERT = \"ITEM_EDIT_HIDE_ALERT\";\r\n\r\n// item journal\r\nexport const JOURNAL_FETCH_BEGIN = \"JOURNAL_FETCH_BEGIN\";\r\nexport const JOURNAL_FETCH_SUCCESS = \"JOURNAL_FETCH_SUCCESS\";\r\nexport const JOURNAL_FETCH_FAILURE = \"JOURNAL_FETCH_FAILURE\";\r\nexport const JOURNAL_REMOVE = \"JOURNAL_REMOVE\";\r\nexport const JOURNAL_SET = \"JOURNAL_SET\";\r\n\r\n\r\n// fs queries\r\nexport const QUERIES_FETCH_BEGIN = \"QUERIES_FETCH_BEGIN\";\r\nexport const QUERIES_FETCH_SUCCESS = \"QUERIES_FETCH_SUCCESS\";\r\nexport const QUERIES_FETCH_FAILURE = \"QUERIES_FETCH_FAILURE\";\r\nexport const QUERY_UPDATE_BEGIN = \"QUERY_UPDATE_BEGIN\";\r\nexport const QUERY_UPDATE_SUCCESS = \"QUERY_UPDATE_SUCCESS\";\r\nexport const QUERY_UPDATE_FAILURE = \"QUERY_UPDATE_FAILURE\";\r\nexport const QUERY_INSERT_BEGIN = \"QUERY_INSERT_BEGIN\";\r\nexport const QUERY_INSERT_SUCCESS = \"QUERY_INSERT_SUCCESS\";\r\nexport const QUERY_INSERT_FAILURE = \"QUERY_INSERT_FAILURE\";\r\nexport const QUERY_DELETE_BEGIN = \"QUERY_DELETE_BEGIN\";\r\nexport const QUERY_DELETE_SUCCESS = \"QUERY_DELETE_SUCCESS\";\r\nexport const QUERY_DELETE_FAILURE = \"QUERY_DELETE_FAILURE\";\r\n\r\nexport const QUERIES_HIDE_WARNING = \"QUERIES_HIDE_WARNING\";\r\nexport const QUERIES_HIDE_ERROR = \"QUERIES_HIDE_ERROR\";\r\nexport const QUERIES_HIDE_SUCCESS = \"QUERIES_HIDE_SUCCESS\";\r\n\r\n// current item\r\nexport const CURRENT_ITEM_SET_TYPE = \"CURRENT_ITEM_SET_TYPE\";\r\n\r\n// report\r\nexport const REPORT_BEGIN = \"REPORT_BEGIN\";\r\nexport const REPORT_SUCCESS = \"REPORT_SUCCESS\";\r\nexport const REPORT_ERROR = \"REPORT_ERROR\";\r\nexport const REPORT_ERASE = \"REPORT_ERASE\";\r\n\r\n// operinput\r\nexport const UNAPPROVED_FETCH_BEGIN = \"UNAPPROVED_FETCH_BEGIN\";\r\nexport const UNAPPROVED_FETCH_SUCCESS = \"UNAPPROVED_FETCH_SUCCESS\";\r\nexport const UNAPPROVED_FETCH_FAILURE = \"UNAPPROVED_FETCH_FAILURE\";\r\nexport const OPERINPUT_SUPPLY_BEGIN = \"OPERINPUT_SUPPLY_BEGIN\";\r\nexport const OPERINPUT_SUPPLY_SUCCESS = \"OPERINPUT_SUPPLY_SUCCESS\";\r\nexport const OPERINPUT_SUPPLY_FAILURE = \"OPERINPUT_SUPPLY_FAILURE\";\r\nexport const OPERINPUT_CLEAR = \"OPERINPUT_CLEAR\";\r\nexport const OPERINPUT_CLEAR_FOUND = \"OPERINPUT_CLEAR_FOUND\";\r\nexport const OPERINPUT_ITEMS_SEARCH_BEGIN = \"OPERINPUT_ITEMS_SEARCH_BEGIN\";\r\nexport const OPERINPUT_ITEMS_SEARCH_SUCCESS = \"OPERINPUT_ITEMS_SEARCH_SUCCESS\";\r\nexport const OPERINPUT_ITEMS_SEARCH_FAILURE = \"OPERINPUT_ITEMS_SEARCH_FAILURE\";\r\nexport const OPERINPUT_INFO_REMOVE = \"OPERINPUT_INFO_REMOVE\";\r\nexport const OPERINPUT_SEARCH_INFO_REMOVE = \"OPERINPUT_SEARCH_INFO_REMOVE\";\r\nexport const OPERINPUT_SET_ITEMS = \"OPERINPUT_SET_ITEMS\";\r\n\r\n// inputApprove\r\nexport const IAPPROVE_FETCH_BEGIN = \"IAPPROVE_FETCH_BEGIN\";\r\nexport const IAPPROVE_FETCH_SUCCESS = \"IAPPROVE_FETCH_SUCCESS\";\r\nexport const IAPPROVE_FETCH_FAILURE = \"IAPPROVE_FETCH_FAILURE\";\r\nexport const IAPPROVE_PROCESS_BEGIN = \"IAPPROVE_PROCESS_BEGIN\";\r\nexport const IAPPROVE_PROCESS_SUCCESS = \"IAPPROVE_PROCESS_SUCCESS\";\r\nexport const IAPPROVE_PROCESS_FAILURE = \"IAPPROVE_PROCESS_FAILURE\";\r\nexport const IAPPROVE_INFO_REMOVE = \"IAPPROVE_INFO_REMOVE\";\r\nexport const IAPPROVE_SET_ITEMS = \"IAPPROVE_SET_ITEMS\";","import axios from \"axios\";\r\nimport setAuthToken from \"../utils/set-auth-token\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { LOGIN_BEGIN, SET_CURRENT_USER, LOGIN_ERROR, LOGOUT } from \"./types\";\r\n//import * as extractMsg from \"./functions/extractMsg\";\r\n\r\n// Login user\r\nexport const loginBegin = () => ({\r\n  type: LOGIN_BEGIN\r\n});\r\n\r\nexport const loginError = errors => ({\r\n  type: LOGIN_ERROR,\r\n  payload: {errors}\r\n});\r\n\r\nexport const logout = () => ({\r\n  type: LOGOUT\r\n});\r\n\r\n// Set logged in user\r\nexport const setCurrentUser = decoded => {\r\n  return {\r\n    type: SET_CURRENT_USER,\r\n    payload: decoded\r\n  };\r\n};\r\n\r\nexport const loginUser = userData => dispatch => {\r\n  dispatch(loginBegin());\r\n  axios\r\n    .post(\"api/users/login\", userData)\r\n    .then(res => {\r\n      const { token } = res.data;\r\n      localStorage.setItem(\"jwtToken\", token);\r\n      // set jwt-token as default header to all axios requests\r\n      setAuthToken(token);\r\n      // decode token to get user data\r\n      const decoded = jwt_decode(token);\r\n      // set current user\r\n      dispatch(setCurrentUser(decoded));\r\n    })\r\n    .catch(err => {\r\n      if (err.response) {\r\n        dispatch(loginError(err.response.data));\r\n      } else {\r\n        dispatch(loginError(err));\r\n      }       \r\n    });\r\n};\r\n\r\n// Log user out\r\nexport const logoutUser = () => dispatch => {\r\n  // remove token from localStorage\r\n  localStorage.removeItem(\"jwtToken\");\r\n  // remove auth header for future requests;\r\n  setAuthToken(false);\r\n  // set current user to {} which will also set isAuthenticated to false\r\n  dispatch(setCurrentUser({}));\r\n  dispatch(logout());\r\n};\r\n","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {logoutUser} from '../../actions/loginActions';\r\n\r\n\r\nclass Navbar extends Component {\r\n\r\n  onLogoutClick(e) {\r\n    e.preventDefault();\r\n    this.props.logoutUser();\r\n  }\r\n\r\n  render() {\r\n    const {isAuthenticated, user} = this.props.login;\r\n\r\n    const adminLinks = (\r\n      <ul className='navbar-nav mr-auto'>\r\n        <li className='nav-item'>\r\n          <Link className='nav-link' to='/weldings'>Suvirinimai</Link>\r\n        </li>\r\n        <li className='nav-item'>\r\n          <Link className='nav-link' to='/defects'>Defektai</Link>\r\n        </li>      \r\n        <li className='nav-item dropdown'>\r\n          <Link className=\"nav-link dropdown-toggle\" to=\"#\" id=\"reportsDropdown\" role=\"button\" data-toggle=\"dropdown\">\r\n            Ataskaitos\r\n          </Link>\r\n          <div className=\"dropdown-menu\">\r\n            <Link className=\"dropdown-item\" to=\"/report/defects-undone\">Defektai kelyje</Link>\r\n            <Link className=\"dropdown-item\" to=\"/report/defects-undone-count\">Defektai kelyje - kiekis</Link>\r\n            <Link className=\"dropdown-item\" to=\"/report/k33\">Mėnesio K-33</Link>\r\n            <Link className=\"dropdown-item\" to=\"/report/to-inspect\">Suvirinimai - galima tikrinti</Link>\r\n          </div>\r\n        </li>      \r\n        <li className='nav-item dropdown'>\r\n          <Link className=\"nav-link dropdown-toggle\" to=\"#\" id=\"operInputDropdown\" role=\"button\" data-toggle=\"dropdown\">\r\n            Operatorių darbas\r\n          </Link>\r\n          <div className=\"dropdown-menu\">\r\n            <Link className=\"dropdown-item\" to=\"/operinput/approve/defects\">Defektai</Link>\r\n            <Link className=\"dropdown-item\" to=\"/operinput/approve/weldings\">Suvirinimai</Link>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    )  \r\n\r\n    const operLinks = (\r\n      <ul className='navbar-nav mr-auto'>      \r\n        <li className='nav-item dropdown'>\r\n          <Link className=\"nav-link dropdown-toggle\" to=\"#\" id=\"operSupplyDropdown\" role=\"button\" data-toggle=\"dropdown\">\r\n            Perduoti duomenis\r\n          </Link>\r\n          <div className=\"dropdown-menu\">\r\n            <Link className=\"dropdown-item\" to=\"/operinput/supply/defects\">Perduoti defektus</Link>\r\n            <Link className=\"dropdown-item\" to=\"/operinput/supply/weldings\">Perduoti suvirinimus</Link>\r\n          </div>\r\n        </li> \r\n      </ul>\r\n    )\r\n    \r\n    const kmvLinks = (\r\n      <ul className='navbar-nav mr-auto'>\r\n        <li className='nav-item'>\r\n          <Link className='nav-link' to='/kmv/defects'>Defektai meistrijos keliuose</Link>\r\n        </li>\r\n      </ul>\r\n    );  \r\n\r\n    const authLinks = (\r\n      <ul className='navbar-nav ml-auto'>\r\n        <li className='nav-item'>\r\n          <span \r\n            className='navbar-text'\r\n            style={{marginRight: '10px'}}\r\n          >\r\n          {user.name}\r\n          </span>\r\n        </li>\r\n        <li className='nav-item'>\r\n          <button \r\n            className='btn btn-dark' \r\n            type='button'\r\n            onClick={this.onLogoutClick.bind(this)}\r\n          >\r\n            Logout\r\n          </button>\r\n        </li>\r\n      </ul>\r\n    );\r\n    \r\n    const guestLinks = (\r\n      <ul className='navbar-nav ml-auto'>\r\n        <li className='nav-item'>\r\n          <Link className='nav-link' to='/register'>Sign Up</Link>\r\n        </li>\r\n        <li className='nav-item'>\r\n          <Link className='nav-link' to='/login'>Login</Link>\r\n        </li>\r\n      </ul>\r\n    );\r\n\r\n\r\n    return (\r\n      <nav className='navbar navbar-expand-sm navbar-dark bg-dark mb-4'>\r\n          <div className='container'>\r\n            <Link className='navbar-brand' to='/'>RLDB</Link>\r\n            <button \r\n              className='navbar-toggler' type='button' \r\n              data-toggle='collapse' data-target='#mobile-nav'\r\n            >\r\n              <span className='navbar-toggler-icon'></span>\r\n            </button>\r\n            <div className='collapse navbar-collapse' id='mobile-nav'>\r\n              {!user ? null\r\n               : user.role === \"adm\" ? adminLinks\r\n               : user.role === \"oper\" ? operLinks\r\n               : user.role === \"kmv\" ? kmvLinks\r\n               : null\r\n              }\r\n              {isAuthenticated ? authLinks : guestLinks}              \r\n            </div>\r\n          </div>\r\n        </nav>\r\n    );\r\n}}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  login: state.login\r\n});\r\n\r\nexport default connect(mapStateToProps, {logoutUser})(Navbar);","import React, {Component} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\n\r\nclass Landing extends Component {  \r\n\r\n  componentDidMount() {\r\n    if (this.props.isAuthenticated) {\r\n      this.props.history.push('/logged-in');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"landing\">\r\n          <div className=\"dark-overlay landing-inner text-light\">\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-12 text-center\">\r\n                  <h1 className=\"display-3 mb-4\">Rail Defect Data Base\r\n                  </h1>\r\n                  <p className=\"lead\">Manage your data with confidence</p>\r\n                  <hr />\r\n                  <Link to=\"/register\" className=\"btn btn-lg btn-info mr-2\">Sign Up</Link>\r\n                  <Link to=\"/login\" className=\"btn btn-lg btn-light\">Login</Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.login.isAuthenticated\r\n});\r\n\r\nexport default connect(mapStateToProps)(Landing);"," \r\n import React from 'react';\r\n\r\n export default () => {\r\n   return (\r\n    <footer className=\"bg-dark text-white mt-5 p-4 text-center\">\r\n        Copyright &copy; {new Date().getFullYear()} RLDB\r\n      </footer>\r\n  );\r\n }","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\nconst TextFieldGroup = ({\r\n  type, \r\n  id,\r\n  label,\r\n  name, \r\n  placeholder,\r\n  value,\r\n  error,\r\n  info,\r\n  onChange,\r\n  disabled,\r\n  readonly,\r\n  autoComplete,\r\n  classname,\r\n  divClassname\r\n}) => {\r\n  return (\r\n    <div className={divClassname}>\r\n      {label && <label htmlFor={id}>{label}</label>}\r\n      <input\r\n        type={type}\r\n        id={id}\r\n        className={classnames(classname, {\r\n          'is-invalid': error\r\n        })}\r\n        name={name}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        onChange={onChange}\r\n        autoComplete={autoComplete}\r\n        disabled={disabled}\r\n        readOnly={readonly}\r\n      />\r\n      {info && \r\n      <small className='form-text text-muted'>{info}</small>}\r\n      {error &&\r\n      <div className='invalid-feedback'>{error}</div>}\r\n    </div>\r\n  )\r\n}\r\n\r\nTextFieldGroup.defaultProps = {\r\n  type: 'text', \r\n  autoComplete: \"on\",\r\n  classname: 'form-control',\r\n  divClassname: 'form-group',\r\n  onChange: null\r\n}\r\n\r\nexport default TextFieldGroup;\r\n","import React from \"react\";\r\n\r\nconst IsLoading = props => {\r\n  // rodomas, jeigu props.when yra true arba išvis nėra when\r\n  let display = \"none\";\r\n  if (!props.hasOwnProperty(\"when\") || props.when === true) {\r\n    display = \"block\";\r\n  }\r\n\r\n  return (\r\n    <div id=\"overlay\" style={{ display }}>\r\n      <div className=\"loader\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default IsLoading;\r\n","import React from \"react\";\r\n\r\nconst Alert = ({ type, message, hide }) => {\r\n  // message - string or array of strings\r\n  if (!message) return null;\r\n  const alertType = type || \"error\";\r\n  let displayMsg;\r\n  if (typeof message === 'string') {\r\n    displayMsg = message.trim();\r\n    if (!displayMsg) return null;\r\n  } else if (Array.isArray(message)) {\r\n    if (message.length === 0) return null;\r\n    displayMsg = [];\r\n    // create an array in displayMsg:\r\n    // [item0, <br />, item1, <br />, item3]\r\n    message.forEach((item, i) => {\r\n      displayMsg.push(item);\r\n      if (i < message.length-1) {\r\n        displayMsg.push(<br />);\r\n      }\r\n    });\r\n  }\r\n\r\n  const classOf = {\r\n    error: \"danger\",\r\n    danger: \"danger\",\r\n    red: \"danger\",\r\n    warning: \"warning\",\r\n    yellow: \"warning\",\r\n    success: \"success\",\r\n    green: \"success\",\r\n    info: \"info\",\r\n    lightblue: \"info\",\r\n    light: \"light\",\r\n    white: \"light\",\r\n    primary: \"primary\",\r\n    blue: \"primary\",\r\n    secondary: \"secondary\",\r\n    lightgrey: \"secondary\",\r\n    dark: \"dark\",\r\n    grey: \"dark\",\r\n  }\r\n\r\n  const classname = `alert alert-${classOf[alertType]}${hide == null ? \" alert-dismissible fade show\" : \"\"}`;\r\n  return (\r\n    <div className={classname} role=\"alert\">\r\n      {displayMsg}\r\n      {hide == null ? null : (\r\n        <button type=\"button\" className=\"close\" onClick={hide}>\r\n          <span>&times;</span>\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Alert;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../../actions/loginActions\";\r\nimport TextFieldGroup from \"../common/TextFieldGroup\";\r\nimport IsLoading from \"../common/IsLoading\";\r\nimport Alert from \"../common/Alert\";\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\"\r\n    };\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.login.isAuthenticated) {\r\n      this.props.history.push(\"/logged-in\");\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (!prevProps.login.isAuthenticated && this.props.login.isAuthenticated) {\r\n      this.props.history.push(\"/logged-in\");\r\n    }\r\n  }\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    const userData = {\r\n      email: this.state.email,\r\n      password: this.state.password\r\n    };\r\n    this.props.loginUser(userData);\r\n  };\r\n\r\n  render() {\r\n    const errors = this.props.login.errors;\r\n\r\n    return (\r\n      <div className=\"login\">\r\n        <IsLoading when={this.props.login.isBusy} />\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-8 m-auto\">\r\n              <h1 className=\"display-4 text-center\">Log In</h1>\r\n              <p className=\"lead text-center\">Sign in to your RLDB account</p>\r\n              <form noValidate onSubmit={this.onSubmit}>\r\n                <TextFieldGroup\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  placeholder=\"Email Address\"\r\n                  value={this.state.email}\r\n                  onChange={this.onChange}\r\n                  error={errors.email}\r\n                />\r\n                <TextFieldGroup\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  placeholder=\"Password\"\r\n                  value={this.state.password}\r\n                  onChange={this.onChange}\r\n                  error={errors.password}\r\n                />\r\n                {errors.message && <Alert message={errors.message} />}\r\n                <input type=\"submit\" className=\"btn btn-info btn-block mt-4\" />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({ login: state.login });\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { loginUser }\r\n)(Login);\r\n","import axios from \"axios\";\r\n//import * as extractMsg from \"./functions/extractMsg\";\r\nimport { REGISTER_BEGIN, REGISTER_SUCCESS, REGISTER_ERROR } from \"./types\";\r\n\r\nexport const registerBegin = () => ({\r\n  type: REGISTER_BEGIN\r\n});\r\n\r\nexport const registerSuccess = () => ({\r\n  type: REGISTER_SUCCESS\r\n});\r\n\r\nexport const registerError = errors => ({\r\n  type: REGISTER_ERROR,\r\n  payload: {errors}\r\n});\r\n\r\n// Register\r\nexport const registerUser = (userData, history) => dispatch => {\r\n  dispatch(registerBegin());\r\n  axios\r\n    .post(\"/api/users/register\", userData)\r\n    .then(res => {\r\n      dispatch(registerSuccess());\r\n      history.push(\"/\");\r\n    })\r\n    .catch(err => {\r\n      if (err.response) {\r\n        dispatch(registerError(err.response.data));\r\n      } else {\r\n        dispatch(registerError(err));\r\n      }   \r\n    });\r\n};\r\n","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\n\r\nconst SelectInputGroup = ({\r\n  options,\r\n  name,\r\n  id,\r\n  value,\r\n  onChange,\r\n  label,\r\n  size,\r\n  style,\r\n  multiple,\r\n  disabled,\r\n  classname,\r\n  divClassname,\r\n  error,\r\n  info\r\n}) => {\r\n  return (\r\n    <div className={divClassname}>\r\n      {label && <label htmlFor={id}>{label}</label>}\r\n      <select\r\n        className={classnames(classname, {'is-invalid': error})}\r\n        name={name}\r\n        id={id}\r\n        multiple={multiple} \r\n        disabled={disabled} \r\n        onChange={onChange}\r\n        size={size}\r\n        style={style}\r\n        value={value}\r\n      >\r\n        {options}\r\n      </select>\r\n      {info && <small className='form-text text-muted'>{info}</small>}\r\n      {error && (\r\n        <div className='invalid-feedback'>{error}</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nSelectInputGroup.defaultProps = {\r\n  classname: 'form-control',\r\n  divClassname: 'form-group'\r\n}\r\n\r\nexport default SelectInputGroup;","import axios from \"axios\";\r\n//import * as extractMsg from \"./functions/extractMsg\";\r\nimport {\r\n  THINGS_FETCH_BEGIN,\r\n  THINGS_FETCH_SUCCESS,\r\n  THINGS_FETCH_FAILURE\r\n} from \"./types\";\r\n\r\nexport const fetchThingsBegin = () => ({\r\n  type: THINGS_FETCH_BEGIN\r\n});\r\n\r\nexport const fetchThingsSuccess = things => ({\r\n  type: THINGS_FETCH_SUCCESS,\r\n  payload: { things }\r\n});\r\n\r\nexport const fetchThingsFailure = errormsg => {\r\n  return {\r\n    type: THINGS_FETCH_FAILURE,\r\n    payload: { errormsg }\r\n  };\r\n};\r\n\r\n// Get things for registering user\r\nexport const fetchRegisterThings = () => dispatch => {\r\n  dispatch(fetchThingsBegin());\r\n  axios\r\n    .get(\"/api/things/register\")\r\n    .then(res => dispatch(fetchThingsSuccess(res.data)))\r\n    .catch(err => dispatch(fetchThingsFailure(err.message)));\r\n};\r\n\r\n// // Get all things for defects\r\n// export const fetchDefectThings = () => dispatch => {\r\n//   dispatch(fetchThingsBegin());\r\n//   axios\r\n//     .get(\"/api/things/defects\")\r\n//     .then(res => dispatch(fetchThingsSuccess(res.data)))\r\n//     .catch(err => dispatch(fetchThingsFailure(err)));\r\n// };\r\n\r\n// // Get all things for weldings\r\n// export const fetchWeldingThings = () => dispatch => {\r\n//   dispatch(fetchThingsBegin());\r\n//   axios\r\n//     .get(\"/api/things/weldings\")\r\n//     .then(res => dispatch(fetchThingsSuccess(res.data)))\r\n//     .catch(err => dispatch(fetchThingsFailure(err)));\r\n// };\r\n\r\n// Get all things for all apps\r\nexport const fetchAllThings = () => dispatch => {\r\n  dispatch(fetchThingsBegin());\r\n  const v = localStorage.getItem(\"allThingsV\") || -1;\r\n  axios\r\n    .get(\"/api/things/all\", {params: {v}} )\r\n    .then(res => {\r\n      if (res.data.things) {\r\n        //console.log(\"res.data\", res.data);\r\n        localStorage.setItem(\"allThingsV\", res.data.v);\r\n        localStorage.setItem(\"allThings\", JSON.stringify(res.data.things));\r\n        dispatch(fetchThingsSuccess(res.data.things));\r\n      } else {\r\n        dispatch(fetchThingsSuccess(JSON.parse(localStorage.getItem(\"allThings\"))));\r\n      }\r\n    })\r\n    .catch(err => dispatch(fetchThingsFailure(err.message)));\r\n};\r\n","const isEmpty = value =>\r\n  value === undefined ||\r\n  value === null ||\r\n  (value.hasOwnProperty(\"length\") && value.length === 0) ||\r\n  (value.constructor === Object && Object.keys(value).length === 0);\r\n\r\nexport default isEmpty;\r\n","import React from \"react\";\r\n\r\nexport const createOptions = (\r\n  arr,\r\n  placeholder,\r\n  displayfunc = x => x.name,\r\n  keyfunc = x => x.id,\r\n  valuefunc = x => x.id\r\n) => {\r\n  // console.log(\"TESTING: recreating options \" + placeholder, arr);\r\n  let options = arr.map(x => (\r\n    <option key={keyfunc(x)} value={valuefunc(x)}>\r\n      {displayfunc(x)}\r\n    </option>\r\n  ));\r\n\r\n  if (placeholder != null) {\r\n    options.unshift(\r\n      <option key={\"--1\"} value=\" \">\r\n        {placeholder}\r\n      </option>\r\n    );\r\n  }\r\n  // console.log(\"option arr\", options);\r\n  return options;\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { registerUser } from \"../../actions/registerActions\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport TextFieldGroup from \"../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../common/SelectInputGroup\";\r\nimport { fetchRegisterThings } from \"../../actions/thingsActions\";\r\nimport isEmpty from \"../../validation/is-empty\";\r\nimport { createOptions } from \"../createOptions\";\r\nimport IsLoading from \"../common/IsLoading\";\r\nimport Alert from \"../common/Alert\";\r\n\r\nclass Register extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      email: \"\",\r\n      role: \"\",\r\n      region: \"\",\r\n      password: \"\",\r\n      password2: \"\",\r\n      // passwordMatchError: {}\r\n    };\r\n    this.onChange = this.onChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.isAuthenticated) {\r\n      this.props.history.push(\"/logged-in\");\r\n    }\r\n    this.props.fetchRegisterThings();\r\n  }\r\n\r\n  onChange = e => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  onSubmit = e => {\r\n    e.preventDefault();\r\n    // if (this.state.password !== this.state.password2) {\r\n    //   this.setState(passwordMatchError: {password2: \"passwords don't match\"});\r\n    //   return;\r\n    // }\r\n    const newUser = {\r\n      name: this.state.name,\r\n      email: this.state.email,\r\n      role: this.state.role,\r\n      region: this.state.region,\r\n      code: this.state.code,\r\n      password: this.state.password,\r\n      password2: this.state.password2\r\n    };\r\n\r\n    this.props.registerUser(newUser, this.props.history);\r\n  };\r\n\r\n  render() {\r\n    // things load error\r\n    if (this.props.things.errormsg) {\r\n      return <Alert message={this.props.things.errormsg} />;\r\n    }\r\n\r\n    const errors = this.props.register.errors;\r\n\r\n    const noUserRoles =\r\n      isEmpty(this.props.things.data) || isEmpty(this.props.things.data.urole);\r\n    const noRegions =\r\n      isEmpty(this.props.things.data) || isEmpty(this.props.things.data.region);\r\n\r\n    return (\r\n      <div className=\"register\">\r\n        <IsLoading when={this.props.register.isBusy} />\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-8 m-auto\">\r\n              <h1 className=\"display-4 text-center\">Sign Up</h1>\r\n              <p className=\"lead text-center\">Create your RLDB account</p>\r\n              {errors.message && <Alert message={errors.message} />}\r\n              <form noValidate onSubmit={this.onSubmit}>\r\n                <TextFieldGroup\r\n                  name=\"name\"\r\n                  placeholder=\"Name\"\r\n                  value={this.state.name}\r\n                  onChange={this.onChange}\r\n                  error={errors.name}\r\n                  autoComplete=\"off\"\r\n                />\r\n                <TextFieldGroup\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  placeholder=\"Email\"\r\n                  value={this.state.email}\r\n                  onChange={this.onChange}\r\n                  error={errors.email}\r\n                  autoComplete=\"off\"\r\n                />\r\n                {noUserRoles ? (\r\n                  <input\r\n                    className=\"form-control form-control-lg\"\r\n                    type=\"text\"\r\n                    value=\"waiting for data…\"\r\n                    readOnly\r\n                  />\r\n                ) : (\r\n                  <SelectInputGroup\r\n                    name=\"role\"\r\n                    options={createOptions(\r\n                      this.props.things.data.urole,\r\n                      \"Select Role\"\r\n                    )}\r\n                    value={this.state.role}\r\n                    onChange={this.onChange}\r\n                    error={errors.role}\r\n                  />\r\n                )}\r\n                {noRegions ? (\r\n                  <input\r\n                    className=\"form-control form-control-lg\"\r\n                    type=\"text\"\r\n                    value=\"waiting for data…\"\r\n                    readOnly\r\n                  />\r\n                ) : (\r\n                  <SelectInputGroup\r\n                    name=\"region\"\r\n                    options={createOptions(\r\n                      this.props.things.data.region,\r\n                      \"Select Region\"\r\n                    )}\r\n                    value={this.state.region}\r\n                    onChange={this.onChange}\r\n                    error={errors.region}\r\n                  />\r\n                )}\r\n                <TextFieldGroup\r\n                  name=\"code\"\r\n                  type=\"text\"\r\n                  placeholder=\"Code\"\r\n                  value={this.state.code}\r\n                  onChange={this.onChange}\r\n                  error={errors.code}\r\n                  autoComplete=\"off\"\r\n                />\r\n                <TextFieldGroup\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  placeholder=\"Password\"\r\n                  value={this.state.password}\r\n                  onChange={this.onChange}\r\n                  error={errors.password}\r\n                  autoComplete=\"off\"\r\n                />\r\n                <TextFieldGroup\r\n                  type=\"password\"\r\n                  name=\"password2\"\r\n                  placeholder=\"Retype Password\"\r\n                  value={this.state.password2}\r\n                  onChange={this.onChange}\r\n                  error={errors.password2}\r\n                  autoComplete=\"off\"\r\n                />\r\n                <input type=\"submit\" className=\"btn btn-info btn-block mt-4\" />\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  register: state.register,\r\n  things: state.things,\r\n  isAuthenticated: state.login.isAuthenticated\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { registerUser, fetchRegisterThings }\r\n)(withRouter(Register));\r\n","export const filterReplacements = {\r\n  id: \"x.id\",\r\n  id1: \"x.id1\",\r\n  regbit: \"x.regbit\",\r\n  meistrija: \"x.meistrija\",\r\n  linija: \"x.linija\",\r\n  kelias: \"x.kelias\",\r\n  km: \"x.km\",\r\n  pk: \"x.pk\",\r\n  m: \"x.m\",\r\n  siule: \"x.siule\",\r\n  kodas: \"x.kodas\",\r\n  dl: \"x.dl\",\r\n  dh: \"x.dh\",\r\n  pavoj: \"x.pavoj\",\r\n  kkateg: \"x.kkateg\",\r\n  btipas: \"x.btipas\",\r\n  bgamykl: \"x.bgamykl\",\r\n  bmetai: \"x.bmetai\",\r\n  oper: \"x.oper\",\r\n  apar: \"x.apar\",\r\n  data: \"x.data\",\r\n  dtermin: \"x.dtermin\",\r\n  dstop: \"x.dstop\",\r\n  liko: \"(x.dtermin && !x.dstop) && Math.floor((Date.parse(x.dtermin)-Date.now())/86400000)\",\r\n  vt: \"(x.kelias && (x.kelias==='1' || x.kelias==='2') && x.km && x.pk && (x.m || x.m===0)) && (x.km*1000+(x.pk-1)*100+x.m)\"\r\n};\r\n\r\nexport function getSortingReplacement(fieldName, x) {\r\n  switch (fieldName) {\r\n    case \"id\": return x.id;\r\n    case \"id1\": return x.id1;\r\n    case \"regbit\": return x.regbit;\r\n    case \"meistrija\": return x.meistrija;\r\n    case \"linija\": return x.linija;\r\n    case \"kelias\": return x.kelias;\r\n    case \"km\": return x.km;\r\n    case \"pk\": return x.pk;\r\n    case \"m\": return x.m;\r\n    case \"siule\": return x.siule;\r\n    case \"kodas\": return x.kodas;\r\n    case \"dl\": return x.dl;\r\n    case \"dh\": return x.dh;\r\n    case \"pavoj\": return x.pavoj;\r\n    case \"kkateg\": return x.kkateg;\r\n    case \"btipas\": return x.btipas;\r\n    case \"bgamykl\": return x.bgamykl;\r\n    case \"bmetai\": return x.bmetai;\r\n    case \"oper\": return x.oper;\r\n    case \"apar\": return x.apar;\r\n    case \"data\": return x.data;\r\n    case \"dtermin\": return x.dtermin;\r\n    case \"dstop\": return x.dstop;\r\n    case \"liko\": return x.dtermin && !x.daction ? Math.floor((Date.parse(x.dtermin)-Date.now())/86400000) : Number.MAX_SAFE_INTEGER;\r\n\r\n    default:\r\n      throw new Error(\"Nesuprantamas rikiavimo parametras \" + fieldName);\r\n  }\r\n}\r\n","export const filterReplacements = {\r\n  id: \"x.id\",\r\n  oldid: \"x.oldid\",\r\n  regbit: \"x.regbit\",\r\n  linija: \"x.linija\",\r\n  kelias: \"x.kelias\",\r\n  km: \"x.km\",\r\n  pk: \"x.pk\",\r\n  m: \"x.m\",\r\n  siule: \"x.siule\",\r\n  vbudas: \"x.vbudas\",\r\n  suvnr: \"x.suvnr\",\r\n  nrschema: \"x.nrschema\",\r\n  data0: \"x.data0\",\r\n  dstop: \"x.stop\",\r\n  note: \"x.note\",\r\n\r\n  data: \"x.data\",\r\n  oper: \"x.oper\",\r\n  apar: \"x.apar\",\r\n  name: \"x.pvd\",\r\n  defectid: \"x.defectid\"\r\n};\r\n\r\nexport function getSortingReplacement(fieldName, x) {\r\n  switch (fieldName) {\r\n    case \"id\": return x.id;\r\n    case \"oldid\": return x.oldid;\r\n    case \"regbit\": return x.regbit;\r\n    case \"linija\": return x.linija;\r\n    case \"kelias\": return x.kelias;\r\n    case \"km\": return x.km;\r\n    case \"pk\": return x.pk;\r\n    case \"m\": return x.m;\r\n    case \"siule\": return x.siule;\r\n    case \"vbudas\": return x.vbudas;\r\n    case \"suvnr\": return x.suvnr;\r\n    case \"nrschema\": return x.nrschema;\r\n    case \"data0\": return x.data0;\r\n    case \"dstop\": return x.dstop;\r\n    case \"note\": return x.note;\r\n    \r\n    case \"data\": return x.data;\r\n    case \"apar\": return x.apar;\r\n    case \"oper\": return x.oper;\r\n    case \"pvd\": return x.pvd;\r\n    case \"defectid\": return x.defectid;\r\n\r\n    default:\r\n      throw new Error(\"Nesuprantamas rikiavimo parametras \" + fieldName);\r\n  }\r\n}\r\n","const absent = (prop, defaultValue='') => prop == null ? defaultValue : prop.toString(); \r\n\r\nconst absentMulti = (obj, level1, level2, defaultValue = '') =>\r\n  obj == null || obj[level1] == null || obj[level1][level2] == null\r\n    ? defaultValue\r\n    : obj[level1][level2].toString();\r\n\r\nexport {absent, absentMulti};\r\n","import React from \"react\";\r\nimport {liko} from \"./functions\";\r\n\r\nconst ItemRow = ({ item, editItem, deleteItem }) => {\r\n  return (\r\n    <tr>\r\n      <td className=\"regbit\">{item.regbit}</td>\r\n      <td className=\"meistrija\">{item.meistrija}</td>\r\n      <td className=\"id text-right\">{item.id}</td>\r\n      <td className=\"id1 text-right\">{item.id1}</td>\r\n      <td className=\"linija\">{item.linija}</td>\r\n      <td className=\"kelias\">{item.kelias}</td>\r\n      <td className=\"km text-right\">{item.km}</td>\r\n      <td className=\"pk text-right\">{item.pk}</td>\r\n      <td className=\"m text-right\">{item.m}</td>\r\n      <td className=\"siule\">{item.siule}</td>\r\n      <td className=\"kodas\">{item.kodas}</td>\r\n      <td className=\"dl text-right\">{item.dl}</td>\r\n      <td className=\"dh text-right\">{item.dh}</td>\r\n      <td className=\"pavoj\">{item.pavoj}</td>\r\n      <td className=\"kkateg\">{item.kkateg}</td>\r\n      <td className=\"btipas\">{item.btipas}</td>\r\n      <td className=\"bgamykl\">{item.bgamykl}</td>\r\n      <td className=\"bmetai\">{item.bmetai}</td>\r\n      <td className=\"oper\">{item.oper}</td>\r\n      <td className=\"apar\">{item.apar}</td>\r\n      <td className=\"data\">{item.data}</td>\r\n      <td className=\"dtermin\">{item.dtermin}</td>\r\n      <td className=\"dstop\">{item.dstop}</td>\r\n      <td className=\"liko\">{liko(item)}</td>\r\n      <td className=\"pastaba\">{item.note}</td>\r\n      <td>\r\n        <div className=\"button-group\">\r\n          <button\r\n            className=\"btn btn-xs btn-warning\"\r\n            data-id={item.id}\r\n            onClick={editItem}\r\n          >\r\n            <i className=\"fas fa-edit\" data-id={item.id} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-xs btn-danger\"\r\n            data-id={item.id}\r\n            data-v={item.v}\r\n            onClick={deleteItem}\r\n          >\r\n            <i \r\n              className=\"fas fa-trash-alt\" \r\n              data-id={item.id}\r\n              data-v={item.v} \r\n            />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst ItemHeadRow = () => {\r\n  return (\r\n    <tr>\r\n      <th className=\"region\">regbit</th>\r\n      <th className=\"meistrija\">meistrija</th>\r\n      <th className=\"id\">id</th>\r\n      <th className=\"id1\">id1</th>\r\n      <th className=\"linija\">linija</th>\r\n      <th className=\"kelias\">kelias</th>\r\n      <th className=\"km\">km</th>\r\n      <th className=\"pk\">pk</th>\r\n      <th className=\"m\">m</th>\r\n      <th className=\"siule\">siule</th>\r\n      <th className=\"kodas\">kodas</th>\r\n      <th className=\"dl\">dl</th>\r\n      <th className=\"dh\">dh</th>\r\n      <th className=\"pavoj\">pavoj</th>\r\n      <th className=\"kkateg\">kkateg</th>\r\n      <th className=\"btipas\">btipas</th>\r\n      <th className=\"bgamykl\">bgamykl</th>\r\n      <th className=\"bmetai\">bmetai</th>\r\n      <th className=\"oper\">oper</th>\r\n      <th className=\"apar\">apar</th>\r\n      <th className=\"data\">data</th>\r\n      <th className=\"dtermin\">dtermin</th>\r\n      <th className=\"dstop\">dstop</th>\r\n      <th className=\"liko\">liko</th>\r\n      <th className=\"note\">note</th>\r\n      <th className=\"controls\">controls</th>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport { ItemRow, ItemHeadRow };\r\n","function liko(defect) {\r\n  if (!defect.dtermin || defect.dstop) return \"\";\r\n  return Math.floor((Date.parse(defect.dtermin) - Date.now())/86400000)\r\n}\r\n\r\nexport {liko};","import React from \"react\";\r\n\r\nconst ItemRow = ({ item, editItem, deleteItem }) => {\r\n  return (\r\n    <tr>\r\n      <td className=\"regbit\">{item.regbit}</td>\r\n      <td className=\"id text-right\">{item.id}</td>\r\n      <td className=\"oldid text-right\">{item.oldid}</td>\r\n      <td className=\"data\">{item.data0}</td>\r\n      <td className=\"virino\">{item.virino}</td>\r\n      <td className=\"vbudas\">{item.vbudas}</td>\r\n      <td className=\"linija\">{item.linija}</td>\r\n      <td className=\"kelias\">{item.kelias}</td>\r\n      <td className=\"km text-right\">{item.km}</td>\r\n      <td className=\"pk text-right\">{item.pk}</td>\r\n      <td className=\"m text-right\">{item.m}</td>\r\n      <td className=\"siule\">{item.siule}</td>\r\n      <td className=\"suvnr\">{item.suvnr}</td>\r\n      <td className=\"nrschema\">{item.nrschema}</td>\r\n      <td className=\"data\">{item.data}</td>\r\n      <td className=\"pvd\">{item.pvd}</td>\r\n      <td className=\"oper\">{item.oper}</td>\r\n      <td className=\"apar\">{item.apar}</td>\r\n      <td className=\"dstop\">{item.dstop}</td>\r\n      <td className=\"pastaba\">{item.note}</td>\r\n      <td>\r\n        <div className=\"button-group\">\r\n          <button\r\n            className=\"btn btn-xs btn-warning\"\r\n            data-id={item.id}\r\n            onClick={editItem}\r\n          >\r\n            <i className=\"fas fa-edit\" data-id={item.id} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-xs btn-danger\"\r\n            data-id={item.id}\r\n            data-v={item.v}\r\n            onClick={deleteItem}\r\n          >\r\n            <i \r\n              className=\"fas fa-trash-alt\" \r\n              data-id={item.id}\r\n              data-v={item.v} \r\n            />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst ItemHeadRow = () => {\r\n  return (\r\n    <tr>\r\n      <th className=\"region\">regbit</th>\r\n      <th className=\"id\">id</th>\r\n      <th className=\"oldid\">oldid</th>\r\n      <th className=\"data\">data0</th>\r\n      <th className=\"virino\">virino</th>\r\n      <th className=\"vbudas\">vbudas</th>\r\n      <th className=\"linija\">linija</th>\r\n      <th className=\"kelias\">kelias</th>\r\n      <th className=\"km\">km</th>\r\n      <th className=\"pk\">pk</th>\r\n      <th className=\"m\">m</th>\r\n      <th className=\"siule\">siule</th>\r\n      <th className=\"suvnr\">suvnr</th>\r\n      <th className=\"nrschema\">nrschema</th>\r\n      <th className=\"data\">data</th>\r\n      <th className=\"pvd\">pvd</th>\r\n      <th className=\"oper\">oper</th>\r\n      <th className=\"apar\">apar</th>\r\n      <th className=\"dstop\">dstop</th>\r\n      <th className=\"note\">note</th>\r\n      <th className=\"controls\">controls</th>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport { ItemRow, ItemHeadRow };\r\n","export const defect = \"defect\";\r\nexport const welding = \"welding\";\r\nexport const employee = \"employee\";","import * as defectReplacements from \"./actions/functions/filterSort/replacements/defect\";\r\nimport * as weldingReplacements from \"./actions/functions/filterSort/replacements/welding\";\r\n\r\nimport * as defectMainDataForm from \"./components/items/specific/defects/MainDataForm\";\r\nimport * as weldingMainDataForm from \"./components/items/specific/weldings/MainDataForm\";\r\n\r\nimport * as defectSingleRow from \"./components/items/specific/defects/SingleRow\";\r\nimport * as weldingSingleRow from \"./components/items/specific/weldings/SingleRow\";\r\n\r\nimport * as defectJournalEditForm from \"./components/items/specific/defects/JournalEditForm\";\r\nimport * as weldingJournalEditForm from \"./components/items/specific/weldings/JournalEditForm\";\r\n\r\nimport * as defectJournalRow from \"./components/items/specific/defects/JournalRow\";\r\nimport * as weldingJournalRow from \"./components/items/specific/weldings/JournalRow\";\r\nimport * as iTypes from \"./itypes\";\r\n\r\n\r\nexport default {\r\n  [iTypes.defect]: {\r\n        replacements: defectReplacements,\r\n        mainDataForm: defectMainDataForm.MainDataForm,\r\n        singleRow: defectSingleRow,\r\n        journalEditForm: defectJournalEditForm.JournalEditForm,\r\n        journalRow: defectJournalRow.JournalRow,\r\n        journalListHead: defectJournalRow.JournalHeadRow,\r\n        listPath: \"/defects\",\r\n        panaikinta: item => !!item.dstop\r\n      },\r\n  [iTypes.welding]: {\r\n        replacements: weldingReplacements,\r\n        mainDataForm: weldingMainDataForm.MainDataForm,\r\n        singleRow: weldingSingleRow,\r\n        journalEditForm: weldingJournalEditForm.JournalEditForm,\r\n        journalRow: weldingJournalRow.JournalRow,\r\n        journalListHead: weldingJournalRow.JournalHeadRow,\r\n        listPath: \"/weldings\",\r\n        panaikinta: item => item.dstop === 0 || item.dstop === \"0\"\r\n      }\r\n};","import React from \"react\";\r\nimport TextFieldGroup from \"../../../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../../../common/SelectInputGroup\";\r\nimport {absent} from \"../../../../utils/absentProps\";\r\n\r\nconst MainDataForm = ({ item, onChange, options }) => {\r\n  return (\r\n    <div className=\"container item-info border border-primary text-center\">\r\n      <div className=\"form-group row main-data text-center\">\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-3\"\r\n          label=\"ID\"\r\n          id=\"item-id\"\r\n          name=\"id\"\r\n          placeholder=\"Defekto ID\"\r\n          readonly={true}\r\n          value={absent(item.id)}\r\n        />\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-1\"\r\n          label=\"Regionas\"\r\n          id=\"item-regbit\"\r\n          name=\"regbit\"\r\n          placeholder=\"Regionas\"\r\n          readonly={true}\r\n          value={absent(item.regbit)}\r\n        />\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-3\"\r\n          label=\"ID1\"\r\n          id=\"item-id1\"\r\n          name=\"id1\"\r\n          placeholder=\"Defekto ID1\"\r\n          value={absent(item.id1)}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"item-meistrija\"\r\n          name=\"meistrija\"\r\n          label=\"Meistrija\"\r\n          divClassname=\"form-group col-3\"\r\n          value={absent(item.meistrija)}\r\n          options={options.meistrija}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"item-kkateg\"\r\n          name=\"kkateg\"\r\n          label=\"Kelio kategorija\"\r\n          divClassname=\"form-group col-2\"\r\n          value={absent(item.kkateg)}\r\n          options={options.kkateg}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group row begis text-center\">\r\n        <SelectInputGroup\r\n          id=\"item-btipas\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"btipas\"\r\n          label=\"Bėgio tipas\"\r\n          value={absent(item.btipas)}\r\n          options={options.btipas}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"item-bgamykl\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"bgamykl\"\r\n          label=\"Bėgio gamykla\"\r\n          value={absent(item.bgamykl)}\r\n          options={options.bgamykl}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-4\"\r\n          label=\"Bėgio gam. metai\"\r\n          id=\"item-bmetai\"\r\n          name=\"bmetai\"\r\n          placeholder=\"Bėgio gam. metai\"\r\n          value={absent(item.bmetai)}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group row vieta text-center\">\r\n        <TextFieldGroup\r\n          label=\"Linija\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-linija\"\r\n          name=\"linija\"\r\n          placeholder=\"Linija\"\r\n          value={absent(item.linija)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"Kelias\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-kelias\"\r\n          name=\"kelias\"\r\n          placeholder=\"Kelio Nr.\"\r\n          value={absent(item.kelias)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"km\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-km\"\r\n          name=\"km\"\r\n          placeholder=\"km\"\r\n          value={absent(item.km)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"pk\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-pk\"\r\n          name=\"pk\"\r\n          placeholder=\"pk\"\r\n          value={absent(item.pk)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"m\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-m\"\r\n          name=\"m\"\r\n          placeholder=\"m\"\r\n          value={absent(item.m)}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"item-siule\"\r\n          divClassname=\"form-group col-2\"\r\n          name=\"siule\"\r\n          label=\"Siūlė\"\r\n          value={absent(item.siule)}\r\n          options={options.siule}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group row datos text-center\">\r\n        <TextFieldGroup\r\n          label=\"Galutinio panaikinimo data\"\r\n          divClassname=\"form-group col-3\"\r\n          type=\"date\"\r\n          id=\"item-daction\"\r\n          name=\"dstop\"\r\n          placeholder=\"Panaikinimo data\"\r\n          value={absent(item.dstop)}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { MainDataForm };\r\n","import React from \"react\";\r\nimport Alert from \"../../../common/Alert\";\r\nimport TextFieldGroup from \"../../../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../../../common/SelectInputGroup\";\r\nimport {absent} from \"../../../../utils/absentProps\";\r\n\r\nconst JournalEditForm = ({ jItem, onChange, options, submitJItem, cancelJItem, alert }) => {\r\n  \r\n  return (\r\n    <div className=\"container journal-info border border-primary text-center\">\r\n      <div className=\"form-group row text-center\">\r\n        {alert ? (\r\n          <div className=\"col-12\">\r\n            <Alert message={alert.msg} type={alert.type} />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"form-group row text-center\">\r\n        <TextFieldGroup\r\n          label=\"Data\"\r\n          divClassname=\"form-group col-4\"\r\n          type=\"date\"\r\n          id=\"jitem-data\"\r\n          name=\"data\"\r\n          value={absent(jItem.data)}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"jitem-oper\"\r\n          name=\"oper\"\r\n          label=\"Operatorius\"\r\n          divClassname=\"form-group col-4\"\r\n          value={absent(jItem.oper)}\r\n          options={options.oper}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"jitem-apar\"\r\n          name=\"apar\"\r\n          label=\"Defektoskopas\"\r\n          divClassname=\"form-group col-4\"\r\n          value={absent(jItem.apar)}\r\n          options={options.apar}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row text-center\">\r\n        <TextFieldGroup\r\n          label=\"Kodas\"\r\n          divClassname=\"form-group col-3\"\r\n          id=\"jitem-kodas\"\r\n          name=\"kodas\"\r\n          placeholder=\"Kodas\"\r\n          value={absent(jItem.kodas)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"L\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"jitem-dl\"\r\n          name=\"dl\"\r\n          placeholder=\"L\"\r\n          value={absent(jItem.dl)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"H\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"jitem-dh\"\r\n          name=\"dh\"\r\n          placeholder=\"H\"\r\n          value={absent(jItem.dh)}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"jitem-pavoj\"\r\n          name=\"pavoj\"\r\n          label=\"Pavojingumas\"\r\n          divClassname=\"form-group col-2\"\r\n          value={absent(jItem.pavoj)}\r\n          options={options.pavoj}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"Terminas\"\r\n          divClassname=\"form-group col-3\"\r\n          type=\"date\"\r\n          id=\"jitem-termin\"\r\n          name=\"dtermin\"\r\n          value={absent(jItem.dtermin)}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row pastaba text-center\">\r\n        <TextFieldGroup\r\n          label=\"Pastaba\"\r\n          divClassname=\"form-group col-12\"\r\n          placeholder=\"Pastaba\"\r\n          id=\"jitem-note\"\r\n          name=\"note\"\r\n          value={absent(jItem.note)}\r\n          onChange={onChange}\r\n        />\r\n      </div> \r\n      <div className=\"form-group row controls text-center\">\r\n        <div className=\"form-group col-3\">\r\n          <button type=\"submit\" className=\"btn btn-primary\" onClick={submitJItem}>\r\n            Submit This Journal Record\r\n          </button>\r\n        </div>\r\n        <div className=\"form-group col-3\">\r\n          <button type=\"submit\" className=\"btn btn-light\" onClick={cancelJItem}>\r\n            Clear\r\n          </button>\r\n        </div>\r\n      </div> \r\n    </div>\r\n  );\r\n};\r\n\r\nexport { JournalEditForm };\r\n","import React from \"react\";\r\n\r\nconst JournalRow = ({ jItem, setForEdit, deleteJItem, current }) => {\r\n  return (\r\n    <tr className={current ? \"current\" : undefined}>\r\n      <td className=\"id\">{jItem.jid}</td>\r\n      <td className=\"data\">{jItem.data}</td>\r\n      <td className=\"oper\">{jItem.oper}</td>\r\n      <td className=\"apar\">{jItem.apar}</td>\r\n      <td className=\"kodas\">{jItem.kodas}</td>\r\n      <td className=\"dl text-right\">{jItem.dl}</td>\r\n      <td className=\"dh text-right\">{jItem.dh}</td>\r\n      <td className=\"pavoj\">{jItem.pavoj}</td>\r\n      <td className=\"dtermin\">{jItem.dtermin}</td>\r\n      <td className=\"note\">{jItem.note}</td>\r\n      <td>\r\n        <div className=\"button-group\">\r\n          <button\r\n            className=\"btn btn-xs btn-warning\"\r\n            data-jid={jItem.jid}\r\n            onClick={setForEdit}\r\n          >\r\n            <i className=\"fas fa-edit\" data-jid={jItem.jid} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-xs btn-danger\"\r\n            data-jid={jItem.jid}\r\n            onClick={deleteJItem}\r\n          >\r\n            <i \r\n              className=\"fas fa-trash-alt\" \r\n              data-jid={jItem.jid}\r\n            />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst JournalHeadRow = () => {\r\n  return (\r\n    <tr>\r\n      <th className=\"id\">id</th>\r\n      <th className=\"data\">data</th>\r\n      <th className=\"oper\">oper</th>\r\n      <th className=\"apar\">apar</th>\r\n      <th className=\"kodas\">kodas</th>\r\n      <th className=\"dl\">dl</th>\r\n      <th className=\"dh\">dh</th>\r\n      <th className=\"pavoj\">pavoj</th>\r\n      <th className=\"dtermin\">dtermin</th>\r\n      <th className=\"note\">note</th>\r\n      <th className=\"controls\">controls</th>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport { JournalRow, JournalHeadRow };\r\n","import React from \"react\";\r\nimport TextFieldGroup from \"../../../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../../../common/SelectInputGroup\";\r\nimport {absent} from \"../../../../utils/absentProps\";\r\n\r\nconst MainDataForm = ({ item, onChange, options }) => {\r\n  return (\r\n    <div className=\"container item-info border border-primary text-center\">\r\n      <div className=\"form-group row main-data text-center\">\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-3\"\r\n          label=\"ID\"\r\n          id=\"item-id\"\r\n          name=\"id\"\r\n          placeholder=\"Defekto ID\"\r\n          readonly={true}\r\n          value={absent(item.id)}\r\n        />\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-3\"\r\n          label=\"Senasis ID\"\r\n          id=\"item-oldid\"\r\n          name=\"oldid\"\r\n          placeholder=\"Senasis ID\"\r\n          readonly={true}\r\n          value={absent(item.oldid)}\r\n        />\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-2\"\r\n          label=\"Regionas\"\r\n          id=\"item-regbit\"\r\n          name=\"regbit\"\r\n          placeholder=\"Regionas\"\r\n          readonly={true}\r\n          value={absent(item.regbit)}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group row virino text-center\">\r\n        <TextFieldGroup\r\n          id=\"item-data0\"\r\n          divClassname=\"form-group col-4\"\r\n          type=\"date\"\r\n          name=\"data0\"\r\n          label=\"Virinimo data\"\r\n          value={absent(item.data0)}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"item-virino\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"virino\"\r\n          label=\"Kas virino\"\r\n          value={absent(item.virino)}\r\n          options={options.virino}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"item-vbudas\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"vbudas\"\r\n          label=\"Virinimo būdas\"\r\n          value={absent(item.vbudas)}\r\n          options={options.vbudas}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group row vieta text-center\">\r\n        <TextFieldGroup\r\n          label=\"Linija\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-linija\"\r\n          name=\"linija\"\r\n          placeholder=\"Linija\"\r\n          value={absent(item.linija)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"Kelias\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-kelias\"\r\n          name=\"kelias\"\r\n          placeholder=\"Kelio Nr.\"\r\n          value={absent(item.kelias)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"km\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-km\"\r\n          name=\"km\"\r\n          placeholder=\"km\"\r\n          value={absent(item.km)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"pk\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-pk\"\r\n          name=\"pk\"\r\n          placeholder=\"pk\"\r\n          value={absent(item.pk)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"m\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-m\"\r\n          name=\"m\"\r\n          placeholder=\"m\"\r\n          value={absent(item.m)}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"item-siule\"\r\n          divClassname=\"form-group col-2\"\r\n          name=\"siule\"\r\n          label=\"Siūlė\"\r\n          value={absent(item.siule)}\r\n          options={options.siule}\r\n          onChange={onChange}\r\n        />\r\n\r\n        <TextFieldGroup\r\n          label=\"Suvir. Nr.\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-suvnr\"\r\n          name=\"suvnr\"\r\n          placeholder=\"suv nr\"\r\n          value={absent(item.suvnr)}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"Nr. pagal schemą\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"item-nrschema\"\r\n          name=\"nrschema\"\r\n          placeholder=\"nrschema\"\r\n          value={absent(item.nrschema)}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group row datos text-center\">\r\n        <SelectInputGroup\r\n          id=\"item-dstop\"\r\n          divClassname=\"form-group col-3\"\r\n          name=\"dstop\"\r\n          label=\"Būsena\"\r\n          value={absent(item.dstop)}\r\n          options={options.itemStatus}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport { MainDataForm };\r\n","import React from \"react\";\r\nimport Alert from \"../../../common/Alert\";\r\nimport TextFieldGroup from \"../../../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../../../common/SelectInputGroup\";\r\nimport {absent} from \"../../../../utils/absentProps\";\r\n\r\nconst JournalEditForm = ({ jItem, onChange, options, submitJItem, cancelJItem, alert }) => {\r\n\r\n  //console.log(\"jItem\", jItem);\r\n  //console.log(\"absent(jItem.oper), absent(jItem.apar)\", absent(jItem.oper), absent(jItem.apar));\r\n  \r\n  return (\r\n    <div className=\"container journal-info border border-primary text-center\">\r\n      <div className=\"form-group row text-center\">\r\n        {alert ? (\r\n          <div className=\"col-12\">\r\n            <Alert message={alert.msg} type={alert.type} />\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"form-group row text-center\">\r\n        <TextFieldGroup\r\n          label=\"Data\"\r\n          divClassname=\"form-group col-3\"\r\n          type=\"date\"\r\n          id=\"jitem-data\"\r\n          name=\"data\"\r\n          value={absent(jItem.data)}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"jitem-oper\"\r\n          name=\"oper\"\r\n          label=\"Operatorius\"\r\n          divClassname=\"form-group col-3\"\r\n          value={absent(jItem.oper)}\r\n          options={options.oper}\r\n          onChange={onChange}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"jitem-apar\"\r\n          name=\"apar\"\r\n          label=\"Defektoskopas\"\r\n          divClassname=\"form-group col-3\"\r\n          value={absent(jItem.apar)}\r\n          options={options.apar}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row text-center\">\r\n        <SelectInputGroup\r\n          id=\"jitem-pvd\"\r\n          name=\"pvd\"\r\n          label=\"Pavadinimas\"\r\n          divClassname=\"form-group col-3\"\r\n          value={absent(jItem.pvd)}\r\n          options={options.vpvd}\r\n          onChange={onChange}\r\n        />\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-9\"\r\n          label=\"Pastaba\"\r\n          id=\"jitem-jnote\"\r\n          name=\"note\"\r\n          placeholder=\"Pastaba\"\r\n          value={absent(jItem.note)}\r\n          onChange={onChange}\r\n        />\r\n      </div> \r\n      <div className=\"form-group row controls text-center\">\r\n        <div className=\"form-group col-3\">\r\n          <button type=\"submit\" className=\"btn btn-primary\" onClick={submitJItem}>\r\n            Submit This Journal Record\r\n          </button>\r\n        </div>\r\n        <div className=\"form-group col-3\">\r\n          <button type=\"submit\" className=\"btn btn-light\" onClick={cancelJItem}>\r\n            Clear\r\n          </button>\r\n        </div>\r\n      </div> \r\n    </div>\r\n  );\r\n};\r\n\r\nexport { JournalEditForm };\r\n","import React from \"react\";\r\n\r\nconst JournalRow = ({ jItem, setForEdit, deleteJItem, current, things }) => {\r\n  return (\r\n    <tr className={current ? \"current\" : undefined}>\r\n      <td className=\"id\">{jItem.jid}</td>\r\n      <td className=\"data\">{jItem.data}</td>\r\n      <td className=\"oper\">{jItem.oper}</td>\r\n      <td className=\"apar\">{jItem.apar}</td>\r\n      <td className=\"pvd\">{things.vpvd.find(th => th.pvdid === jItem.pvd).pvdname}</td>\r\n      <td className=\"note\">{jItem.note}</td>\r\n      <td>\r\n        <div className=\"button-group\">\r\n          <button\r\n            className=\"btn btn-xs btn-warning\"\r\n            data-jid={jItem.jid}\r\n            onClick={setForEdit}\r\n          >\r\n            <i className=\"fas fa-edit\" data-jid={jItem.jid} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-xs btn-danger\"\r\n            data-jid={jItem.jid}\r\n            onClick={deleteJItem}\r\n          >\r\n            <i \r\n              className=\"fas fa-trash-alt\" \r\n              data-jid={jItem.jid}\r\n            />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst JournalHeadRow = () => {\r\n  return (\r\n    <tr>\r\n      <th className=\"id\">id</th>\r\n      <th className=\"data\">data</th>\r\n      <th className=\"oper\">oper</th>\r\n      <th className=\"apar\">apar</th>\r\n      <th className=\"pvd\">pavadinimas</th>\r\n      <th className=\"note\">pastaba</th>\r\n      <th className=\"controls\">controls</th>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport { JournalRow, JournalHeadRow };\r\n","import React from \"react\";\r\nimport itemSpecific from \"../../itemSpecific\";\r\n\r\nconst ItemList = ({ items, editItem, deleteItem, itype }) => {\r\n  if (items.length < 1) {\r\n    return (\r\n      <div className=\"alert alert-info\">There's no items for this view.</div>\r\n    );\r\n  }\r\n\r\n  const singleRow = itemSpecific[itype].singleRow;\r\n  const ItemRow = singleRow.ItemRow;\r\n\r\n  const itemRows = items.map(item => (\r\n    <ItemRow\r\n      item={item}\r\n      editItem={editItem}\r\n      deleteItem={deleteItem}\r\n      key={item.id}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <table\r\n      className=\"table table-sm table-striped table-bordered items\"\r\n      style={{ fontSize: \".9rem\" }}\r\n    >\r\n      <thead>{singleRow.ItemHeadRow()}</thead>\r\n      <tbody>{itemRows}</tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default ItemList;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ItemsCount = ({total, inView}) => {\r\n  return (\r\n    <div className=\"alert alert-info\" role=\"alert\">\r\n      {total} items total, {inView} items in this view\r\n    </div>\r\n  );\r\n}\r\n\r\nItemsCount.propTypes = {\r\n  total: PropTypes.number.isRequired,\r\n  inView: PropTypes.number.isRequired\r\n};\r\n\r\nItemsCount.defaultProps = {\r\n  total: 0,\r\n  inView: 0\r\n};\r\n\r\nexport default ItemsCount;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst PagerNav = ({buttons, onPageChanged}) => {\r\n\r\n  const makeButton = b => {\r\n    // if ellipsis\r\n    if (b.role === \"ellipsis-left\" || b.role === \"ellipsis-right\") {\r\n      return (\r\n        <li \r\n          key={b.role + b.pageIndex} \r\n          className=\"page-item ellipsis\"\r\n        >\r\n          {b.label}\r\n        </li>\r\n      );\r\n    }\r\n\r\n    // if clickable button\r\n    return (\r\n      <li\r\n        key={b.role + b.pageIndex}\r\n        className=\"page-item\"\r\n        onClick={\r\n          b.role !== \"current\" ? e => onPageChanged(b.pageIndex, e) : null\r\n        }\r\n      >\r\n        <button \r\n          className={\"page-link \" + b.role}\r\n          onClick={e => e.preventDefault()}\r\n        >\r\n          {b.label}\r\n        </button>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  let navButtons = [];\r\n  buttons.forEach(b => navButtons.push(makeButton(b)));\r\n\r\n  return (\r\n    <nav>\r\n      <ul className=\"pagination\">{navButtons}</ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nPagerNav.propTypes = {\r\n  buttons: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n  onPageChanged: PropTypes.func.isRequired\r\n};\r\n\r\nexport default PagerNav;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst CurrentPageInfo = ({firstItemLabel, lastItemLabel}) => {\r\n  // // console.log(\"CurrentPageInfo firstItemLabel, lastItemLabel\", firstItemLabel, lastItemLabel);\r\n  return (\r\n    <div className=\"alert alert-info\" role=\"alert\">\r\n      Items: {firstItemLabel}-{lastItemLabel}\r\n    </div>\r\n  );\r\n};\r\n\r\nCurrentPageInfo.propTypes = {\r\n  firstItemLabel: PropTypes.number.isRequired,\r\n  lastItemLabel: PropTypes.number.isRequired\r\n};\r\n\r\nexport default CurrentPageInfo;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport SelectInputGroup from '../../SelectInputGroup';\r\nimport {createOptions} from '../../../createOptions';\r\n\r\nconst ItemsPerPageSelector = \r\n({availableItemsPerPage, onItemsPerPageChanged, itemsPerPage}) => {\r\n\r\n  const options = \r\n    createOptions(\r\n      availableItemsPerPage,\r\n      '',\r\n      x => x, \r\n      x => x, \r\n      x => x\r\n    );\r\n  \r\n\r\n\r\n  return (<SelectInputGroup \r\n      options={options}\r\n      name='items-per-page'\r\n      onChange={onItemsPerPageChanged}\r\n      value={itemsPerPage + ''}\r\n    />);\r\n};\r\n\r\nItemsPerPageSelector.propTypes = {\r\n  availableItemsPerPage: PropTypes.arrayOf(PropTypes.number).isRequired,\r\n  onItemsPerPageChanged: PropTypes.func.isRequired,\r\n  itemsPerPage: PropTypes.number.isRequired\r\n};\r\n\r\nexport default ItemsPerPageSelector;\r\n","export const pagerSettings = {\r\n  availableItemsPerPage: [10, 20, 50]\r\n};","import React from 'react';\r\n// import PropTypes from 'prop-types';\r\nimport PagerNav from './components/PagerNav';\r\nimport CurrentPageInfo from './components/CurrentPageInfo';\r\nimport ItemsPerPageSelector from './components/ItemsPerPageSelector';\r\nimport {pagerSettings} from './settings';\r\n\r\nconst Pager = ({\r\n    firstItemIndex,\r\n    buttons, \r\n    itemsPerPage,\r\n    onPageChanged, \r\n    onItemsPerPageChanged, \r\n    itemCount}) => {\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      \r\n      <div className=\"col-7\">\r\n        <PagerNav \r\n          buttons={buttons} \r\n          onPageChanged={onPageChanged} \r\n        />\r\n      </div>\r\n\r\n      \r\n      <div className=\"col-2\">\r\n        <ItemsPerPageSelector \r\n          availableItemsPerPage={pagerSettings.availableItemsPerPage} \r\n          onItemsPerPageChanged={onItemsPerPageChanged} \r\n          itemsPerPage={itemsPerPage} \r\n        />\r\n      </div>\r\n\r\n      \r\n      <div className=\"col-3\">\r\n        <CurrentPageInfo \r\n          firstItemLabel={firstItemIndex + 1} \r\n          lastItemLabel={Math.min(firstItemIndex + itemsPerPage, itemCount)} \r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pager;","import React from 'react';\r\n\r\nconst Confirmation = ({body, title, confirmHandler, rejectHandler, show}) => {\r\n\r\n  return (\r\n    <div \r\n      className=\"my-modal\" \r\n      style={show ? {display: \"block\"} : {display: \"none\"}} \r\n      id=\"confirmation-modal\" tabIndex=\"-1\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"confirmationTitle\">{title}</h5>\r\n            <button type=\"button\" className=\"reject-button\" onClick={rejectHandler}>\r\n              &times;\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            {body}\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={rejectHandler}>\r\n              Close\r\n            </button>\r\n            <button type=\"button\" className=\"btn btn-danger\" onClick={confirmHandler}>\r\n              Confirm\r\n            </button>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Confirmation;\r\n\r\n","/*\tThis work is licensed under Creative Commons GNU LGPL License.\r\n\r\n\tLicense: http://creativecommons.org/licenses/LGPL/2.1/\r\n   Version: 0.9\r\n\tAuthor:  Stefan Goessner/2006\r\n\tWeb:     http://goessner.net/ \r\n*/\r\nfunction json2xml(o, tab) {\r\n   var toXml = function(v, name, ind) {\r\n      var xml = \"\";\r\n      if (v instanceof Array) {\r\n         for (var i=0, n=v.length; i<n; i++)\r\n            xml += ind + toXml(v[i], name, ind+\"\\t\") + \"\\n\";\r\n      }\r\n      else if (typeof(v) == \"object\") {\r\n         var hasChild = false;\r\n         xml += ind + \"<\" + name;\r\n         for (var m1 in v) {\r\n            if (m1.charAt(0) === \"@\")\r\n               xml += \" \" + m1.substr(1) + \"=\\\"\" + v[m1].toString() + \"\\\"\";\r\n            else\r\n               hasChild = true;\r\n         }\r\n         xml += hasChild ? \">\" : \"/>\";\r\n         if (hasChild) {\r\n            for (var m2 in v) {\r\n               if (m2 === \"#text\")\r\n                  xml += v[m2];\r\n               else if (m2 === \"#cdata\")\r\n                  xml += \"<![CDATA[\" + v[m2] + \"]]>\";\r\n               else if (m2.charAt(0) !== \"@\")\r\n                  xml += toXml(v[m2], m2, ind+\"\\t\");\r\n            }\r\n            xml += (xml.charAt(xml.length-1)===\"\\n\"?ind:\"\") + \"</\" + name + \">\";\r\n         }\r\n      }\r\n      else {\r\n         xml += ind + \"<\" + name + \">\" + v.toString() +  \"</\" + name + \">\";\r\n      }\r\n      return xml;\r\n   }, xml=\"\";\r\n   for (var m in o)\r\n      xml += toXml(o[m], m, \"\");\r\n   return tab ? xml.replace(/\\t/g, tab) : xml.replace(/\\t|\\n/g, \"\");\r\n}\r\n\r\nfunction arrayToXml(arr, parentName, childName) {\r\n  var xml = '<?xml version=\"1.0\" encoding=\"UTF-8\"?>'\r\n  xml += `<${parentName}>`;\r\n  arr.forEach((item, index) => \r\n    xml += \r\n        `<${childName} index=\"${index}\">` + \r\n        json2xml(item) +  \r\n        `</${childName}>`\r\n  );\r\n  xml += `</${parentName}>`;\r\n  return xml;\r\n}\r\n\r\nexport default arrayToXml;","//import * as json2xml from \"js2xmlparser\";\r\nimport json2csv from \"json2csv\";\r\nimport arrayToXml from \"./arrayToXml\";\r\n\r\nconst jsonToCsv = items => json2csv.parse(items, { delimiter: \";\" });\r\nconst jsonToXml = items => arrayToXml(items, \"items\", \"item\");\r\n\r\nconst modifiers = [\r\n  {\r\n    convert: JSON.stringify,\r\n    label: \"JSON\",\r\n    defaultFnFunction: () => \"json_items\",\r\n    fnExtension: \".json\"\r\n  },\r\n  {\r\n    convert: jsonToCsv,\r\n    label: \"CSV\",\r\n    defaultFnFunction: () => \"csv_items\",\r\n    fnExtension: \".csv\"\r\n  },\r\n  {\r\n    convert: jsonToXml,\r\n    label: \"XML\",\r\n    defaultFnFunction: () => \"xml_items\",\r\n    fnExtension: \".xml\"\r\n  }\r\n];\r\n\r\nexport default modifiers;\r\n","import React from \"react\";\r\nimport Blob from 'blob';\r\nimport FileSaver from 'file-saver';\r\n\r\n\r\nconst GenericExporter = ({convertItems, label, fname, getItems}) => {\r\n  //if (!getItems) getItems = () => [\"empty\"];\r\n  // // console.log(\"genericExporter getItems\", getItems);\r\n  if (!getItems) return null;\r\n  // // console.log(\"GenericExporter\");\r\n  const getBlob = () => new Blob([convertItems(getItems())], {type: \"text/plain;charset=utf-8\"});\r\n  const fileName = fname;\r\n  const saveToFile = () => FileSaver.saveAs(getBlob(), fileName);\r\n  return (\r\n    <button className=\"btn\" type=\"button\" onClick={saveToFile}>\r\n      {label}\r\n    </button>\r\n  );\r\n}\r\n\r\n// const GenericExporter = ({convertItems, label, fname, getItems}) => {\r\n  \r\n//   const blob = new Blob([convertItems(getItems())], {type: \"text/plain;charset=utf-8\"});\r\n//   const fileName = fname;\r\n//   const saveToFile = () => FileSaver.saveAs(blob, fileName);\r\n//   return (\r\n//     <button className=\"btn\" type=\"button\" onClick={saveToFile}>\r\n//       {label}\r\n//     </button>\r\n//   );\r\n// }\r\n\r\nexport default GenericExporter;","import React from \"react\";\r\nimport modifiers from \"./modifiers\";\r\nimport GenericExporter from \"./GenericExporter\"\r\n\r\nconst ExportItems = ({getItems}) => {\r\n  // // console.log(\"exportItems getItems\", {getItems});\r\n  const exporters = modifiers.map(m => \r\n    <GenericExporter  \r\n      convertItems={m.convert} \r\n      label={m.label} \r\n      fname={m.defaultFnFunction() + m.fnExtension} \r\n      getItems={getItems}\r\n      key={m.label}\r\n    />);\r\n  return (\r\n    <div className=\"btn-group\" role=\"group\">\r\n      {exporters}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ExportItems","import React from 'react';\r\nimport classnames from 'classnames';\r\n\r\nconst TextAreaGroup = ({\r\n  classname,\r\n  divClassname,\r\n  name, \r\n  rows,\r\n  placeholder,\r\n  readonly,\r\n  value,\r\n  error,\r\n  info,\r\n  onChange,\r\n  style,\r\n  id\r\n}) => {\r\n  return (\r\n    <div className={divClassname}>\r\n      <textarea\r\n        className={classnames(classname, {\r\n          'is-invalid': error\r\n        })}\r\n        name={name}\r\n        rows={rows}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        onChange={onChange}\r\n        style={style}\r\n        id={id}\r\n        readOnly={readonly}\r\n      />\r\n      {info && <small className='form-text text-muted'>{info}</small>}\r\n      {error && (\r\n        <div className='invalid-feedback'>{error}</div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nTextAreaGroup.defaultProps = {\r\n  classname: 'form-control',\r\n  divClassname: 'form-group',\r\n  onChange: null\r\n}\r\n\r\nexport default TextAreaGroup;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TextAreaGroup from '../../TextAreaGroup';\r\n\r\nconst Filter = ({filterText, onChange, clearText, valid}) => {\r\n  return (\r\n    <React.Fragment>\r\n      <h5>\r\n        Filter <button \r\n          className=\"btn btn-sm btn-light\"\r\n          onClick={clearText}\r\n        >\r\n          Clear\r\n        </button>\r\n      </h5>\r\n\r\n      <TextAreaGroup\r\n        name=\"filter\" \r\n        rows=\"3\"\r\n        onChange={onChange}\r\n        value={filterText}\r\n        valid={valid}\r\n      >\r\n      </TextAreaGroup>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nFilter.propTypes = {\r\n  filterText: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  clearText: PropTypes.func.isRequired,\r\n  valid: PropTypes.bool\r\n};\r\n\r\nFilter.defaultProps = {\r\n  filterText: ''\r\n};\r\n\r\nexport default Filter;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport TextAreaGroup from '../../TextAreaGroup';\r\n\r\n\r\nconst Sort = ({sortText, onChange, clearText, valid}) => {\r\n  return (\r\n    <React.Fragment>\r\n      <h5>\r\n        Sort <button \r\n          className=\"btn btn-sm btn-light\"\r\n          onClick={clearText}\r\n        >\r\n          Clear\r\n        </button>\r\n      </h5>\r\n\r\n      <TextAreaGroup\r\n        name=\"filter\" \r\n        rows=\"3\"\r\n        onChange={onChange}\r\n        value={sortText}\r\n        valid={valid}\r\n      >\r\n      </TextAreaGroup>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nSort.propTypes = {\r\n  sortText: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  clearText: PropTypes.func.isRequired,\r\n  valid: PropTypes.bool\r\n};\r\n\r\nSort.defaultProps = {\r\n  sortText: ''\r\n};\r\n\r\nexport default Sort;","import React from 'react';\r\nimport SelectInputGroup from \"../../SelectInputGroup\";\r\nimport { createOptions } from \"../../../createOptions\";\r\n\r\nconst QuerySelect = ({queries, onChange, value}) => {\r\n      return (\r\n          <SelectInputGroup\r\n            options={createOptions(queries, \"Filter-Sort Queries\")}\r\n            name=\"fsqueries\"\r\n            value={value || ''}\r\n            placeholder='Queries'\r\n            onChange={onChange}\r\n            size=\"6\"\r\n            style={{ fontSize: \".95rem\" }}\r\n          /> \r\n      );\r\n  }\r\n\r\nexport default QuerySelect;\r\n","import React from \"react\";\r\n\r\nconst Manual = () => {\r\n  return (\r\n    <div className=\"manual border p-2 mt-2\">\r\n      <p>\r\n        Skaičiais yra išreikšti šie laukai: <span className=\"fn\">km</span>,{\" \"}\r\n        <span className=\"fn\">pk</span>, <span className=\"fn\">m</span>,{\" \"}\r\n        <span className=\"fn\">metai</span> (turimi omeny bėgio valcavimo metai).\r\n        Visų kitų laukų reikšmės išreikštos tekstu, todėl filtravimo sąlygose jų\r\n        reikšmės turi būti rašomos kabutėse. Pvz.:{\" \"}\r\n        <span className=\"cd\">\r\n          meistrij != '11' &amp;&amp; km &lt;= 211 &amp;&amp; (kkateg = '2' ||\r\n          kkateg = '1')\r\n        </span>\r\n      </p>\r\n      <p>\r\n        Su skaičiais išreikštų laukų reikšmėmis galima atlikti aritmetikos\r\n        veiksmus. Vietos koordinačių pagrindiniame kelyje palyginimui galima\r\n        naudoti išraišką <span className=\"cd\">_m_</span> (metrai), kurios reikšmė yra{\" \"}\r\n        <span className=\"cd\">km*1000&nbsp;+&nbsp;(pk-1)*100&nbsp;+&nbsp;m</span>\r\n        , ir kuri faktiškai reiškia kelio koordinatę, išreikštą metrais.\r\n        Pavyzdžiui, norint išfiltruoti visus defektus, kurie yra nuo 214.03.65\r\n        iki 222.05.99, galima rašyti filtravimo sąlygą{\" \"}\r\n        <span className=\"cd\">_m_ &gt;= 214265 &amp;&amp; _m_ &lt;= 222499</span>\r\n        . Atkreipti dėmesį, kad piketo reikšmė mažinama vienetu. Kabutės negalimos.\r\n      </p>\r\n      <p>\r\n        Panaši į <span className=\"cd\">_m_</span> išraišką vietos koordinatei\r\n        pagrindiniame kelyje nurodyti yra <span className=\"cd\">_k_</span> (koordinatė). Tik čia formatas yra: <span className=\"cd\">km.pk.m</span>. Pavyzdžiui,\r\n        norint išfiltruoti visus defektus, kurie yra nuo 74.03.65 iki 112.10.09,\r\n        galima rašyti filtravimo sąlygą{\" \"}\r\n        <span className=\"cd\">_k_ &gt;= 74.3.65 &amp;&amp; _k_ &lt;= 112.10.9</span>. Čia piketas rašomas toks kaip defekto kode. Piketams ir metrams nuliai\r\n        priekyje nebūtini. Piketas turėtų būti skaičius nuo 1 iki 10, metrai - skaičius nuo 0 iki 99. Kabutės negalimos.\r\n      </p>\r\n      <p>\r\n        Laukai <span className=\"fn\">action</span>,{\" \"}\r\n        <span className=\"fn\">data</span>, <span className=\"fn\">oper</span>,{\" \"}\r\n        <span className=\"fn\">apar</span>, <span className=\"fn\">kodas</span>,{\" \"}\r\n        <span className=\"fn\">dh</span>, <span className=\"fn\">dl</span>,{\" \"}\r\n        <span className=\"fn\">pavoj</span> - yra history įrašuose, kurių vienas\r\n        defektas gali turėti kelis. <span className=\"fn\">action</span>{\" \"}\r\n        <span className=\"fv\">\"aptikta\"</span> ir{\" \"}\r\n        <span className=\"fv\">\"perrašyta\"</span> atlieka tik operatorius,{\" \"}\r\n        <span className=\"fv\">\"pakeista\"</span>,{\" \"}\r\n        <span className=\"fv\">\"tvarsliuota\"</span>,{\" \"}\r\n        <span className=\"fv\">\"pervirinta\"</span> alieka tik eksploatacija.\r\n      </p>\r\n      <p>Skirtingų history įrašų laukus galima pasiekti:</p>\r\n      <ul>\r\n        <li>\r\n          <em>paties pirmojo</em> history įrašo - prie lauko pavadinimo\r\n          pridedant galūnę <span className=\"cd\">_0</span>:{\" \"}\r\n          <span className=\"fn\">action_0</span>,{\" \"}\r\n          <span className=\"fn\">pavoj_0</span>, <span className=\"fn\">dh_0</span>{\" \"}\r\n          ir pan. Pvz.:\r\n          <br />\r\n          <span className=\"cd\">kodas_0 = '17.2' &amp;&amp; pavoj_0 = 'D3'</span>\r\n          <br />\r\n          (pats pirmasis history įrašas bus atliktas operatoriaus, nes defektus\r\n          randa operatoriai);\r\n        </li>\r\n        <li>\r\n          pirmojo <em>eksploatacijos</em> atlikto history įrašo - prie lauko\r\n          pavadinimo pridedant galūnę <span className=\"cd\">_ex0</span>:{\" \"}\r\n          <span className=\"fn\">action_ex0</span>,{\" \"}\r\n          <span className=\"fn\">date_ex0</span>. Pvz.:\r\n          <br />\r\n          <span className=\"cd\">\r\n            date_ex0 &lt; '2017-02-18' &amp;&amp; action_ex0 = 'tvarsliuota'\r\n          </span>\r\n          ;\r\n        </li>\r\n        <li>\r\n          <em>paties paskutiniojo</em> history įrašo - prie lauko pavadinimo\r\n          pridedant galūnę <span className=\"cd\">_9</span>:{\" \"}\r\n          <span className=\"fn\">action_9</span>,{\" \"}\r\n          <span className=\"fn\">pavoj_9</span>, <span className=\"fn\">dh_9</span>{\" \"}\r\n          ir pan. Pvz.:\r\n          <br />\r\n          <span className=\"cd\">kodas_9 = '17.2' &amp;&amp; pavoj_9 = 'D3'</span>\r\n          ;\r\n        </li>\r\n        <li>\r\n          paskutiniojo <em>operatoriaus</em> atlikto veiksmo įrašo - prie lauko\r\n          pavadinimo pridedant galūnę <span className=\"cd\">_op9</span>:{\" \"}\r\n          <span className=\"fn\">action_op9</span>,{\" \"}\r\n          <span className=\"fn\">pavoj_op9</span>,{\" \"}\r\n          <span className=\"fn\">dh_op9</span> ir pan. Pvz.:\r\n          <br />\r\n          <span className=\"cd\">\r\n            kodas_op9 = '17.2' &amp;&amp; pavoj_op9 = 'D3'\r\n          </span>\r\n          ;\r\n        </li>\r\n        <li>\r\n          paskutiniojo <em>eksploatacijos</em> atlikto veiksmo įrašo - prie\r\n          lauko pavadinimo pridedant galūnę <span className=\"cd\">_ex9</span>:{\" \"}\r\n          <span className=\"fn\">action_ex9</span>,{\" \"}\r\n          <span className=\"fn\">pavoj_ex9</span>,{\" \"}\r\n          <span className=\"fn\">dh_ex9</span>. Pvz.:\r\n          <br />\r\n          <span className=\"cd\">\r\n            date_ex9 &lt; '2017-02-18' &amp;&amp; action_ex9 = 'tvarsliuota'\r\n          </span>\r\n          ;\r\n        </li>\r\n        <li>\r\n          norint nurodyti, kad salygą turėtų tenkinti <em>kuris nors</em> iš\r\n          history įrašų <em>arba keli</em>, sąlygos reiškiniai įrašomi į\r\n          funkciją <span className=\"cd\">some</span>, o prie laukų pavadinimų\r\n          pridedama galūnė <span className=\"fn\">_x</span>.<br />\r\n          Pavyzdžiui, užrašas{\" \"}\r\n          <span className=\"cd\">\r\n            some(apar_x = '806' &amp;&amp; data &lt; '2017-01-01')\r\n          </span>{\" \"}\r\n          reiškia, kad ieškoma tokių defektų, kurių history turėtų bent vieną\r\n          įrašą, kuriame būtų nurodytas aparato kodas 806 ir to įrašo data būtų\r\n          ankstesnė nei 2017 metai.\r\n        </li>\r\n      </ul>\r\n      <p>\r\n        Sakykime, norime rasti visus šiuo metu sutvarsliuotus defektus kelyje.\r\n        Tada jų pats paskutinis <em>eksploatacijos atliktas</em> įrašas turėtų\r\n        turėti <span className=\"fn\">action</span> reikšmę{\" \"}\r\n        <span className=\"fv\">\"tvarsliuota\"</span>. Filtras būtų{\" \"}\r\n        <span className=\"cd\">action_ex9 = 'tvarsliuota'</span>.\r\n      </p>\r\n      <p>\r\n        Sakykime, norime rasti visus defektus, kurie kada nors buvo tvarsliuoti.\r\n        Tada jų history turėtų turėti <em>bent vieną</em> įrašą, kurio{\" \"}\r\n        <span className=\"fn\">action</span> reikšmė būtų{\" \"}\r\n        <span className=\"fv\">\"tvarsliuota\"</span>. Filtras būtų{\" \"}\r\n        <span className=\"cd\">some(action_x = 'tvarsliuota')</span>.\r\n      </p>\r\n      <p>\r\n        Sakykime, norime rasti visus defektus, kurie šiuo metu yra sutvarsliuoti\r\n        ir kuriems po sutvarsliavimo kažkas keitėsi. Tada jų pats paskutinis{\" \"}\r\n        <em>eksploatacijos atliktas</em> įrašas turėtų turėti{\" \"}\r\n        <span className=\"fn\">action</span> reikšmę{\" \"}\r\n        <span className=\"fv\">\"tvarsliuota\"</span>, o pats{\" \"}\r\n        <em>apskritai paskutinis</em> įrašas turėtų turėti{\" \"}\r\n        <span className=\"fn\">action</span> reikšmę{\" \"}\r\n        <span className=\"fv\">\"perrasyta\"</span>. Filtras būtų{\" \"}\r\n        <span className=\"cd\">\r\n          action_ex9 = 'tvarsliuota' &amp;&amp; action_9 = 'perrasyta'\r\n        </span>\r\n        .\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Manual;\r\n","// turi kkk.pp.mm kelio koordinatę paversti metrais\r\n// ir pakeisti tekste\r\nconst parseAndReplaceVk = inputText => {\r\n  const regexVk = /\\b(\\d{1,3})\\.(\\d{1,2})\\.(\\d{1,2})\\b/g;\r\n  let match, m;\r\n  let replaced = inputText;\r\n  while ((match = regexVk.exec(inputText)) !== null) {\r\n    m =\r\n      parseInt(match[1], 10) * 1000 +\r\n      (parseInt(match[2], 10) - 1) * 100 +\r\n      parseInt(match[3], 10);\r\n    replaced = replaced.replace(match[0], m);\r\n  }\r\n  return replaced;\r\n}\r\n\r\n\r\nexport default parseAndReplaceVk;\r\n","import parseAndReplaceVk from \"./parseAndReplaceVk\";\r\n/**\r\n * Returns filter function.\r\n * Takes a raw filter string and an object with field name replacement rules,\r\n * and returns a filter function which can be used for filtering object list.\r\n * @param {string} filterString - raw filter field string, may be trimmed.\r\n * @param {object} fnReplacements - object which keys are field names of\r\n * the object in the list to be filtered, and values are strings which should\r\n * be put instead of field names into the filterString.\r\n * @return {function} a function which takes an object as a parameter and\r\n * returns a boolean value indicating if the object passes the filter.\r\n */\r\nexport function getFilterFunc(filterString, fnReplacements) {\r\n  if (!filterString || !filterString.trim()) {\r\n    return x => true;\r\n  }\r\n\r\n  const filterFuncString =\r\n    \"return \" + replaceFieldNames(filterString, fnReplacements);\r\n  // console.log(\"filterFuncString\", filterFuncString);\r\n  // eslint-disable-next-line\r\n  return new Function(\"x\", filterFuncString);\r\n}\r\n\r\n/**\r\n * Replaces field names with corresponding object key names in filter string.\r\n * For the sake of simplicity filter string contains only bare field names of object,\r\n * which in order to access object field values should be replaced by real paths inside\r\n * the object ('id === 5' in filter text should be replaced by 'obj[\"id\"] === 5' in filter\r\n * function text; additionaly, object may be not flat).\r\n * @param {string} filterString - raw filter field string, may be trimmed.\r\n * @param {object} fnReplacements - object which keys are field names of\r\n * the object in the list to be filtered, and values are strings which should\r\n * be put instead of field names into the filterString.\r\n * @return {string} a filter string where field names are replaced by real paths inside the object\r\n */\r\nfunction replaceFieldNames(filterString, fnReplacements) {\r\n  // replaces a.b.c with a*1000 + (b-1)*100 + z\r\n  let filterText = parseAndReplaceVk(filterString);\r\n  // replaces consecutive spaces, tabs, etc with one space\r\n  // replaces all consecutive \"=\" with \"===\"\r\n  filterText = filterText\r\n    .replace(/=+/g, \"===\")\r\n    .replace(/!=+/g, \" !== \")\r\n    .replace(/>=+/g, \" >= \")\r\n    .replace(/<=+/g, \" <= \")\r\n    //.replace(/===/g, \" === \")\r\n    .replace(/<>/g, \" !== \")\r\n    .replace(/&+/g, \" && \")\r\n    .replace(/\\|+/g, \" || \")\r\n    .replace(/\\s+/g, \" \");\r\n\r\n  // replaces field names with paths:\r\n  // \"fieldName\" -> obj[\"inner_prop\"][\"fieldName\"]\r\n  Object.keys(fnReplacements).forEach(key => {\r\n    const regex = new RegExp(\"(\\\\b[\\\\W]*)(\" + key + \")([\\\\W]*\\\\b)\", \"g\");\r\n    filterText = filterText.replace(regex, \"$1\" + fnReplacements[key] + \"$3\");\r\n  });\r\n  // console.log(\"filterText\", filterText);\r\n  return filterText;\r\n}\r\n\r\n// SORTING\r\n\r\n/**\r\n * Returns sorter function.\r\n * Takes a raw sort string and a function which can replace field names with\r\n * object values, and returns a sorter function which can be used for sorting\r\n * object list.\r\n * @param {string} sortString - raw sort field string, may be trimmed.\r\n * @param {function} getSortingReplacement - function which takes a field key\r\n * as a string parameter and returns a function which supplied with object\r\n * returns a value of corresponding field of that object.\r\n * @return {function} a sorter function which takes two objects of the same\r\n * type as a parameters and returns an integer indicating which of those\r\n * objects goes first in the sort.\r\n */\r\nexport function getSortFunc(sortString, getSortingReplacement) {\r\n  if (!sortString || !sortString.trim()) {\r\n    return (a, b) => 0;\r\n  }\r\n\r\n  return fieldSorter(splitString(sortString), getSortingReplacement);\r\n}\r\n\r\n/**\r\n * Splits a string on commas, semicolons or spaces.\r\n * @param {string} rawString - raw sort field string, may be trimmed.\r\n * @return {array<string>} an array of field names as strings.\r\n */\r\nfunction splitString(rawString) {\r\n  // sukapoja rawString i atskirus lauku pavadinimus\r\n  const re = /[\\s,;]/;\r\n  return rawString.split(re).filter(x => x !== \"\");\r\n}\r\n\r\n/**\r\n * Returns sorter function.\r\n * Takes an array of object field names as strings and a function which can\r\n * replace field names with object values, and returns a sorter function\r\n * which can be used for sorting object list.\r\n * @param {array<string>} fields - array of object field names.\r\n * @param {function} fnToValue - function which takes a field key\r\n * as a string parameter and returns a function which supplied with object\r\n * returns a value of corresponding field of that object.\r\n * @return {function} a sorter function which takes two objects of the same\r\n * type as a parameters and returns an integer indicating which of those\r\n * objects goes first in the sort.\r\n */\r\nfunction fieldSorter(fields, fnToValue) {\r\n  return (a, b) => {\r\n    return fields\r\n      .map(field => {\r\n        let fname = field;\r\n        var dir = 1;\r\n        if (field[0] === \"-\") {\r\n          dir = -1;\r\n          fname = field.substring(1);\r\n        }\r\n        if (fnToValue(fname, a) > fnToValue(fname, b)) return dir;\r\n        if (fnToValue(fname, a) < fnToValue(fname, b)) return -dir;\r\n        return 0;\r\n      })\r\n      .reduce((p, n) => {\r\n        return p ? p : n;\r\n      }, 0);\r\n  };\r\n}\r\n","import {\r\n  getFilterFunc,\r\n  getSortFunc\r\n} from \"./functions/fsRoutines\";\r\nimport itemSpecific from \"../../../itemSpecific\";\r\n\r\n\r\n\r\n\r\nconst funcCreator = (filterString, sortString, itype) => {\r\n  const replacements = itemSpecific[itype].replacements;\r\n  return {\r\n    filter: getFilterFunc(filterString, replacements.filterReplacements),\r\n    sort: getSortFunc(sortString, replacements.getSortingReplacement)\r\n  };\r\n}\r\n\r\nexport default funcCreator;","const journalSorter = (a, b) => {\r\n    if (a.data > b.data) return 1;\r\n    if (a.data < b.data) return -1;\r\n    if (a.id > b.id) return 1;\r\n    if (a.id < b.id) return -1;\r\n    return 0;\r\n  }\r\n\r\nexport default journalSorter;","import axios from \"axios\";\r\nimport {\r\n  ITEMS_FETCH_BEGIN,\r\n  ITEMS_FETCH_SUCCESS,\r\n  ITEMS_FETCH_FAILURE,\r\n  ITEM_INSERT_BEGIN,\r\n  ITEM_INSERT_SUCCESS,\r\n  ITEM_INSERT_FAILURE,\r\n  ITEM_INSERT_FAILURE_NO_RETRY,\r\n  ITEM_UPDATE_BEGIN,\r\n  ITEM_UPDATE_SUCCESS,\r\n  ITEM_UPDATE_FAILURE,\r\n  ITEM_UPDATE_FAILURE_NO_RETRY,\r\n  ITEM_DELETE_BEGIN,\r\n  ITEM_DELETE_SUCCESS,\r\n  ITEM_DELETE_FAILURE,\r\n  ITEMS_INVALIDATE,\r\n  ITEMS_FILTERSORT_APPLIED,\r\n  ITEMS_FILTERSORT_APPLY_ERROR,\r\n  ITEM_TOGGLE_FS,\r\n  ITEM_TOGGLE_FS_MANUAL,\r\n  ITEMS_PAGE_CHANGE,\r\n  ITEMS_PER_PAGE_CHANGE,\r\n  ITEM_LIST_HIDE_ALERT,\r\n  ITEM_LIST_SET_ALERT,\r\n  ITEM_EDIT_HIDE_ALERT,\r\n  CURRENT_ITEM_SET_TYPE\r\n} from \"./types\";\r\nimport funcCreator from \"./functions/filterSort/itemFilterSort\";\r\nimport itemSpecific from \"../itemSpecific\";\r\nimport journalSorter from \"../utils/journalSorter\";\r\n\r\nconst errors2msgs = errors => {\r\n  return errors.map(e => `id${e.id}-${e.key}: ${e.msg}`);\r\n}\r\n\r\nexport const setCurrentItemType = itype => dispatch =>\r\n  dispatch({\r\n    type: CURRENT_ITEM_SET_TYPE,\r\n    payload: { itype }\r\n  });\r\n\r\nexport const setItemListAlert = (itype, msg, type) => ({\r\n    type: ITEM_LIST_SET_ALERT,\r\n    payload: { itype, msg, type }\r\n  });\r\n\r\nexport const hideItemListAlert = itype => dispatch =>\r\n  dispatch({\r\n    type: ITEM_LIST_HIDE_ALERT,\r\n    payload: { itype }\r\n  });\r\n\r\nexport const hideItemEditAlert = itype => dispatch =>\r\n  dispatch({\r\n    type: ITEM_EDIT_HIDE_ALERT,\r\n    payload: { itype }\r\n  });\r\n\r\nexport const pageChange = (pageIndex, itemCount, itype) => dispatch => \r\n  dispatch({\r\n    type: ITEMS_PAGE_CHANGE,\r\n    payload: { itemCount, pageIndex, itype }\r\n  });\r\n\r\nexport const itemsPerPageChange = (\r\n  itemsPerPage,\r\n  itemCount,\r\n  itype\r\n) => dispatch =>\r\n  dispatch({\r\n    type: ITEMS_PER_PAGE_CHANGE,\r\n    payload: { itemCount, itemsPerPage, itype }\r\n  });\r\n\r\nexport const toggleFS = itype => dispatch =>\r\n  dispatch({\r\n    type: ITEM_TOGGLE_FS,\r\n    payload: { itype }\r\n  });\r\n\r\nexport const toggleFSManual = itype => dispatch =>\r\n  dispatch({\r\n    type: ITEM_TOGGLE_FS_MANUAL,\r\n    payload: { itype }\r\n  });\r\n\r\n// apply filter and sort and return result action\r\nconst applyFilterSort = (items, filterText, sortText, itype) => {\r\n  try {\r\n    const funcs = funcCreator(filterText, sortText, itype);\r\n    const fsedItems = items.filter(funcs.filter).sort(funcs.sort);\r\n    return {\r\n      type: ITEMS_FILTERSORT_APPLIED,\r\n      payload: { items: fsedItems, filterText, sortText, itype }\r\n    };\r\n  } catch (err) {\r\n    console.error(err);\r\n    return {\r\n      type: ITEMS_FILTERSORT_APPLY_ERROR,\r\n      payload: { errormsg: err.toString(), itype }\r\n    };\r\n  }\r\n};\r\n\r\n// just filtersort items\r\nexport const filterSortItems = (filterText, sortText, itype) => (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  dispatch(\r\n    applyFilterSort(getState().allItems[itype], filterText, sortText, itype)\r\n  );\r\n};\r\n\r\n// fetch items\r\nconst fetchItemsBegin = itype => ({\r\n  type: ITEMS_FETCH_BEGIN,\r\n  payload: { itype }\r\n});\r\n\r\nconst fetchItemsSuccess = (items, itype) => ({\r\n  type: ITEMS_FETCH_SUCCESS,\r\n  payload: { items, itype }\r\n});\r\n\r\nconst fetchItemsFailure = (errormsg, itype) => ({\r\n  type: ITEMS_FETCH_FAILURE,\r\n  payload: { errormsg, itype }\r\n});\r\n\r\nexport const fetchItems = itype => (dispatch, getState) => {\r\n  dispatch(fetchItemsBegin(itype));\r\n  let paramsObj = { params: { itype } };\r\n  if (getState().itemsStatus[itype].all) paramsObj.params.all = 1;\r\n  axios\r\n    .get(\"/api/items\", paramsObj)\r\n    .then(res => {\r\n      dispatch(fetchItemsSuccess(res.data, itype));\r\n      refilter(dispatch, getState, itype);\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n      dispatch(fetchItemsFailure(err.toString(), itype))\r\n    });\r\n};\r\n\r\nexport const invalidateItems = (all, itype) => dispatch => {\r\n  dispatch({\r\n    type: ITEMS_INVALIDATE,\r\n    payload: { all, itype }\r\n  });\r\n};\r\n\r\nconst refilter = (dispatch, getState, itype) => {\r\n  const fetchedItems = getState().allItems[itype];\r\n  const filterText = getState().itemsFS[itype].filterText;\r\n  const sortText = getState().itemsFS[itype].sortText;\r\n  dispatch(applyFilterSort(fetchedItems, filterText, sortText, itype));\r\n};\r\n\r\n// insert item\r\nconst itemInsertBegin = itype => ({\r\n  type: ITEM_INSERT_BEGIN,\r\n  payload: { itype }\r\n});\r\n\r\nconst itemInsertSuccess = (item, itype) => ({\r\n  type: ITEM_INSERT_SUCCESS,\r\n  payload: { item, itype }\r\n});\r\n\r\nconst itemInsertFailure = (errormsg, itype) => ({\r\n  type: ITEM_INSERT_FAILURE,\r\n  payload: { errormsg, itype }\r\n});\r\n\r\nconst itemInsertFailureNoRetry = (errormsg, itype) => ({\r\n  type: ITEM_INSERT_FAILURE_NO_RETRY,\r\n  payload: { errormsg, itype }\r\n});\r\n\r\nexport const insertItem = (main, journal, history, itype) => (dispatch, getState) => {\r\n  dispatch(itemInsertBegin(itype));\r\n  axios\r\n    .put(\"/api/items/insert\", { main, journal, itype })\r\n    .then(res => {\r\n      // suformuojamas pranešimas apie rezultatą\r\n      // console.log(\"inserting item response\", res.data);\r\n      if (res.data.ok) {\r\n        dispatch(setItemListAlert(itype, res.data.msg, \"success\"));\r\n      } else {\r\n        dispatch(setItemListAlert(itype, res.data.msg, \"warning\"));\r\n      }\r\n\r\n      // pagal rezultatą updateinamas local cache\r\n      if (\r\n        getState().itemsStatus[itype].all ||\r\n        !itemSpecific[itype].panaikinta(res.data.item.main)\r\n      ) {\r\n        // jeigu rodyti visus (ir panaikintus, ir ne) ARBA\r\n        // jeigu buvo sukurtas nepanaikintas -\r\n        // updateinamas local cache ir refilter\r\n        const lastJournalRecord = res.data.item.journal.sort(journalSorter)[res.data.item.journal.length - 1];\r\n        const item = {...lastJournalRecord, ...res.data.item.main};\r\n        dispatch(itemInsertSuccess(item, itype));\r\n        refilter(dispatch, getState, itype);\r\n      } else {\r\n        // jeigu insertintas toks, kurio neturėtų būti local cache,\r\n        // tuomet su local cache nedaroma nieko - nei insertinama, nei refilter\r\n        dispatch(itemInsertSuccess(null, itype));\r\n      }\r\n\r\n      // return to list\r\n      history.push(itemSpecific[itype].listPath);\r\n    })\r\n    .catch(err => {\r\n      if (err.response && err.response.data) {\r\n        if (err.response.data.reason === \"bad criteria\") {\r\n          // \"bad criteria\" - kartoti nėra prasmės, grįžtama į sąrašą\r\n          dispatch(itemInsertFailureNoRetry(err.response.data.msg, itype));\r\n          history.push(itemSpecific[itype].listPath);\r\n        } else if (err.response.data.reason === \"bad draft\") {\r\n          // \"bad draft\" - reikia paredaguoti draft, pasiliekama item edit'e\r\n          // gali perduoti vieną string - msg, o gali perduoti objektų array - errors\r\n          let responseMsg = err.response.data.msg;\r\n          if (err.response.data.errors) {\r\n            responseMsg = errors2msgs(err.response.data.errors);\r\n          }\r\n          dispatch(itemInsertFailure(responseMsg, itype));\r\n        } else {\r\n          console.error(err);\r\n          // kt. - galbūt serverio klaida ar kažkas, apsimoka pamėginti dar kartą\r\n          dispatch(itemInsertFailure(err.response.data.msg, itype));\r\n        }\r\n      } else {\r\n        console.error(err);\r\n        // galbūt serverio klaida ar kažkas, apsimoka pamėginti dar kartą\r\n        dispatch(itemInsertFailure(err.toString(), itype));\r\n      }\r\n    });\r\n};\r\n\r\n// edit item\r\nconst itemUpdateBegin = itype => ({\r\n  type: ITEM_UPDATE_BEGIN,\r\n  payload: { itype }\r\n});\r\n\r\nconst itemUpdateSuccess = (item, itype) => ({\r\n  type: ITEM_UPDATE_SUCCESS,\r\n  payload: { item, itype }\r\n});\r\n\r\nconst itemUpdateFailure = (errormsg, itype) => ({\r\n  type: ITEM_UPDATE_FAILURE,\r\n  payload: { errormsg, itype }\r\n});\r\n\r\nconst itemUpdateFailureNoRetry = (errormsg, itype) => ({\r\n  type: ITEM_UPDATE_FAILURE_NO_RETRY,\r\n  payload: { errormsg, itype }\r\n});\r\n\r\nexport const updateItem = (main, journal, history, itype) => (dispatch, getState) => {\r\n  dispatch(itemUpdateBegin(itype));\r\n  axios\r\n    .post(\"/api/items/update\", { main, journal, itype })\r\n    .then(res => {\r\n      // suformuojamas pranešimas apie rezultatą\r\n      if (res.data.ok) {\r\n        dispatch(setItemListAlert(itype, res.data.msg, \"success\"));\r\n      } else {\r\n        dispatch(setItemListAlert(itype, res.data.msg, \"warning\"));\r\n      }      \r\n\r\n      // pagal rezultatą updateinamas local cache\r\n      if (getState().itemsStatus[itype].all || !itemSpecific[itype].panaikinta(res.data.item.main)) {\r\n        // jeigu rodyti visus (ir panaikintus, ir nepanaikintus)\r\n        // ARBA \r\n        // jeigu sukurtas nepanaikintas\r\n        // - updateinamas local\r\n        const lastJournalRecord = res.data.item.journal.sort(journalSorter)[res.data.item.journal.length - 1];        \r\n        const item = { ...lastJournalRecord, ...res.data.item.main};\r\n        dispatch(itemUpdateSuccess(item, itype));\r\n      } else {\r\n        // jeigu rodyti tik nepanaikintus\r\n        // o modifikuotas į panaikintą - \r\n        // jis ištrinamas iš local\r\n        dispatch(itemDeleteSuccess(res.data.item.main.id, itype));\r\n      }\r\n\r\n      // refilter local cache\r\n      refilter(dispatch, getState, itype);\r\n\r\n      // return to list\r\n      history.push(itemSpecific[itype].listPath);\r\n    })\r\n    .catch(err => {\r\n      if (err.response && err.response.data) {\r\n        if (err.response.data.reason === \"bad criteria\") {\r\n          // \"bad criteria\" - kartoti nėra prasmės, grįžtama į sąrašą\r\n          dispatch(itemUpdateFailureNoRetry(err.response.data.msg, itype));\r\n          history.push(itemSpecific[itype].listPath);\r\n        } else if (err.response.data.reason === \"bad draft\") {\r\n          // \"bad draft\" - reikia paredaguoti draft, pasiliekama item edit'e\r\n          // gali perduoti vieną string - msg, o gali perduoti objektų array - errors\r\n          let responseMsg = err.response.data.msg;\r\n          if (err.response.data.errors) {\r\n            responseMsg = errors2msgs(err.response.data.errors);\r\n          }\r\n          dispatch(itemUpdateFailure(responseMsg, itype));\r\n        } else {\r\n          console.error(err);\r\n          // kt. - galbūt serverio klaida ar kažkas, apsimoka pamėginti dar kartą\r\n          dispatch(itemUpdateFailure(err.response.data.msg, itype));\r\n        }\r\n      } else {\r\n        console.error(err);\r\n        // galbūt serverio klaida ar kažkas, apsimoka pamėginti dar kartą\r\n        dispatch(itemUpdateFailure(err.toString(), itype));\r\n      }\r\n    });\r\n};\r\n\r\n// delete item\r\n\r\nconst itemDeleteBegin = itype => ({\r\n  type: ITEM_DELETE_BEGIN,\r\n  payload: { itype }\r\n});\r\n\r\nconst itemDeleteSuccess = (id, itype) => ({\r\n  type: ITEM_DELETE_SUCCESS,\r\n  payload: { id, itype }\r\n});\r\n\r\nconst itemDeleteFailure = (errormsg, itype, target) => ({\r\n  type: ITEM_DELETE_FAILURE,\r\n  payload: { errormsg, itype, target }\r\n});\r\n\r\nexport const deleteItem = (itemId, itemV, itype) => (dispatch, getState) => {\r\n  dispatch(itemDeleteBegin(itype));\r\n  axios\r\n    .delete(\"/api/items/delete\", { params: { id: itemId, v: itemV, itype } })\r\n    .then(res => {\r\n      // console.log(\"res.data\", res.data);\r\n      dispatch(setItemListAlert(itype, res.data.msg, \"success\"));\r\n      // console.log(\"going to dispatch itemDeleteSucces\");\r\n      dispatch(itemDeleteSuccess(res.data.id, itype));\r\n      // console.log(\"going to refilter\");\r\n      refilter(dispatch, getState, itype);\r\n    })\r\n    .catch(err => {\r\n      if (err.response && err.response.data) {\r\n        dispatch(itemDeleteFailure(err.response.data.msg, itype));\r\n      } else {\r\n        console.error(err);\r\n        dispatch(itemDeleteFailure(err.toString(), itype));\r\n      }\r\n    });\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Filter from \"./components/Filter\";\r\nimport Sort from \"./components/Sort\";\r\nimport QuerySelect from \"./components/QuerySelect\";\r\nimport Manual from \"./components/Manual\";\r\nimport Alert from \"../Alert\";\r\nimport {toggleFSManual, filterSortItems,} from \"../../../actions/itemsActions\";\r\n\r\nclass FilterSort extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentQueryId: null,\r\n      filterText: this.props.filterSort.filterText,\r\n      sortText: this.props.filterSort.sortText\r\n    };\r\n    this.clearFilter = this.clearFilter.bind(this);\r\n    this.clearSort = this.clearSort.bind(this);\r\n    this.changeFilter = this.changeFilter.bind(this);\r\n    this.changeSort = this.changeSort.bind(this);\r\n    this.applyFS = this.applyFS.bind(this);\r\n    this.useSelectedQuery = this.useSelectedQuery.bind(this);\r\n    this.onSelectedQueryChange = this.onSelectedQueryChange.bind(this);\r\n    this.editQueries = this.editQueries.bind(this);\r\n    this.toggleManual = this.toggleManual.bind(this); \r\n  }\r\n\r\n  clearFilter() {\r\n    this.setState({ filterText: \"\", currentQueryId: \"\" });\r\n  }\r\n\r\n  clearSort() {\r\n    this.setState({ sortText: \"\", currentQueryId: \"\" });\r\n  }\r\n\r\n  changeFilter(e) {\r\n    this.setState({ filterText: e.target.value, currentQueryId: \"\" });\r\n  }\r\n\r\n  changeSort(e) {\r\n    this.setState({ sortText: e.target.value, currentQueryId: \"\" });\r\n  }\r\n  \r\n\r\n  applyFS(filterText, sortText) {\r\n    this.props.filterSortItems(this.state.filterText, this.state.sortText, this.props.itype);\r\n  }\r\n\r\n  onSelectedQueryChange(e) {\r\n    const id = parseInt(e.target.value);\r\n    this.setState({ currentQueryId: id });\r\n  }\r\n\r\n  toggleManual() {\r\n    this.props.toggleFSManual(this.props.itype);\r\n  }\r\n\r\n  useSelectedQuery() {\r\n    if (!this.state.currentQueryId) return;\r\n\r\n    const query = this.props.queries.find(\r\n      q => q.id === this.state.currentQueryId\r\n    );\r\n\r\n    if (!query) {\r\n      // this must not happen\r\n      //console.log(\r\n      //  \"didn't found a selected query by its id\",\r\n      //  this.state.currentQueryId\r\n      //);\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      filterText: query.filter,\r\n      sortText: query.sort\r\n    });\r\n  }\r\n\r\n  editQueries() {\r\n    this.props.history.push(`/queries/edit/${this.props.itype}`);\r\n  }\r\n\r\n  render() {\r\n    const isValidFS = null;\r\n    // let isValidFS;\r\n    // if (this.props.filterSort.isCurrentValidated) {\r\n    //   isValidFS = this.props.filterSort.error !== true\r\n    // } else {\r\n    //   isValidFS = null;\r\n    // }\r\n\r\n    return (\r\n      <div className=\"row fs-view mb-2\">\r\n        <div className=\"col-7\" id=\"fscontent\">\r\n          <div className=\"row\">\r\n            <div className=\"col-7\">\r\n              <Filter\r\n                filterText={this.state.filterText}\r\n                onChange={this.changeFilter}\r\n                clearText={this.clearFilter}\r\n                valid={isValidFS}\r\n              />\r\n            </div>\r\n            <div className=\"col-5\">\r\n              <Sort\r\n                sortText={this.state.sortText}\r\n                onChange={this.changeSort}\r\n                clearText={this.clearSort}\r\n                valid={isValidFS}\r\n              />\r\n            </div>\r\n            {\r\n              this.props.filterSort.errormsg &&\r\n              <div className=\"col-12\">\r\n                <Alert message={this.props.filterSort.errormsg} />\r\n              </div>\r\n            }\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-sm btn-secondary col-1\"\r\n                onClick={this.toggleManual}\r\n              >\r\n                Manual\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-sm btn-info col-11\"\r\n                onClick={this.applyFS}\r\n              >\r\n                Apply Filter-Sort\r\n              </button>\r\n            </div>\r\n            {this.props.showFSManual ? (\r\n              <div className=\"col-12\">\r\n                <Manual />\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-3\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <h5>\r\n                Filter-Sort Queries{\" \"}\r\n                <button\r\n                  className=\"btn btn-sm btn-warning\"\r\n                  onClick={this.editQueries}\r\n                >\r\n                  Edit\r\n                </button>\r\n                <button\r\n                  className=\"btn btn-sm btn-info\"\r\n                  onClick={this.useSelectedQuery}\r\n                >\r\n                  Use\r\n                </button>\r\n              </h5>\r\n              <QuerySelect\r\n                queries={this.props.queries}\r\n                onChange={this.onSelectedQueryChange}\r\n                value={this.state.currentQueryId}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  queries: state.queries[ownProps.itype].data,\r\n  filterSort: state.itemsFS[ownProps.itype],\r\n  showFSManual: state.itemsShow[ownProps.itype].fsManualOn\r\n});\r\n\r\nFilterSort.defaultProps = {\r\n  queries: []\r\n};\r\n\r\nexport default connect(mapStateToProps, {toggleFSManual, filterSortItems})(FilterSort);\r\n","import axios from \"axios\";\r\n//import * as extractMsg from \"./functions/extractMsg\";\r\nimport {\r\n  QUERIES_FETCH_BEGIN,\r\n  QUERIES_FETCH_SUCCESS,\r\n  QUERIES_FETCH_FAILURE,\r\n  QUERY_INSERT_BEGIN,\r\n  QUERY_INSERT_SUCCESS,\r\n  QUERY_INSERT_FAILURE,\r\n  QUERY_UPDATE_BEGIN,\r\n  QUERY_UPDATE_SUCCESS,\r\n  QUERY_UPDATE_FAILURE,\r\n  QUERY_DELETE_BEGIN,\r\n  QUERY_DELETE_SUCCESS,\r\n  QUERY_DELETE_FAILURE,\r\n  QUERIES_HIDE_SUCCESS,\r\n  QUERIES_HIDE_ERROR\r\n} from \"./types\";\r\n\r\nconst err2msg = err => {\r\n  if (err.response) {\r\n      // Request made and server responded\r\n      if (err.response.data.errors) {\r\n        return err.response.data.errors.map(e => `${e.key} - ${e.msg}`);\r\n      }\r\n      if (err.response.data.msg) {\r\n        return err.response.data.msg;\r\n      };\r\n      return \"Kažkokia klaida\";\r\n  }  \r\n  // Something happened in setting up the request that triggered an Error\r\n  return 'Error: ' + err.message;\r\n}\r\n\r\n\r\nexport const hideSuccess = itype => dispatch =>\r\n  dispatch({\r\n    type: QUERIES_HIDE_SUCCESS,\r\n    payload: { itype }\r\n  });\r\n\r\nexport const hideError = itype => dispatch =>\r\n  dispatch({\r\n    type: QUERIES_HIDE_ERROR,\r\n    payload: { itype }\r\n  });\r\n\r\nconst fetchQueriesBegin = itype => ({\r\n  type: QUERIES_FETCH_BEGIN,\r\n  payload: { itype }\r\n});\r\n\r\nconst fetchQueriesSuccess = (queries, itype) => ({\r\n  type: QUERIES_FETCH_SUCCESS,\r\n  payload: { queries, itype }\r\n});\r\n\r\nconst fetchQueriesFailure = (error, itype) => ({\r\n  type: QUERIES_FETCH_FAILURE,\r\n  payload: { error, itype }\r\n});\r\n\r\n// Get fsqueries\r\nexport const fetchQueries = itype => (dispatch, getState) => {\r\n  dispatch(fetchQueriesBegin(itype));\r\n  axios\r\n    .get(`/api/fsqueries/fetch`, { params: { itype } })\r\n    .then(res => {\r\n      // console.log(\"state before\", getState().queries);\r\n      dispatch(fetchQueriesSuccess(res.data, itype));\r\n      // console.log(\"state after\", getState().queries);\r\n    })\r\n    .catch(err => {\r\n      dispatch(fetchQueriesFailure(err2msg(err), itype));\r\n    });\r\n};\r\n\r\nconst updateQueryBegin = itype => ({\r\n  type: QUERY_UPDATE_BEGIN,\r\n  payload: { itype }\r\n});\r\n\r\nconst updateQuerySuccess = (query, itype) => ({\r\n  type: QUERY_UPDATE_SUCCESS,\r\n  payload: { query, itype }\r\n});\r\n\r\nconst updateQueryFailure = (error, itype) => ({\r\n  type: QUERY_UPDATE_FAILURE,\r\n  payload: { error, itype }\r\n});\r\n\r\n// update fsquery\r\nexport const updateQuery = draft => dispatch => {\r\n  const itype = draft.itype;\r\n  dispatch(updateQueryBegin(itype));\r\n  axios\r\n    .post(`/api/fsqueries/update`, draft)\r\n    .then(res => dispatch(updateQuerySuccess(res.data, itype)))\r\n    .catch(err => {\r\n      dispatch(updateQueryFailure(err2msg(err), itype));\r\n    });\r\n};\r\n\r\nconst insertQueryBegin = itype => ({\r\n  type: QUERY_INSERT_BEGIN,\r\n  payload: { itype }\r\n});\r\n\r\nconst insertQuerySuccess = (query, itype) => ({\r\n  type: QUERY_INSERT_SUCCESS,\r\n  payload: { query, itype }\r\n});\r\n\r\nconst insertQueryFailure = (error, itype) => ({\r\n  type: QUERY_INSERT_FAILURE,\r\n  payload: { error, itype }\r\n});\r\n\r\n// insert fsquery\r\nexport const insertQuery = draft => dispatch => {\r\n  const itype = draft.itype;\r\n  dispatch(insertQueryBegin(itype));\r\n  axios\r\n    .put(`/api/fsqueries/insert`, draft)\r\n    .then(res => {\r\n      // console.log(\"insertQuery action res.data\", res.data);\r\n      dispatch(insertQuerySuccess(res.data, itype));\r\n    })\r\n    .catch(err => {\r\n      dispatch(insertQueryFailure(err2msg(err), itype));\r\n    });\r\n};\r\n\r\nconst deleteQueryBegin = itype => ({\r\n  type: QUERY_DELETE_BEGIN,\r\n  payload: { itype }\r\n});\r\n\r\nconst deleteQuerySuccess = (id, itype) => {\r\n  //console.log(\"success\", id, itype);\r\n  return {\r\n    type: QUERY_DELETE_SUCCESS,\r\n    payload: { id, itype }\r\n  };\r\n};\r\n\r\nconst deleteQueryFailure = (error, itype) => {\r\n  // console.log(\"failure\", errormsg, itype);\r\n  return {\r\n    type: QUERY_DELETE_FAILURE,\r\n    payload: { error, itype }\r\n  };\r\n};\r\n\r\n// delete fsquery\r\nexport const deleteQuery = (id, itype) => dispatch => {\r\n  dispatch(deleteQueryBegin(itype));\r\n  axios\r\n    .delete(`/api/fsqueries/delete`, { params: { id } })\r\n    .then(res => {\r\n      //console.log(\"res.data\", res.data);      \r\n      dispatch(deleteQuerySuccess(res.data.id, itype))\r\n    })\r\n    .catch(err => {\r\n      dispatch(deleteQueryFailure(err2msg(err), itype));\r\n    });\r\n};\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport ItemList from \"./ItemList\";\r\nimport IsLoading from \"../common/IsLoading\";\r\nimport Alert from \"../common/Alert\";\r\nimport ItemsCount from \"../common/ItemsCount\";\r\nimport Pager from \"../common/pager/Pager\";\r\nimport Confirmation from \"../common/Confirmation\";\r\nimport ExportItems from \"../common/exportItems/ExportItems\";\r\nimport FilterSort from \"../common/filterSort/FilterSort\";\r\nimport {\r\n  deleteItem,\r\n  fetchItems,\r\n  invalidateItems,\r\n  pageChange,\r\n  itemsPerPageChange,\r\n  toggleFS,\r\n  hideItemListAlert\r\n} from \"../../actions/itemsActions\";\r\nimport { fetchQueries } from \"../../actions/queriesActions\";\r\n//import * from \"../../iTypes\";\r\n\r\nclass Items extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showConfirmationDialog: false,\r\n      idToDelete: \"\",\r\n      vToDelete: \"\"\r\n    };\r\n    this.toggleFilterSort = this.toggleFilterSort.bind(this);\r\n    this.editItem = this.editItem.bind(this);\r\n    this.createItem = this.createItem.bind(this);\r\n    this.pageChange = this.pageChange.bind(this);\r\n    this.itemsPerPageChange = this.itemsPerPageChange.bind(this);\r\n    this.showDeleteConfirmation = this.showDeleteConfirmation.bind(this);\r\n    this.confirmDelete = this.confirmDelete.bind(this);\r\n    this.unconfirmDelete = this.unconfirmDelete.bind(this);\r\n    this.refreshItems = this.refreshItems.bind(this);\r\n    this.refreshItemsAll = this.refreshItemsAll.bind(this);\r\n    this.hideAlert = this.hideAlert.bind(this);\r\n    this.getItems = this.getItems.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!this.props.fsedItemsAreValid) {\r\n      this.props.fetchItems(this.props.itype);\r\n    }\r\n\r\n    if (!this.props.queriesAreValid) {\r\n      this.props.fetchQueries(this.props.itype);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // console.log(\"items.componentDidUpdate props\",this.props);\r\n    if (prevProps.fsedItemsAreValid && !this.props.fsedItemsAreValid) {\r\n      this.props.fetchItems(this.props.itype);\r\n    }\r\n    if (prevProps.queriesAreValid && !this.props.queriesAreValid) {\r\n      this.props.fetchQueries(this.props.itype);\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.hideItemListAlert(this.props.itype);\r\n  }\r\n\r\n  pageChange(pageIndex) {\r\n    this.props.pageChange(\r\n      pageIndex,\r\n      this.props.fsedItems.length,\r\n      this.props.itype\r\n    );\r\n  }\r\n\r\n  itemsPerPageChange(e) {\r\n    const selectedValue = parseInt(e.target.value, 10);\r\n    this.props.itemsPerPageChange(\r\n      selectedValue,\r\n      this.props.fsedItems.length,\r\n      this.props.itype\r\n    );\r\n  }\r\n\r\n  toggleFilterSort() {\r\n    this.props.toggleFS(this.props.itype);\r\n  }\r\n\r\n  createItem() {\r\n    this.props.history.push(`/${this.props.itype}s/new`);\r\n  }\r\n\r\n  editItem(e) {\r\n    const id = e.target.dataset.id;\r\n    this.props.history.push(`${this.props.itype}s/edit/${id}`);\r\n  }\r\n\r\n  showDeleteConfirmation(e) {\r\n    this.setState({\r\n      showConfirmationDialog: true,\r\n      idToDelete: e.target.dataset.id,\r\n      vToDelete: e.target.dataset.v\r\n    });\r\n  }\r\n\r\n  confirmDelete() {\r\n    this.props.deleteItem(\r\n      this.state.idToDelete,\r\n      this.state.vToDelete,\r\n      this.props.itype\r\n    );\r\n    this.setState({\r\n      showConfirmationDialog: false,\r\n      idToDelete: \"\",\r\n      vToDelete: \"\"\r\n    });\r\n  }\r\n\r\n  unconfirmDelete() {\r\n    this.setState({\r\n      showConfirmationDialog: false,\r\n      idToDelete: \"\",\r\n      vToDelete: \"\"\r\n    });\r\n  }\r\n\r\n  refreshItems() {\r\n    this.props.invalidateItems(false, this.props.itype);\r\n  }\r\n\r\n  refreshItemsAll() {\r\n    this.props.invalidateItems(true, this.props.itype);\r\n  }\r\n\r\n  hideAlert() {\r\n    this.props.hideItemListAlert(this.props.itype);\r\n  }\r\n\r\n  getItems() {\r\n    return this.props.fsedItems;\r\n  }\r\n\r\n  render() {\r\n    if (this.props.fatalError) {\r\n      return (\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <Alert\r\n              message={this.props.fatalError.msg}\r\n              type={this.props.fatalError.type}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (\r\n      !this.props.queriesAreValid ||\r\n      this.props.queriesIsLoading ||\r\n      !this.props.fsedItemsAreValid ||\r\n      this.props.itemsIsLoading\r\n    ) {\r\n      return <IsLoading />;\r\n    }\r\n    const { firstItemIndex, itemsPerPage, buttons } = this.props.pager;\r\n\r\n    const pagerComponent =\r\n      buttons.length > 0 ? (\r\n        <Pager\r\n          firstItemIndex={firstItemIndex}\r\n          buttons={buttons}\r\n          itemsPerPage={itemsPerPage}\r\n          onPageChanged={this.pageChange}\r\n          onItemsPerPageChanged={this.itemsPerPageChange}\r\n          itemCount={this.props.fsedItems.length}\r\n        />\r\n      ) : null;\r\n\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <Confirmation\r\n          title=\"Delete Confirmation\"\r\n          body=\"Please confirm that you really want to delete this item from database.\"\r\n          confirmHandler={this.confirmDelete}\r\n          rejectHandler={this.unconfirmDelete}\r\n          show={this.state.showConfirmationDialog}\r\n        />\r\n        <div className=\"row\">\r\n          <div className=\"col-12 commands button-group mb-2\">\r\n            <button\r\n              className=\"btn btn-sm btn-secondary\"\r\n              onClick={this.toggleFilterSort}\r\n            >\r\n              Filter-Sort\r\n            </button>\r\n            <button\r\n              className=\"btn btn-sm btn-primary\"\r\n              onClick={this.createItem}\r\n            >\r\n              New Item\r\n            </button>\r\n            <button\r\n              className={\"btn btn-sm btn-warning\" + (this.props.allItems ? \"\" : \" active\")} \r\n              onClick={this.refreshItems}\r\n            >\r\n              Refresh Active\r\n            </button>\r\n            <button\r\n              className={\"btn btn-sm btn-warning\" + (this.props.allItems ? \" active\" : \"\")}\r\n              onClick={this.refreshItemsAll}\r\n            >\r\n              Refresh All\r\n            </button>\r\n          </div>\r\n          <div className=\"col-12\">\r\n            {this.props.showFS ? (\r\n              <FilterSort\r\n                itype={this.props.itype}\r\n                history={this.props.history}\r\n              />\r\n            ) : null}\r\n            <div className=\"row\">\r\n              {this.props.infoAlert ? (\r\n                <div className=\"col-12\">\r\n                  <Alert\r\n                    message={this.props.infoAlert.msg}\r\n                    type={this.props.infoAlert.type}\r\n                    hide={this.hideAlert}\r\n                  />\r\n                </div>\r\n              ) : null}\r\n              <div className=\"col-12\">\r\n                <ItemList\r\n                  itype={this.props.itype}\r\n                  items={this.props.fsedItems.slice(\r\n                    firstItemIndex,\r\n                    firstItemIndex + itemsPerPage\r\n                  )}\r\n                  editItem={this.editItem}\r\n                  deleteItem={this.showDeleteConfirmation}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-3\">\r\n                <ItemsCount\r\n                  inView={this.props.fsedItems.length}\r\n                  total={this.props.allItemCount}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"col-7\">{pagerComponent}</div>\r\n\r\n              <div className=\"col-xl-2\">\r\n                <ExportItems getItems={this.getItems} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  queriesIsLoading: state.queries[ownProps.itype].isLoading,\r\n  queriesAreValid: state.queries[ownProps.itype].valid,\r\n\r\n  allItemCount: state.allItems[ownProps.itype].length,\r\n  fsedItems: state.fsedItems[ownProps.itype].data,\r\n  fsedItemsAreValid: state.fsedItems[ownProps.itype].valid,\r\n  itemsIsLoading: state.itemsStatus[ownProps.itype].isBusy,\r\n  allItems: state.itemsStatus[ownProps.itype].all,\r\n  pager: state.itemsPager[ownProps.itype],\r\n  showFS: state.itemsShow[ownProps.itype].fsOn,\r\n  fatalError: state.itemAlerting[ownProps.itype].itemList.fatal,\r\n  infoAlert: state.itemAlerting[ownProps.itype].itemList.info,\r\n});\r\n\r\nItems.defaultProps = {\r\n  fsedItems: [],\r\n  allItemCount: 0\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    deleteItem,\r\n    fetchItems,\r\n    fetchQueries,\r\n    invalidateItems,\r\n    pageChange,\r\n    itemsPerPageChange,\r\n    toggleFS,\r\n    hideItemListAlert\r\n  }\r\n)(Items);\r\n","import React from 'react';\r\nimport itemSpecific from \"../../itemSpecific\";\r\nimport journalSorter from \"../../utils/journalSorter\";\r\n\r\nconst JournalList = ({jItems, setForEdit, deleteJItem, itype, currentJid, things}) => {\r\n\r\n  if (jItems.length < 1) {\r\n    return (\r\n      <div className=\"container journal-list text-center\">\r\n        <div className=\"alert alert-info\">\r\n          No journal as yet\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const JournalRow = itemSpecific[itype].journalRow;\r\n  const JournalHeadRow = itemSpecific[itype].journalListHead;\r\n  \r\n  const jItemRows = jItems.sort(journalSorter).map((jItem, ind) => \r\n    <JournalRow\r\n      jItem={jItem} \r\n      setForEdit={setForEdit}\r\n      deleteJItem={deleteJItem}\r\n      key={jItem.jid}\r\n      current={jItem.jid === currentJid}\r\n      things={things}\r\n    />\r\n  );\r\n\r\n  return ( \r\n    <div className=\"container journal-list text-center\">     \r\n      <table \r\n        className=\"table table-sm table-striped table-bordered jitems\" style={{fontSize: \".85rem\"}}\r\n      >\r\n        <thead>\r\n          {JournalHeadRow()}\r\n        </thead>\r\n        <tbody>\r\n          {jItemRows}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default JournalList;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Alert from \"../common/Alert\";\r\nimport { createOptions } from \"../createOptions\";\r\nimport IsLoading from \"../common/IsLoading\";\r\nimport JournalList from \"./JournalList\";\r\nimport {\r\n  updateItem,\r\n  insertItem,\r\n  hideItemEditAlert\r\n} from \"../../actions/itemsActions\";\r\nimport { fetchJournal, removeJournal } from \"../../actions/journalActions\";\r\nimport itemSpecific from \"../../itemSpecific\";\r\n\r\nclass EditItem extends Component {\r\n  #options;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      main: {}, // duodamas MainDataForm'ai\r\n      journal: [], // duodamas JournalList'ui\r\n      jItem: {}, // duodamas JournalEdit'ui\r\n      jToDelete: [], // indices to delete\r\n      jAlert: null // duodamas JournalEdit'ui\r\n    };\r\n\r\n    this.onSubmitItem = this.onSubmitItem.bind(this);\r\n    this.submitJItem = this.submitJItem.bind(this);\r\n    this.deleteJItem = this.deleteJItem.bind(this);\r\n    this.setJItemForEdit = this.setJItemForEdit.bind(this);\r\n    this.cancelJItem = this.cancelJItem.bind(this);\r\n    this.onChangeMain = this.onChangeMain.bind(this);\r\n    this.onChangeJItem = this.onChangeJItem.bind(this);\r\n\r\n    this.#options = {\r\n      meistrija: createOptions(\r\n        this.props.things.meistrija.sort((m1, m2) => m1.ind - m2.ind),\r\n        \"-- nenurodyta --\",\r\n        x => x.abbr + \", \" + x.name\r\n      ),\r\n      vpvd: createOptions(\r\n        this.props.things.vpvd,\r\n        \"-- nenurodyta --\",        \r\n        x => x.pvdname,\r\n        x => x.pvdid,\r\n        x => x.pvdid\r\n      ),\r\n      kkateg: createOptions(\r\n        this.props.things.kkateg,\r\n        \"-- nenurodyta --\",\r\n        x => x.id\r\n      ),\r\n      btipas: createOptions(\r\n        this.props.things.btipas,\r\n        \"-- nenurodyta --\",\r\n        x => x.id\r\n      ),\r\n      bgamykl: createOptions(\r\n        this.props.things.bgamykl,\r\n        \"-- nenurodyta --\",\r\n        x => x.id\r\n      ),\r\n      siule: createOptions(\r\n        this.props.things.siule,\r\n        \"-- nenurodyta --\",\r\n        x => x.id\r\n      ),\r\n      pavoj: createOptions(\r\n        this.props.things.pavoj.sort((p1, p2) => p1.ind - p2.ind),\r\n        \"-- nenurodyta --\",\r\n        x => x.id\r\n      ),\r\n      apar: createOptions(\r\n        this.props.things.defskop.sort((d1, d2) => d1.id - d2.id),\r\n        \"-- nenurodyta --\",\r\n        x => x.id\r\n      ),\r\n      oper: createOptions(\r\n        this.props.things.operat.sort((o1, o2) => o1.name - o2.name),\r\n        \"-- nenurodyta --\",\r\n        x => x.id + \", \" + x.name\r\n      ),\r\n      virino: createOptions(\r\n        this.props.things.virino.sort((v1, v2) => v1.name - v2.name),\r\n        \"-- nenurodyta --\",\r\n        x => x.name\r\n      ),\r\n      vbudas: createOptions(\r\n        this.props.things.vbudas.sort((b1, b2) => b1.id - b2.id),\r\n        \"-- nenurodyta --\",\r\n        x => x.id + \", \" + x.name\r\n      ),\r\n      itemStatus: createOptions(\r\n        this.props.things.itemstatus.sort((b1, b2) => b1.id - b2.id),\r\n        null,\r\n        x => x.id + \", \" + x.name\r\n      )\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.match.params.id) {\r\n      const id = parseInt(this.props.match.params.id);\r\n      const item = this.props.items.find(item => item.id === id);\r\n      if (item) {\r\n        //console.log(\"current main version\", item.v);\r\n        this.setState({ main: item });\r\n      }\r\n      this.props.fetchJournal(id, this.props.itype);\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // journal has been fetched\r\n    if (prevProps.journal.length < 1 && this.props.journal.length > 0) {\r\n      this.setState({ journal: this.props.journal });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.hideItemEditAlert(this.props.itype);\r\n    this.props.removeJournal();\r\n  }\r\n\r\n  submitJItem() {\r\n    // Duodamas JournalEdit formai\r\n\r\n    if (!this.state.jItem) return;\r\n    const jItem = this.state.jItem;\r\n\r\n    let journal;\r\n    if (jItem.jid) {\r\n      if (!jItem.status) {\r\n        jItem.status = \"edit\";\r\n      }\r\n      // replacing\r\n      const ind = this.state.journal.findIndex(\r\n        item => item.jid.toString() === jItem.jid.toString()\r\n      );\r\n      journal = [\r\n        ...this.state.journal.slice(0, ind),\r\n        { ...jItem },\r\n        ...this.state.journal.slice(ind + 1)\r\n      ];\r\n    } else {\r\n      // no jid, so there must be no status as well -\r\n      // it's being created\r\n      jItem.jid = Date.now() - 10000000;\r\n      jItem.status = \"add\";\r\n\r\n      // pushing\r\n      journal = [...this.state.journal, { ...jItem }];\r\n    }\r\n\r\n    //journal.sort((a, b) => a.hdata - b.hdata);\r\n    this.setState({\r\n      journal,\r\n      jItem: {},\r\n      jAlert: { msg: \"įrašas sėkmingai pakeistas/pridėtas\", type: \"success\" }\r\n    });\r\n  }\r\n\r\n  cancelJItem() {\r\n    // Duodamas JournalEdit formai\r\n    this.setState({ jItem: {} });\r\n  }\r\n\r\n  deleteJItem(e) {\r\n    // Duodamas JournalListui\r\n\r\n    // get id from e-data,\r\n    const jid = e.target.dataset.jid;\r\n\r\n    // find jitem index in state.journal;\r\n    const index = this.state.journal.findIndex(\r\n      j => j.jid.toString() === jid.toString()\r\n    );\r\n    if (index < 0) return;\r\n\r\n    let journal = [...this.state.journal];\r\n    let jToDelete = [...this.state.jToDelete];\r\n\r\n    if (\r\n      !this.state.journal[index].status ||\r\n      this.state.journal[index].status === \"edit\"\r\n    ) {\r\n      jToDelete.push(jid);\r\n    }\r\n\r\n    journal.splice(index, 1);\r\n\r\n    this.setState({\r\n      journal,\r\n      jToDelete,\r\n      jItem: {},\r\n      jAlert: { msg: \"įrašas ištrintas\", type: \"success\" }\r\n    });\r\n  }\r\n\r\n  setJItemForEdit(e) {\r\n    // Duodamas JournalListui\r\n    // state.journal[index] kopijuojamas į state.jItem\r\n    const jid = e.target.dataset.jid;\r\n    console.log(\"e.target.dataset.jid\", jid);\r\n    console.log(\"this.state.journal\", this.state.journal);\r\n    const jItem = this.state.journal.find(\r\n      j => j.jid.toString() === jid.toString()\r\n    );\r\n    if (!jItem) return;\r\n    this.setState({ jItem: { ...jItem }, jAlert: null });\r\n  }\r\n\r\n  onChangeMain(e) {\r\n    // paduodamas MainDataForm\r\n    const main = {\r\n      ...this.state.main,\r\n      [e.target.name]: e.target.value\r\n    };\r\n    this.setState({ main });\r\n  }\r\n\r\n  onChangeJItem(e) {\r\n    // paduodamas JournalEditForm\r\n    const jItem = {\r\n      ...this.state.jItem,\r\n      [e.target.name]: e.target.value\r\n    };\r\n    this.setState({ jItem });\r\n  }\r\n\r\n  onSubmitItem(e) {\r\n    e.preventDefault();\r\n    if (this.state.main == null) return;\r\n    const main = this.state.main;\r\n\r\n    // journal items are already validated.\r\n    // validate main data here\r\n    // if bad - set stateError and return\r\n\r\n    if (main.id) {\r\n      let journal = {};\r\n      journal.insert = this.state.journal\r\n        .filter(jItem => jItem.status === \"add\")\r\n        .map(jItem => {\r\n          let j = { ...jItem };\r\n          delete j.status;\r\n          return j;\r\n        });\r\n      journal.update = this.state.journal\r\n        .filter(jItem => jItem.status === \"edit\")\r\n        .map(jItem => {\r\n          let j = { ...jItem };\r\n          delete j.status;\r\n          return j;\r\n        });\r\n      journal.delete = [...this.state.jToDelete];\r\n      this.props.updateItem(\r\n        main,\r\n        journal,\r\n        this.props.history,\r\n        this.props.itype\r\n      );\r\n    } else {\r\n      // jeigu nėra id, reiškia, kuriamas naujas\r\n      // todėl visa jo journal - state.journal\r\n      this.props.insertItem(\r\n        main,\r\n        { insert: [...this.state.journal] },\r\n        this.props.history,\r\n        this.props.itype\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.props.fatalError) {\r\n      return (\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">\r\n            <Alert\r\n              message={this.props.fatalError.msg}\r\n              type={this.props.fatalError.type}\r\n            />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    // select form type\r\n    const mainDataForm = itemSpecific[this.props.itype].mainDataForm;\r\n    //console.log(this.props.itype);\r\n    //console.log(itemSpecific);\r\n\r\n    const journalEditForm = itemSpecific[this.props.itype].journalEditForm;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          {this.props.infoAlert ? (\r\n            <div className=\"col-12\">\r\n              <Alert\r\n                message={this.props.infoAlert.msg}\r\n                type={this.props.infoAlert.type}\r\n                hide={this.props.hideItemEditAlert}\r\n              />\r\n            </div>\r\n          ) : null}\r\n          <IsLoading when={this.props.isBusyItem || this.props.isBusyJournal} />\r\n        </div>\r\n        <div className=\"row\">\r\n          {mainDataForm({\r\n            item: this.state.main,\r\n            onChange: this.onChangeMain,\r\n            options: this.#options\r\n          })}\r\n        </div>\r\n        <div className=\"row\">\r\n          {this.props.journalFetchErrorMsg ? (\r\n            <Alert message={this.props.journalFetchErrorMsg} />\r\n          ) : (\r\n            <JournalList\r\n              jItems={this.state.journal}\r\n              setForEdit={this.setJItemForEdit}\r\n              deleteJItem={this.deleteJItem}\r\n              itype={this.props.itype}\r\n              currentJid={this.state.jItem && this.state.jItem.jid}\r\n              things={this.props.things}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"row\">\r\n          {journalEditForm({\r\n            jItem: this.state.jItem,\r\n            onChange: this.onChangeJItem,\r\n            options: this.#options,\r\n            submitJItem: this.submitJItem,\r\n            cancelJItem: this.cancelJItem,\r\n            alert: this.state.jAlert\r\n          })}\r\n        </div>\r\n        <div className=\"row\">\r\n          <button className=\"btn btn-info\" onClick={this.onSubmitItem}>\r\n            Submit Item\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  isBusyItem: state.itemsStatus[ownProps.itype].isBusy,\r\n  fatalError: state.itemAlerting[ownProps.itype].itemEdit.fatal,\r\n  infoAlert: state.itemAlerting[ownProps.itype].itemEdit.info,\r\n  journalFetchErrorMsg: state.journal.errormsg,\r\n  journal: state.journal.items,\r\n  things: state.things.data,\r\n  items: state.fsedItems[ownProps.itype].data,\r\n  isBusyJournal: state.journal.isBusy\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    updateItem,\r\n    insertItem,\r\n    hideItemEditAlert,\r\n    fetchJournal,\r\n    removeJournal\r\n  }\r\n)(EditItem);\r\n","import axios from \"axios\";\r\n//import * as extractMsg from \"./functions/extractMsg\";\r\nimport {\r\n  JOURNAL_FETCH_BEGIN,\r\n  JOURNAL_FETCH_SUCCESS,\r\n  JOURNAL_FETCH_FAILURE,\r\n  JOURNAL_REMOVE,\r\n  JOURNAL_SET\r\n} from \"./types\";\r\n\r\n// fetch journal\r\nconst fetchJournalBegin = () => ({\r\n  type: JOURNAL_FETCH_BEGIN\r\n});\r\n\r\nconst fetchJournalSuccess = journal => ({\r\n  type: JOURNAL_FETCH_SUCCESS,\r\n  payload: { journal }\r\n});\r\n\r\nconst fetchJournalFailure = errormsg => ({\r\n  type: JOURNAL_FETCH_FAILURE,\r\n  payload: { errormsg }\r\n});\r\n\r\nexport const fetchJournal = (mainid, itype) => (dispatch, getState) => {\r\n  dispatch(fetchJournalBegin());\r\n  axios\r\n    .get(\"/api/journal\", { params: {mainid, itype} })\r\n    .then(res => {\r\n      dispatch(fetchJournalSuccess(res.data));\r\n    })\r\n    .catch(err => dispatch(fetchJournalFailure(err.message)));\r\n};\r\n\r\nexport const removeJournal = () => dispatch => {\r\n  dispatch({type: JOURNAL_REMOVE});\r\n};\r\n\r\nexport const setJournal = journal => dispatch => {\r\n  dispatch({type: JOURNAL_SET, payload: {journal}});\r\n}","import React, { Component } from \"react\";\r\n//import { connect } from \"react-redux\";\r\nimport TextFieldGroup from \"../../common/TextFieldGroup\";\r\nimport TextAreaGroup from \"../../common/TextAreaGroup\";\r\n\r\nclass EditQueryForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // console.log(\"EQF constructor this.props.query\", this.props.query);\r\n    this.state = this.props.query ? {\r\n      id: this.props.query.id || \"\",\r\n      filter: this.props.query.filter || \"\",\r\n      sort: this.props.query.sort || \"\",\r\n      name: this.props.query.name || \"\"\r\n    } : {\r\n      id: \"\",\r\n      filter: \"\",\r\n      sort: \"\",\r\n      name: \"\"\r\n    };\r\n\r\n    this.onChange = this.onChange.bind(this);\r\n    this.submit = this.submit.bind(this);\r\n  }\r\n\r\n  submit(e) {\r\n    e.preventDefault();\r\n    const modifiedQuery = {\r\n      id: this.state.id,\r\n      filter: this.state.filter,\r\n      sort: this.state.sort,\r\n      name: this.state.name\r\n    };\r\n    \r\n    this.props.submitQuery(modifiedQuery);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.query) {\r\n      // console.log(\"EQF cDMount this.props.query\", this.props.query);\r\n        this.setState({\r\n          id: this.props.query.id || \"\",\r\n          filter: this.props.query.filter || \"\",\r\n          sort: this.props.query.sort || \"\",\r\n          name: this.props.query.name || \"\"\r\n        });\r\n      } else {\r\n        // console.log(\"EQF cDMount no query\", this.props.query);\r\n        this.setState({\r\n          id: \"\",\r\n          filter: \"\",\r\n          sort: \"\",\r\n          name: \"\"\r\n        });\r\n      }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.differentQueries(this.props.query, prevProps.query)) {\r\n    // console.log(\"EQF cDUpdate differentQueries this.props.query\", this.props.query);\r\n      if (this.props.query) {\r\n        this.setState({\r\n          id: this.props.query.id || \"\",\r\n          filter: this.props.query.filter || \"\",\r\n          sort: this.props.query.sort || \"\",\r\n          name: this.props.query.name || \"\"\r\n        });\r\n      } else {\r\n        this.setState({\r\n          id: \"\",\r\n          filter: \"\",\r\n          sort: \"\",\r\n          name: \"\"\r\n        });\r\n      }      \r\n      // console.log(\"EQF cDUpdate this.state\", this.state);\r\n    }\r\n  }\r\n\r\n  differentQueries(q1, q2) {\r\n    return (q1 && !q2) ||\r\n      (!q1 && q2) ||\r\n      (q1 && q2 && (\r\n        (q1.id !== q2.id) ||\r\n        (q1.filter !== q2.filter) ||\r\n        (q1.sort !== q2.sort) ||\r\n        (q1.name !== q2.name)\r\n      ));\r\n  }\r\n\r\n  onChange(e) {\r\n    this.setState({\r\n      [e.target.name]: e.target.value\r\n    });\r\n  }\r\n\r\n  render() {\r\n    // console.log(\"EQF render this.state\", this.state);\r\n    return (\r\n      <div className=\"row pt-3 mb-2 border border-primary\">\r\n        <div className=\"col-12\">\r\n          <form className=\"\">\r\n            <div className=\"form-group row\">\r\n              <TextAreaGroup\r\n                divClassname=\"form-group col-7\"\r\n                id=\"filter\"\r\n                name=\"filter\"\r\n                rows=\"4\"\r\n                readonly={true}\r\n                placeholder=\"Filter\"\r\n                value={this.state.filter}\r\n              />\r\n              <TextAreaGroup\r\n                divClassname=\"form-group col-5\"\r\n                id=\"sort\"\r\n                name=\"sort\"\r\n                rows=\"4\"\r\n                readonly={true}\r\n                placeholder=\"Sort\"\r\n                value={this.state.sort}\r\n              />\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <TextFieldGroup\r\n                divClassname=\"form-group col-7\"\r\n                name=\"name\"\r\n                id=\"name\"\r\n                placeholder=\"Name\"\r\n                value={this.state.name}\r\n                onChange={this.onChange}\r\n              />\r\n              <div className=\"form-group col-2\">\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"btn btn-primary\"\r\n                  onClick={this.submit}\r\n                >\r\n                  Submit Query Name\r\n                </button>\r\n              </div>\r\n              <TextFieldGroup\r\n                divClassname=\"form-group col-3\"\r\n                name=\"id\"\r\n                id=\"id\"\r\n                placeholder=\"ID\"\r\n                readonly={true}\r\n                value={this.state.id}\r\n              />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditQueryForm;\r\n","import React from 'react';\r\n\r\nconst QueryRow = ({query, remove, setForEditing}) => {\r\n  return (\r\n    <tr>\r\n      <td className=\"id\">{query.id}</td>\r\n      <td className=\"filter\">{query.filter}</td>\r\n      <td className=\"sort\">{query.sort}</td>\r\n      <td className=\"name\">{query.name}</td>\r\n      <td nowrap=\"nowrap\">\r\n        <div className=\"button-group\">\r\n          <button className=\"btn btn-xs btn-warning\" data-id={query.id} onClick={setForEditing}>\r\n            <i data-id={query.id} className=\"fas fa-edit\"></i>\r\n          </button>\r\n          <button className=\"btn btn-xs btn-danger\" data-id={query.id} onClick={remove}>\r\n            <i data-id={query.id} className=\"fas fa-trash-alt\"></i>\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default QueryRow;","import React from 'react';\r\nimport QueryRow from './QueryRow';\r\n\r\nconst QueryList = ({queries, remove, setItemForEditing}) => {\r\n  // console.log(\"queries\", queries);\r\n \r\n  const queryRows = queries.map(q => \r\n      <QueryRow \r\n        key={q.id} \r\n        query={q} \r\n        remove={remove}\r\n        setForEditing={setItemForEditing}\r\n      />\r\n  );\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-12\">\r\n        <table className=\"table table-sm table-striped table-bordered query-list-table\" style={{fontSize: \".95rem\"}}>\r\n          <thead>\r\n            <tr>\r\n              <th className=\"id\">id</th>\r\n              <th className=\"filter\">filter</th>\r\n              <th className=\"sort\">sort</th>\r\n              <th className=\"name\">name</th>\r\n              <th className=\"controls\">controls</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {queryRows}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default QueryList;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport EditQueryForm from \"./components/EditQueryForm\";\r\nimport QueryList from \"./components/QueryList\";\r\nimport Alert from \"../common/Alert\";\r\nimport IsLoading from \"../common/IsLoading\";\r\nimport {\r\n  updateQuery,\r\n  insertQuery,\r\n  deleteQuery,\r\n  hideSuccess,\r\n  hideError\r\n} from \"../../actions/queriesActions\";\r\n//import getId from \"../../utils/getId\";\r\n\r\nclass EditQueries extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentQuery: null,\r\n      errormsg: \"\"\r\n    };\r\n\r\n    //this.submitQueries = this.submitQueries.bind(this);\r\n    this.submitDraft = this.submitDraft.bind(this);\r\n    this.setForEditing = this.setForEditing.bind(this);\r\n    this.submitDelete = this.submitDelete.bind(this);\r\n    this.hideSuccess = this.hideSuccess.bind(this);\r\n    this.hideError = this.hideError.bind(this);\r\n    this.hideErrorInState = this.hideErrorInState.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // no valid query\r\n    // console.log(\"EditQueries cDM this.props.filterSort\", this.props.filterSort);\r\n\r\n    if (\r\n      this.props.filterSort.filterText === \"\" &&\r\n      this.props.filterSort.sortText === \"\"\r\n    ) {\r\n      // console.log(\"no current query\");\r\n      this.setState({ currentQuery: null });\r\n      return;\r\n    }\r\n\r\n    // some valid query\r\n    // if found - it's a query from queries list\r\n    // if not found - it's a new raw query without id yet\r\n    const query = this.props.queries.find(\r\n      q =>\r\n        q.filter === this.props.filterSort.filterText &&\r\n        q.sort === this.props.filterSort.sortText\r\n    ) || {\r\n      filter: this.props.filterSort.filterText,\r\n      sort: this.props.filterSort.sortText\r\n    };\r\n\r\n    // console.log(\"setting this query to state currentQuery\", query);\r\n    this.setState({ currentQuery: query });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    // console.log(\"EditQueries state\", this.state)\r\n    // console.log(\"cDU this.state\", this.state);\r\n    // console.log(\"cDU this.props.queries\", this.props.queries);\r\n    // must check if currentQuery is in queries. if not, then currentQuery - null\r\n    if (\r\n      this.state.currentQuery &&\r\n      this.state.currentQuery.id &&\r\n      !this.props.queries.some(q => q.id === this.state.currentQuery.id)\r\n    ) {\r\n      // console.log(\"setting state.currentQuery to null\");\r\n      this.setState({ currentQuery: null });\r\n    }\r\n  }\r\n\r\n  hideError() {\r\n    this.props.hideError(this.props.match.params.itype);\r\n  }\r\n  hideErrorInState() {\r\n    this.setState({ errormsg: \"\" });\r\n  }\r\n  hideSuccess() {\r\n    this.props.hideSuccess(this.props.match.params.itype);\r\n  }\r\n  submitDelete(e) {\r\n    const id = e.target.dataset.id;\r\n    const itype = this.props.match.params.itype;\r\n    this.props.deleteQuery(id, itype);\r\n  }\r\n\r\n  submitDraft(modifiedQuery) {    \r\n    const draft = modifiedQuery;\r\n\r\n    if (!draft.name || draft.name.trim() === \"\") {\r\n      this.setState({ errormsg: \"Name must be not empty\" });\r\n      return;\r\n    }\r\n\r\n    const sameNameQuery = this.props.queries.find(\r\n      q => q.name.trim() === draft.name.trim()\r\n    );\r\n    if (sameNameQuery) {\r\n      this.setState({\r\n        errormsg: `Same name as ${sameNameQuery.id}; name must be unique`\r\n      });\r\n      return;\r\n    }\r\n\r\n    const itype = this.props.match.params.itype;\r\n    draft.itype = itype;\r\n\r\n    if (draft.id) {\r\n      this.props.updateQuery(draft);\r\n    } else {\r\n      this.props.insertQuery(draft);\r\n    }\r\n  }\r\n\r\n  setForEditing(e) {\r\n    this.setState({\r\n      currentQuery:\r\n        this.props.queries.find(q => q.id === parseInt(e.target.dataset.id)) ||\r\n        null,\r\n      errormsg: null\r\n    });\r\n  }\r\n\r\n  render() {\r\n    // console.log(\"EditQueries render - this.props.queries\", this.props.queries);\r\n    // čia reikia susitvarkyti su error\r\n    const storeError = this.props.storeError; // gali būti string arba Array of strings\r\n    const stateError = this.state.errormsg;\r\n    const storeSuccess = this.props.successmsg;\r\n\r\n    return (\r\n      <div className=\"container thing-edit\">\r\n        {storeError && (\r\n          <Alert\r\n            message={storeError}\r\n            type=\"error\"\r\n            hide={this.hideError}\r\n          />\r\n        )}\r\n        {stateError && (\r\n          <Alert\r\n            message={stateError}\r\n            type=\"error\"\r\n            hide={this.hideErrorInState}\r\n          />\r\n        )}\r\n        {storeSuccess && (\r\n          <Alert\r\n            message={storeSuccess}\r\n            type=\"success\"\r\n            hide={this.hideSuccess}\r\n          />\r\n        )}\r\n\r\n        <IsLoading when={this.props.isLoading} />\r\n\r\n        <QueryList\r\n          queries={this.props.queries}\r\n          remove={this.submitDelete}\r\n          setItemForEditing={this.setForEditing}\r\n        />\r\n\r\n        <EditQueryForm\r\n          query={this.state.currentQuery}\r\n          submitQuery={this.submitDraft}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  const itype = ownProps.match.params.itype;\r\n  const stateQueries = state.queries[itype];\r\n  return {\r\n    queries: stateQueries.data,\r\n    isLoading: stateQueries.isLoading,\r\n    storeError: stateQueries.error,\r\n    successmsg: stateQueries.successmsg,\r\n    filterSort: state.itemsFS[itype]\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    updateQuery,\r\n    deleteQuery,\r\n    insertQuery,\r\n    hideSuccess,\r\n    hideError\r\n  }\r\n)(EditQueries);\r\n","export default class UDDataTransformer {\r\n  things;\r\n  data;\r\n\r\n  constructor(thingsAndData) {\r\n    // data comes from reportActions\r\n    this.things = thingsAndData.things;\r\n    this.data = thingsAndData.data;\r\n  }\r\n\r\n  byIndSorter(a, b, descending) {\r\n    return a.ind - b.ind;\r\n  }\r\n\r\n  byIndSorterDesc(a, b) {\r\n    return b.ind - a.ind;\r\n  }\r\n}","import UDDataTransformer from \"./UDDataTransformer\";\r\n\r\nexport class UDDataDefectsTransformer extends UDDataTransformer {\r\n  byVietaSorter(a, b) {\r\n    if (a.linija > b.linija) return 1;\r\n    if (a.linija < b.linija) return -1;\r\n    if (a.kelias > b.kelias) return 1;\r\n    if (a.kelias < b.kelias) return -1;\r\n    if (a.km > b.km) return 1;\r\n    if (a.km < b.km) return -1;\r\n    if (a.pk > b.pk) return 1;\r\n    if (a.pk < b.pk) return -1;\r\n    if (a.m > b.m) return 1;\r\n    if (a.m < b.m) return -1;\r\n    if (a.siule > b.siule) return 1;\r\n    if (a.siule < b.siule) return -1;\r\n    if (a.iesmas > b.iesmas) return 1;\r\n    if (a.iesmas < b.iesmas) return -1;\r\n    if (a.nr > b.nr) return 1;\r\n    if (a.nr < b.nr) return -1;\r\n    return 0;\r\n  }\r\n\r\n  distributeDefects(defs) {\r\n    // gauna filtruotus defektus iš serverio.\r\n    // paskirsto defektus po meistrijas ir tinkamai išrikiuoja\r\n    return this.things.meistrija\r\n      .map(meistrija => {\r\n        return {\r\n          ...meistrija,\r\n          defects: defs\r\n            .filter(d => d.meistrija === meistrija.id)\r\n            .sort(this.byVietaSorter)\r\n        };\r\n      })\r\n      .sort(this.byIndSorter);\r\n  }\r\n\r\n  createReport() {\r\n    // console.log(\"this.data\", this.data);\r\n    return this.distributeDefects(this.data);\r\n  }\r\n}\r\n","import UDDataTransformer from \"./UDDataTransformer\";\r\n\r\nexport class UDDataNumberTransformer extends UDDataTransformer {\r\n\r\n  createDefectCountGroups(things) {\r\n    const kkateg = [\r\n        { label: \"1\", ind: 1, ids: [\"1\"] },\r\n        { label: \"2\", ind: 2, ids: [\"2\"] },\r\n        { label: \"3, 4\", ind: 3, ids: [\"3\", \"4\"] },\r\n        { label: \"kt.\", ind: 4, ids: [\"5\", \"6\", \"7\"] }\r\n      ];\r\n\r\n    const meistrija = things.meistrija\r\n        .map(m => ({ label: m.abbr, ind: m.ind, ids: [m.id] }))\r\n        .sort(this.byIndSorter);\r\n\r\n    const pavoj = things.pavoj\r\n        .filter(p => p.id !== \"L\")\r\n        .map(p => ({ label: p.id, ind: p.ind, ids: [p.id] }))\r\n        .sort(this.byIndSorterDesc);\r\n        \r\n    return {meistrija, pavoj, kkateg}  \r\n  }\r\n\r\n  createReport() {\r\n    const groups = this.createDefectCountGroups(this.things);\r\n\r\n    // skirta išfiltruoti defectCount'us, kurie atitinka konkrečias\r\n    // meistrijas, kategorijas ir pavojingumus\r\n    const fitFunction = (meistrijaIds, kkategIds, pavojIds) => {\r\n      return defectCount => meistrijaIds.includes(defectCount._id.meistrija) &&\r\n        kkategIds.includes(defectCount._id.kkateg) && \r\n        pavojIds.includes(defectCount._id.pavoj);\r\n    }\r\n\r\n    // susumuoja count iš defectCountų masyvo\r\n    const sumReducer = (acc, curr) => acc + curr.count;\r\n\r\n    // pagal meistrijų, kkateg'ų ir pavojų ids išfiltruoja tinkančius defectCountus ir \r\n    // susumuoja jų count property values\r\n    const sumCounts = (defectCounts, meistrijaIds, kkategIds, pavojIds) =>\r\n      defectCounts.filter(fitFunction(meistrijaIds, kkategIds, pavojIds)).reduce(sumReducer, 0);\r\n\r\n    // veiksmas\r\n    return groups.meistrija.map(m => ({...m, kkateg: groups.kkateg.map(kk => ({...kk, pavoj: groups.pavoj.map(p => ({...p, count: sumCounts(this.data, m.ids, kk.ids, p.ids)}))}))}));\r\n  }\r\n}","export class K33DataTransformer {\r\n  vbudai;\r\n  pavojai;\r\n  operatoriai;\r\n  defskopai;\r\n  defects;\r\n  weldings;\r\n\r\n  constructor(thingsAndData) {\r\n    this.vbudai = thingsAndData.things.vbudas;\r\n    this.pavojai = thingsAndData.things.pavoj;\r\n    this.operatoriai = thingsAndData.things.operat;\r\n    this.defskopai = thingsAndData.things.defskop;\r\n    this.defectCounts = thingsAndData.data.defectCounts;\r\n    this.weldingCounts = thingsAndData.data.weldingCounts;\r\n  }\r\n\r\n  byIndSorter = (a, b) => a.ind - b.ind;\r\n\r\n  createVbudasGroups = () => {\r\n    return this.vbudai.sort(this.byIndSorter).map(vb => ({id: vb.id}));\r\n  };\r\n\r\n  createPavojGroups = () => {\r\n    return this.pavojai.sort(this.byIndSorter).map(pav => ({id: pav.id}));\r\n  };\r\n\r\n  createPropertyGroups = () => {\r\n    return {\r\n      pavojai: [...this.createPavojGroups()], \r\n      vbudai: [...this.createVbudasGroups()]\r\n    };\r\n  };\r\n\r\n  createDistinctOperatDefskop = () => {\r\n    // mėginau\r\n    // [\r\n    //   {defskop: {id: aaa, model: bbb, ...}, operat: {id: ccc, name: ddd, ...}},\r\n    //   {defskop: {id: eee, model: fff, ...}, operat: {id: ggg, name: hhh, ...}},\r\n    //   {defskop: {id: iii, model: jjj, ...}, operat: {id: kkk, name: lll, ...}},\r\n    //   ....\r\n    // ]\r\n    // , bet nusprendžiau, kad užteks\r\n    // [\r\n    //   {defskop: aaa, operat: bbb},\r\n    //   {defskop: ccc, operat: ddd},\r\n    //   {defskop: eee, operat: fff},\r\n    //   ....\r\n    // ]\r\n    return [\r\n      ...this.defectCounts.map(c => ({defskop: c._id.defskop, operat: c._id.operat})),      \r\n      ...this.weldingCounts.map(c => ({defskop: c._id.defskop, operat: c._id.operat})),\r\n    ].filter(\r\n        (v, i, a) => a.findIndex(x => x.defskop === v.defskop && x.operat === v.operat) === i\r\n      )\r\n      .sort(\r\n        (a, b) => {\r\n          if (a.defskop > b.defskop) return 1;\r\n          if (a.defskop < b.defskop) return -1;\r\n          if (a.operat > b.operat) return 1;\r\n          if (a.operat < b.operat) return -1;\r\n          return 0;\r\n        }\r\n      );\r\n  };\r\n\r\n  distribute = () => {\r\n    \r\n    let operDefPairs = this.createDistinctOperatDefskop();\r\n    // console.log(\"operDefPairs\", operDefPairs);\r\n    // [\r\n    //   {defskop: aaa, operat: bbb},\r\n    //   {defskop: ccc, operat: ddd},\r\n    //   {defskop: eee, operat: fff},\r\n    //   ....\r\n    // ]\r\n    return operDefPairs.map(odPair => {\r\n      // 0. current defectoskop-operator pair:\r\n      //    {defskop: aaa, operat: bbb}\r\n\r\n      // 1. find all defectPavojCounts for this particular defektoskop-operator pair\r\n      const defectPavojCounts = this.defectCounts.filter(dc => dc._id.defskop === odPair.defskop && dc._id.operat === odPair.operat);\r\n      // [\r\n      //   {_id: {operat: aaa, defskop: bbb, pavoj: \"D1\"}, count: ???},\r\n      //   {_id: {operat: aaa, defskop: bbb, pavoj: \"D2\"}, count: ???},\r\n      //   {_id: {operat: aaa, defskop: bbb, pavoj: \"D3\"}, count: ???}\r\n      // ]\r\n\r\n      // 2. find all weldingVbudasCounts for this particular defektoskop-operator pair\r\n      const weldingVbudasCounts = this.weldingCounts.filter(wc => wc._id.defskop === odPair.defskop && wc._id.operat === odPair.operat);\r\n      // [\r\n      //   {_id: {operat: aaa, defskop: bbb, vbudas: \"t\"}, count: ???},\r\n      //   {_id: {operat: aaa, defskop: bbb, vbudas: \"e\"}, count: ???}\r\n      // ]\r\n\r\n      const propGroupContainer = this.createPropertyGroups();\r\n      // {\r\n      //   vbudai: [\r\n      //     {id: \"t\"},\r\n      //     {id: \"e\"}\r\n      //   ]\r\n      //   pavoj: [\r\n      //     {id: \"D3\"},\r\n      //     {id: \"D2\"},\r\n      //     {id: \"D1\"},\r\n      //     {id: \"DP\"},\r\n      //     ....\r\n      //   ]\r\n      // }\r\n\r\n      // 3. add property \"count\" to each propGroupContainer.pavojai array item:\r\n      //  [\r\n      //    {id: \"t\", count: n},\r\n      //    {id: \"e\", count: z}\r\n      //  ]\r\n      const propGroupVB = propGroupContainer.vbudai.map(vb => {\r\n        const weldingVbudasCount = weldingVbudasCounts.find(wvc => wvc._id.vbudas === vb.id);\r\n        if (weldingVbudasCount !== undefined) {\r\n          vb.count = weldingVbudasCount.count; \r\n        } else {\r\n          vb.count = 0;\r\n        }\r\n        return vb;\r\n      });\r\n\r\n      // 4. add property \"count\" to each propGroupTemplate.vbudas array item:\r\n      //  [\r\n      //     {id: \"D3\", count: z},\r\n      //     {id: \"D2\", count: x},\r\n      //     {id: \"D1\", count: y,\r\n      //     {id: \"DP\", count: u},\r\n      //     ....\r\n      //  ] \r\n      const propGroupPav = propGroupContainer.pavojai.map(pav => {\r\n        const defectPavojCount = defectPavojCounts.find(dpc => dpc._id.pavoj === pav.id);\r\n        if (defectPavojCount !== undefined) {\r\n          pav.count = defectPavojCount.count; \r\n        } else {\r\n          pav.count = 0;\r\n        }\r\n        return pav;\r\n      });\r\n\r\n      // 5. add property \"counts\" to this particular defectoskop-operator pair :\r\n      //    {\r\n      //      defskop: aaa, \r\n      //      operat: bbb, \r\n      //      counts: [\r\n      //        {id: \"t\", count: n},\r\n      //        {id: \"e\", count: z},\r\n      //        {id: \"D3\", count: z},\r\n      //        {id: \"D2\", count: x},\r\n      //        {id: \"D1\", count: y,\r\n      //        {id: \"DP\", count: u},\r\n      //        ....\r\n      //      ]\r\n      //    }\r\n      odPair.counts = [...propGroupPav, ...propGroupVB];\r\n\r\n      // console.log(\"current odPair\", odPair)\r\n      return odPair;\r\n    });\r\n\r\n  }\r\n\r\n  createReport() {\r\n    return this.distribute();\r\n  }\r\n}\r\n","export class ToInspectDataTransformer {\r\n  data;\r\n  constructor(data) {\r\n    this.data = data;\r\n  }\r\n\r\n  createReport() {\r\n    return this.data;\r\n  }\r\n}\r\n","import * as rtypes from \"../../reportTypes\";\r\nimport {UDDataDefectsTransformer} from \"./defectsUndone/UDDataDefectsTransformer\";\r\nimport {UDDataNumberTransformer} from \"./defectsUndone/UDDataNumberTransformer\";\r\nimport {K33DataTransformer} from \"./k33/K33DataTransformer\";\r\nimport {ToInspectDataTransformer} from \"./toInspect/ToInspectDataTransformer\";\r\n\r\nconst reporterMap = {\r\n  [rtypes.defectsUndone]: {\r\n     apiUrl: \"/api/report/defects-undone\",\r\n     DataTransformerClass: UDDataDefectsTransformer\r\n  },\r\n  [rtypes.defectsUndoneCount]: {\r\n     apiUrl: \"/api/report/defects-undone-count\",\r\n     DataTransformerClass: UDDataNumberTransformer\r\n  },\r\n  [rtypes.k33]: {\r\n     apiUrl: \"/api/report/k33\",\r\n     DataTransformerClass: K33DataTransformer\r\n  },\r\n  [rtypes.toInspect]: {\r\n     apiUrl: \"/api/report/to-inspect\",\r\n     DataTransformerClass: ToInspectDataTransformer\r\n  }\r\n}\r\n\r\nexport default reporterMap;","export const defectsUndone = \"defects-undone\";\r\nexport const defectsUndoneCount = \"defects-undone-count\"\r\nexport const k33 = \"k33\";\r\nexport const weldingsExamine = \"weldings-examine\";\r\nexport const toInspect = \"to-inspect\";\r\n","import reporterMap from \"./reporterMap\";\r\n\r\nexport default class Reporter {\r\n  reporter;\r\n\r\n  constructor(rtype) {\r\n    this.reporter = reporterMap[rtype];\r\n  }\r\n\r\n  // public\r\n  createReport(data) {\r\n    // console.log(\"createReport data params\", data, params);\r\n    const transformer = new this.reporter.DataTransformerClass(data);\r\n    return transformer.createReport();\r\n  }\r\n\r\n  // public\r\n  getUrl() {\r\n    return this.reporter.apiUrl;\r\n  }\r\n}\r\n","import axios from \"axios\";\r\n//import * as extractMsg from \"./functions/extractMsg\";\r\nimport {\r\n  REPORT_BEGIN,\r\n  REPORT_SUCCESS,\r\n  REPORT_ERROR,\r\n  REPORT_ERASE\r\n} from \"./types\";\r\nimport Reporter from \"./reporters/Reporter\";\r\n\r\nconst reportBegin = params => ({\r\n  type: REPORT_BEGIN,\r\n  payload: { params }\r\n});\r\n\r\nconst reportSuccess = (report, rtype) => ({\r\n  type: REPORT_SUCCESS,\r\n  payload: { report, rtype }\r\n});\r\n\r\nconst reportFailure = errormsg => ({\r\n  type: REPORT_ERROR,\r\n  payload: { errormsg }\r\n});\r\n\r\nexport const eraseReport = () => dispatch => {\r\n  // console.log(\"dispatching erase report\");\r\n  dispatch({\r\n    type: REPORT_ERASE\r\n  });\r\n};\r\n\r\nexport const createReport = (rtype, params) => dispatch => {\r\n  // parinkti reporterį\r\n  const reporter = new Reporter(rtype);\r\n  // console.log(\"reporter\", reporter);\r\n  if (!reporter) {\r\n    dispatch(reportFailure({ errormsg: \"Unknown report type\" }));\r\n    return;\r\n  }\r\n\r\n  dispatch(reportBegin(params));\r\n\r\n  // fetch report data async and create report\r\n  axios\r\n    .get(reporter.getUrl(), { params: { ...params } })\r\n    .then(res => {\r\n      const report = reporter.createReport(res.data);\r\n      dispatch(reportSuccess(report, rtype));\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n      dispatch(reportFailure(err));\r\n    });\r\n};\r\n","import React from \"react\";\r\n\r\nconst ActiveDefectsTable = ({ report }) => {\r\n  if (!report) return null;\r\n\r\n  const tHead = (\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\">Meistrija</th>\r\n        <th scope=\"col\">Linija</th>\r\n        <th scope=\"col\">Kelias</th>\r\n        <th scope=\"col\">Km</th>\r\n        <th scope=\"col\">Pk</th>\r\n        <th scope=\"col\">M</th>\r\n        <th scope=\"col\">Siūlė</th>\r\n        <th scope=\"col\">Kodas</th>\r\n        <th scope=\"col\">Pavoj</th>\r\n        <th scope=\"col\">Aptikta</th>\r\n        <th scope=\"col\">Terminas</th>\r\n      </tr>\r\n    </thead>\r\n  );\r\n\r\n  const DefectRow = ({ meistrijaLabel, defect }) => {\r\n    return (\r\n      <tr>\r\n        <th scope=\"row\">{meistrijaLabel}</th>\r\n        <td>{defect.linija}</td>\r\n        <td>{defect.kelias}</td>\r\n        <td>{defect.km}</td>\r\n        <td>{defect.pk}</td>\r\n        <td>{defect.m}</td>\r\n        <td>{defect.siule}</td>\r\n        <td>{defect.kodas}</td>\r\n        <td>{defect.pavoj}</td>\r\n        <td>{defect.daptik}</td>\r\n        <td>{defect.dtermin}</td>\r\n      </tr>\r\n    );\r\n  };\r\n\r\n  // console.log(\"report right before bodyRows\", report);\r\n  const bodyRows = report.map(meistrija =>\r\n    meistrija.defects.map(defect => (\r\n      <DefectRow\r\n        meistrijaLabel={meistrija.abbr}\r\n        defect={defect}\r\n        key={defect.id}\r\n      />\r\n    ))\r\n  );\r\n  // console.log(\"bodyRows\", bodyRows);\r\n\r\n  return (\r\n    <table className=\"table\">\r\n      {tHead}\r\n      <tbody>{bodyRows}</tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default ActiveDefectsTable;\r\n","import React, { Component } from \"react\";\r\nimport { createReport } from \"../../../actions/reportActions\";\r\nimport { connect } from \"react-redux\";\r\nimport TextFieldGroup from \"../../common/TextFieldGroup\";\r\nimport {absent} from '../../../utils/absentProps';\r\n\r\nexport class ActiveDefectsParamsCollector extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        byDate: new Date().toISOString().split(\"T\")[0],\r\n        whichDefects: 'active'\r\n    };\r\n    this.submitParams = this.submitParams.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  submitParams() {\r\n    this.props.createReport(this.props.rtype, this.state);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"form\">\r\n        <TextFieldGroup\r\n          type=\"date\"\r\n          id=\"bydate\"\r\n          label=\"Datai\"\r\n          name=\"byDate\"\r\n          value={absent(this.state.byDate)}\r\n          onChange={this.onChange}\r\n          className=\"form-group\"\r\n        />\r\n        <div className=\"form-group whichDefects\">\r\n          <div className=\"form-check form-check-inline\">\r\n            <input\r\n              className=\"form-check-input\"\r\n              name=\"whichDefects\"\r\n              type=\"radio\"\r\n              id=\"radio-active\"\r\n              checked={this.state.whichDefects === \"active\"}\r\n              value=\"active\"\r\n              onChange={this.onChange}\r\n            />\r\n            <label\r\n              className=\"form-check-label\"\r\n              htmlFor=\"radio-active\"\r\n            >\r\n              Visi esantys kelyje\r\n            </label>\r\n          </div>\r\n          <div className=\"form-check form-check-inline\">\r\n            <input\r\n              className=\"form-check-input\"\r\n              name=\"whichDefects\"\r\n              type=\"radio\"\r\n              id=\"radio-overdued\"\r\n              checked={this.state.whichDefects === \"overdued\"}\r\n              value=\"overdued\"\r\n              onChange={this.onChange}\r\n            />\r\n            <label className=\"form-check-label\" htmlFor=\"radio-overdued\">\r\n              Tik pradelsti\r\n            </label>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <button type=\"button\" className=\"btn\" onClick={this.submitParams}>\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  params: state.report.params\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { createReport }\r\n)(ActiveDefectsParamsCollector);\r\n","export const itemsToExport = report => {\r\n  /*\r\n    {meistrija:\"...\", defects: [{linija, kelias, km, pk, m, siule, kodas, pavoj, daptik, dtermin}]}\r\n  */\r\n  let items = [];\r\n  report.forEach(m => {\r\n    m.defects.forEach(def => {\r\n      let defect = {...def}; \r\n      ensureAllProps(defect);\r\n      defect.meistrija = m;\r\n      items.push(defect)\r\n    });\r\n  });\r\n  return items;  \r\n}\r\n\r\nconst ensureAllProps = defect => {\r\n  [\"linija\",\"kelias\",\"km\",\"pk\",\"m\",\"siule\",\"kodas\",\"pavoj\", \"daptik\", \"dtermin\"].forEach(prop => {\r\n    if (defect[prop] == null) defect[prop] = \"\";\r\n  });\r\n}","export const itemCount = report => {\r\n  return report.reduce(reducer, 0);\r\n}\r\n\r\nconst reducer = (acc, currentMeistrija) => acc + currentMeistrija.defects.length;","import React from \"react\";\r\n\r\nconst ActiveDefectsCountTable = ({ report }) => {\r\n  if (!report) return null;\r\n  // console.log(\"active defects count report\", report);\r\n\r\n  const kkategColSpan = report[0].kkateg[0].pavoj.length;\r\n\r\n  const THead = ({ report }) => (\r\n    <thead>\r\n      <tr>\r\n        <th rowSpan=\"2\" scope=\"col\">\r\n          Meistrija\r\n        </th>\r\n        {report[0].kkateg.map(kk => (\r\n          <th key={kk.ind} colSpan={kkategColSpan}>\r\n            {kk.label}\r\n          </th>\r\n        ))}\r\n      </tr>\r\n      <tr>\r\n        {report[0].kkateg.map(kk =>\r\n          kk.pavoj.map(p => (\r\n            <th scope=\"col\" key={p.ind}>\r\n              {p.label}\r\n            </th>\r\n          ))\r\n        )}\r\n      </tr>\r\n    </thead>\r\n  );\r\n\r\n  const ReportRow = ({ meistrija }) => {\r\n    return (\r\n      <tr>\r\n        <th scope=\"row\">{meistrija.label}</th>\r\n        {meistrija.kkateg.map(kk =>\r\n          kk.pavoj.map(p => <td key={kk.ind + \"-\" + p.ind}>{p.count > 0 ? p.count : \"\"}</td>)\r\n        )}\r\n      </tr>\r\n    );\r\n  };\r\n\r\n  const TBody = ({ report }) => {\r\n    return (\r\n      <tbody>\r\n        {report.map(m => (\r\n          <ReportRow key={m.ind} meistrija={m} />\r\n        ))}\r\n      </tbody>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <table className=\"table table-bordered table-striped\">\r\n      <THead report={report} />\r\n      <TBody report={report} />\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default ActiveDefectsCountTable;\r\n","import React from \"react\";\r\n\r\nconst K33Table = ({ report }) => {\r\n  if (!report) return null;\r\n\r\n  // console.log(\"active defects table report\", report);\r\n\r\n  const tHead = (\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\">Def</th>\r\n        <th scope=\"col\">Oper</th>\r\n        {report[0].counts.map(c => (\r\n          <th scope=\"col\" key={c.id}>\r\n            {c.id}\r\n          </th>\r\n        ))}\r\n      </tr>\r\n    </thead>\r\n  );\r\n\r\n  const tRows = report.map((row, i) => (\r\n    <tr key={i}>\r\n      <th scope=\"row\">{row.defskop}</th>\r\n      <th scope=\"row\">{row.operat}</th>\r\n      {row.counts.map(c => (\r\n        <td key={c.id}>{c.count > 0 ? c.count : \"\"}</td>\r\n      ))}\r\n    </tr>\r\n  ));\r\n\r\n  return (\r\n    <table className=\"table\">\r\n      {tHead}\r\n      <tbody>{tRows}</tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default K33Table;\r\n","import React, { Component } from \"react\";\r\nimport { createReport } from \"../../../actions/reportActions\";\r\nimport { connect } from \"react-redux\";\r\nimport TextFieldGroup from \"../../common/TextFieldGroup\";\r\nimport {absent} from \"../../../utils/absentProps\";\r\n\r\nexport class ActiveDefectsParamsCollector extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.today = new Date();\r\n    this.oneMonthAgo = new Date();\r\n    this.oneMonthAgo.setMonth(this.oneMonthAgo.getMonth() - 1);\r\n    this.state = {\r\n      startDate: this.today.toISOString().split(\"T\")[0],\r\n      endDate: this.oneMonthAgo.toISOString().split(\"T\")[0]\r\n    };\r\n    this.submitParams = this.submitParams.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  submitParams() {\r\n    this.props.createReport(this.props.rtype, this.state);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"form\">\r\n        <TextFieldGroup\r\n          type=\"date\"\r\n          id=\"startDate\"\r\n          label=\"Nuo datos\"\r\n          name=\"startDate\"\r\n          value={absent(this.state.startDate)}\r\n          onChange={this.onChange}\r\n          className=\"form-group\"\r\n        />\r\n        <TextFieldGroup\r\n          type=\"date\"\r\n          id=\"endDate\"\r\n          label=\"iki datos\"\r\n          name=\"endDate\"\r\n          value={absent(this.state.endDate)}\r\n          onChange={this.onChange}\r\n          className=\"form-group\"\r\n        />\r\n\r\n        <div className=\"form-group\">\r\n          <button type=\"button\" className=\"btn\" onClick={this.submitParams}>\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  params: state.report.params\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { createReport }\r\n)(ActiveDefectsParamsCollector);\r\n","import React from \"react\";\r\n\r\nconst ToInspectTable = ({ report }) => {\r\n  if (!report) return null;\r\n\r\n  const tHead = (\r\n    <thead>\r\n      <tr>\r\n        <th scope=\"col\">id</th>\r\n        <th scope=\"col\">linija</th>\r\n        <th scope=\"col\">kelias</th>\r\n        <th scope=\"col\">km</th>\r\n        <th scope=\"col\">pk</th>\r\n        <th scope=\"col\">m</th>\r\n        <th scope=\"col\">siule</th>\r\n        <th scope=\"col\">vbudas</th>\r\n        <th scope=\"col\">data1</th>\r\n        <th scope=\"col\">kelintas</th>\r\n        <th scope=\"col\">galima_nuo</th>\r\n        <th scope=\"col\">reikia_iki</th>\r\n      </tr>\r\n    </thead>\r\n  );\r\n\r\n  const tRows = report.map(welding => (\r\n    <tr key={welding.id}>\r\n      <td>{welding.id}</td>\r\n      <td>{welding.linija}</td>\r\n      <td>{welding.kelias}</td>\r\n      <td>{welding.km}</td>\r\n      <td>{welding.pk}</td>\r\n      <td>{welding.m}</td>\r\n      <td>{welding.siule}</td>\r\n      <td>{welding.vbudas}</td>\r\n      <td>{welding.data1}</td>\r\n      <td>{welding.kelintas}</td>\r\n      <td>{welding.galimanuo}</td>\r\n      <td>{welding.reikiaiki}</td>\r\n    </tr>\r\n  ));\r\n\r\n  return (\r\n    <table className=\"table\">\r\n      {tHead}\r\n      <tbody>{tRows}</tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default ToInspectTable;\r\n","import React, { Component } from \"react\";\r\nimport { createReport } from \"../../../actions/reportActions\";\r\nimport { connect } from \"react-redux\";\r\nimport TextFieldGroup from \"../../common/TextFieldGroup\";\r\nimport {absent} from '../../../utils/absentProps';\r\n\r\nexport class ToInspectParamsCollector extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n        byDate: new Date().toISOString().split(\"T\")[0],\r\n        onlyOverdued: false\r\n    };\r\n    this.submitParams = this.submitParams.bind(this);\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  onChange(e) {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  }\r\n\r\n  submitParams() {\r\n    this.props.createReport(this.props.rtype, this.state);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <form className=\"form\">\r\n        <TextFieldGroup\r\n          type=\"date\"\r\n          id=\"todate\"\r\n          label=\"Datai\"\r\n          name=\"toDate\"\r\n          value={absent(this.state.toDate)}\r\n          onChange={this.onChange}\r\n          className=\"form-group\"\r\n        />\r\n        <div className=\"form-group whichDefects\">\r\n          <div className=\"form-check form-check-inline\">\r\n            <input\r\n              className=\"form-check-input\"\r\n              name=\"onlyover\"\r\n              type=\"radio\"\r\n              id=\"checkbox\"\r\n              checked={this.state.onlyOverdued}\r\n              value={false}\r\n              onChange={this.onChange}\r\n            />\r\n            <label\r\n              className=\"form-check-label\"\r\n              htmlFor=\"radio-active\"\r\n            >\r\n              Tik pradelsti\r\n            </label>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <button type=\"button\" className=\"btn\" onClick={this.submitParams}>\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  params: state.report.params\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { createReport }\r\n)(ToInspectParamsCollector);\r\n","import ActiveDefectsTable from './activeDefects/ActiveDefectsTable';\r\nimport ActiveDefectsParamsCollector from './activeDefects/ActiveDefectsParamsCollector';\r\nimport {itemsToExport as adItemsToExport} from './activeDefects/adItemsToExport';\r\nimport {itemCount as adItemCount} from './activeDefects/adItemCount';\r\nimport ActiveDefectsCountTable from './activeDefects/ActiveDefectsCountTable';\r\nimport {itemsToExport as adCountItemsToExport} from './activeDefects/adCountItemsToExport';\r\nimport {itemCount as adCountItemCount} from './activeDefects/adCountItemCount';\r\nimport K33Table from './k33/K33Table';\r\nimport K33ParamsCollector from './k33/K33ParamsCollector';\r\nimport {itemCount as k33ItemCount} from './k33/itemCount';\r\nimport {itemsToExport as k33ItemsToExport} from './k33/itemsToExport';\r\nimport ToInspectTable from './toInspect/ToInspectTable';\r\nimport ToInspectParamsCollector from './toInspect/ToInspectParamsCollector';\r\nimport {itemsToExport as toInspectItemsToExport} from './toInspect/itemsToExport';\r\nimport {itemCount as toInspectItemCount} from './toInspect/itemCount';\r\n\r\nimport * as rtypes from '../../reportTypes';\r\n\r\nconst rTypeComponentMap = {\r\n  [rtypes.defectsUndone]: {\r\n    title: \"Keliuose esantys defektai.\",\r\n    subtitle: \"Tik pradelsti arba visi\",\r\n    paramsCollector: ActiveDefectsParamsCollector,    \r\n    reportTable: ActiveDefectsTable,\r\n    itemsToExportFormat: adItemsToExport, \r\n    itemCount: adItemCount\r\n  },\r\n  [rtypes.defectsUndoneCount]: {\r\n    title: \"Keliuose esančių defektų skaičiai.\",\r\n    subtitle: \"Tik pradelstų arba visų\",\r\n    paramsCollector: ActiveDefectsParamsCollector,\r\n    reportTable: ActiveDefectsCountTable,\r\n    itemsToExportFormat: adCountItemsToExport,\r\n    itemCount: adCountItemCount\r\n  },\r\n  [rtypes.k33]: {\r\n    title: \"Per periodą atliktas darbas.\",\r\n    subtitle: \"Ataskaita K-33\",\r\n    paramsCollector: K33ParamsCollector,\r\n    reportTable: K33Table,\r\n    itemsToExportFormat: k33ItemsToExport,\r\n    itemCount: k33ItemCount\r\n  },\r\n  [rtypes.toInspect]: {\r\n    title: \"Suvirinimai, kuriuos galima tikrinti.\",\r\n    subtitle: \"\",\r\n    paramsCollector: ToInspectParamsCollector,\r\n    reportTable: ToInspectTable,\r\n    itemsToExportFormat: toInspectItemsToExport,\r\n    itemCount: toInspectItemCount\r\n  },\r\n};\r\n\r\nexport default rTypeComponentMap;","export const itemsToExport = report => {\r\n  //{meistrija: {kkateg: {..., pavoj[{..., count: x}]}}}\r\n\r\n  let items = [];\r\n  report.forEach(meistrija => {\r\n    meistrija.kkateg.forEach(kkateg => {\r\n      kkateg.pavoj.forEach(pavoj => {\r\n        items.push({ meistrija, kkateg, pavoj, count: pavoj.count });\r\n      });\r\n    });\r\n  });\r\n  return items;\r\n};\r\n","export const itemCount = report => {\r\n  return report.length;\r\n};\r\n","export const itemsToExport = report => {\r\n  return report.map(row => ({defskop: row.defskop, operat: row.operat, ...row.counts}));\r\n  // pagalvoti, kaip daryti, jeigu kažkurio counts komponento nebus \r\n}","export const itemCount = report => {\r\n  return report.length;\r\n}","export const itemsToExport = report => {\r\n  return report;\r\n}","export const itemCount = report => {\r\n  return report.length;\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { eraseReport } from \"../../actions/reportActions\";\r\nimport rTypeComponentMap from \"./rTypeComponentMap\";\r\nimport IsLoading from \"../common/IsLoading\";\r\nimport Alert from \"../common/Alert\";\r\nimport ItemsCount from \"../common/ItemsCount\";\r\nimport ExportItems from \"../common/exportItems/ExportItems\";\r\n\r\nclass Report extends Component {\r\n  reporter = null;\r\n  constructor(props) {\r\n    super(props);\r\n    this.reporter = rTypeComponentMap[props.rtype];\r\n    this.getItems = this.getItems.bind(this);\r\n  }\r\n\r\n  getItems() {\r\n    return this.reporter.itemsToExportFormat(this.props.report);\r\n  }\r\n\r\n  render() {\r\n    // // console.log(\"report render this.props.report\", this.props.report);\r\n    // // console.log(\"this.props.error\", this.props.error);\r\n\r\n    const ParamsCollector = this.reporter.paramsCollector;\r\n    const ReportTable = this.reporter.reportTable;\r\n    let report, itemCount;\r\n    if (this.props.rtype === this.props.storeReportType) {\r\n      report = this.props.report;\r\n      itemCount = this.reporter.itemCount(this.props.report);\r\n    }\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"report-title\">\r\n          <h3>\r\n            {this.reporter.title}{\" \"}\r\n            <small className=\"text-muted\">{this.reporter.subtitle}</small>\r\n          </h3>\r\n        </div>\r\n        <div className=\"row\">\r\n          <ParamsCollector rtype={this.props.rtype} />\r\n        </div>\r\n\r\n        {this.props.isLoading ? (\r\n          <IsLoading />\r\n        ) : this.props.errormsg ? (\r\n          <Alert message={this.props.errormsg} />\r\n        ) : (report && Object.keys(report).length !== 0) ? (\r\n          <div>\r\n            <div className=\"row\">\r\n              <ReportTable report={report} />\r\n            </div>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"col-6\">\r\n                <ItemsCount\r\n                  inView={itemCount}\r\n                  total={itemCount}\r\n                />\r\n              </div>\r\n              <div className=\"col-6\">\r\n                <ExportItems getItems={this.getItems} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  report: state.report.data,\r\n  errormsg: state.report.errormsg,\r\n  storeReportType: state.report.rtype,\r\n  isLoading: state.report.isLoading\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { eraseReport }\r\n)(Report);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { fetchAllThings } from \"../../actions/thingsActions\";\r\nimport Alert from \"../common/Alert\";\r\nimport IsLoading from \"../common/IsLoading\";\r\n\r\nclass LoggedIn extends Component {\r\n\r\n  componentDidMount() {\r\n    // čia pradėti krauti things\r\n    this.props.fetchAllThings();\r\n  }\r\n\r\n  render() {\r\n    // things load error\r\n    if (this.props.things.errormsg) {\r\n      return <Alert message={this.props.things.errormsg} />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"logged-in\">\r\n        <IsLoading when={this.props.things.isLoading} />\r\n        <div className=\"dark-overlay logged-in-inner text-light\">\r\n          <div className=\"container\">\r\n            <div className=\"row\">\r\n              <div className=\"col-md-12 text-center\">\r\n                <h1 className=\"display-3 mb-4\">\r\n                  Rail Defect Data Base\r\n                </h1>\r\n                <p className=\"lead\">\r\n                  Manage your data with confidence\r\n                </p>\r\n                <hr />\r\n                <p className=\"lead\">\r\n                  You're logged-in, and now you can start working\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  things: state.things\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchAllThings }\r\n)(withRouter(LoggedIn));\r\n","import React from \"react\";\r\n\r\nconst actionMap = {\r\n  none: { display: \"None\", value: \"none\", classname: \"none\" },\r\n  ok: { display: \"OK\", value: \"ok\", classname: \"ok\" },\r\n  return: { display: \"Return\", value: \"return\", classname: \"return\" },\r\n  delete: { display: \"Delete\", value: \"delete\", classname: \"delete\" }\r\n};\r\n\r\nconst Option = ({ action, ind }) => {\r\n  return (\r\n    <option\r\n      key={ind}\r\n      value={actionMap[action].value}\r\n      className={actionMap[action].value}\r\n    >\r\n      {actionMap[action].display}\r\n    </option>\r\n  );\r\n};\r\n\r\nconst ActionSelector = ({ action, ind, changeAction }) => {\r\n  return (\r\n    <select\r\n      name=\"action\"\r\n      className={\"by-option \" + action}\r\n      data-ind={ind}\r\n      value={action}\r\n      onChange={changeAction}\r\n      id={\"select-action-\" + ind}\r\n    >\r\n      {Object.keys(actionMap) \r\n        .map((ac, nr) => (\r\n          <Option action={ac} ind={nr} key={nr} />\r\n        ))}\r\n    </select>\r\n  );\r\n};\r\n\r\nexport default ActionSelector;\r\n","import {absent} from \"../../../utils/absentProps\";\r\n\r\nconst pad = (num, size = 2) => {\r\n  if (num == null || num === \"\") return \"-\".repeat(size);\r\n  return (\"0\".repeat(size) + num).substr(-size);\r\n};\r\n\r\nconst getDTString = timestamp =>\r\n  new Date(timestamp).toLocaleString(\"lt-LT\").slice(0, -3);\r\n\r\nconst getValidationString = validation => {\r\n  let errs = \"\";\r\n  if (validation.errors) {\r\n    if (Array.isArray(validation.errors)) {\r\n      errs = validation.errors.map(e => `${e.key} - ${e.msg}`).join(\", \");\r\n    } else {\r\n      errs = validation.errors.toString();\r\n    }\r\n    return `Validation: ${validation.reason}. Errors: ${errs}`;\r\n  }\r\n  return \"Validation: \" + validation.reason;\r\n};\r\n\r\nconst getOperApar = item => `${absent(item.oper)}-${absent(item.apar)}`;\r\n\r\nconst getHL = item => `${absent(item.dh)}/${absent(item.dl)}`;\r\n\r\nconst getVietosKodas = item =>\r\n  `${pad(item.linija)}.${absent(item.kelias)}${pad(item.km, 3)}.${pad(\r\n    item.pk\r\n  )}.${pad(item.m)}.${absent(item.siule)}`;\r\n\r\nconst getBegis = item =>\r\n  `${absent(item.btipas)} ${absent(item.bgamykl)} ${absent(item.bmetai)}`;\r\n\r\nconst splitMainJournalClear = (input, model) => {\r\n  let main = {};\r\n  Object.keys(model.main).forEach(key => (main[key] = input[key]));\r\n\r\n  let journal = {};\r\n  Object.keys(model.journal).forEach(key => (journal[key] = null));\r\n\r\n  journal.mainid = input.id;\r\n\r\n  return { main, journal };\r\n};\r\n\r\nconst samePlace = (main1, main2) => {\r\n  const areEq = propName => {\r\n    const val1 = main1[propName];\r\n    const val2 = main2[propName];\r\n    return (\r\n      ((val1 == null || val1 === \"\") && (val2 == null || val2 === \"\")) ||\r\n      (val1 != null && val2 != null && val1.toString() === val2.toString())\r\n    );\r\n  };\r\n  return (\r\n    areEq(\"linija\") &&\r\n    areEq(\"kelias\") &&\r\n    areEq(\"km\") &&\r\n    areEq(\"pk\") &&\r\n    areEq(\"m\") &&\r\n    areEq(\"siule\")\r\n  );\r\n};\r\n\r\nexport {\r\n  getDTString,\r\n  getValidationString,\r\n  getOperApar,\r\n  getHL,\r\n  getVietosKodas,\r\n  getBegis,\r\n  splitMainJournalClear,\r\n  samePlace\r\n};\r\n","import React from \"react\";\r\nimport ActionSelector from \"../ActionSelector\";\r\nimport {\r\n  getDTString, \r\n  getValidationString, \r\n  getOperApar, \r\n  getHL, \r\n  getVietosKodas, \r\n  getBegis\r\n} from \"../functions\";\r\n\r\nconst PrimaryRow = ({ item, ind, changeAction, setEdit }) => {\r\n  const main = item.main;\r\n  const journal = item.journal;\r\n  return (\r\n    <tr className=\"approve-primary-row\">\r\n      <td className=\"meistrija vieta\">{main.meistrija}</td>\r\n      <td className=\"vk vieta\">{getVietosKodas(main)}</td>      \r\n      <td className=\"oper-apar\">{getOperApar(journal)}</td>\r\n      <td className=\"data def\">{journal.data}</td>\r\n      <td className=\"kodas def\">{journal.kodas}</td>\r\n      <td className=\"hl\">{getHL(journal)}</td>\r\n      <td className=\"kkateg def\">{main.kkateg}</td>\r\n      <td className=\"pavoj def\">{journal.pavoj}</td>\r\n      <td className=\"dtermin def\">{journal.dtermin}</td>\r\n      <td className=\"controls\">\r\n        <button\r\n          className=\"btn btn-xs btn-light\"\r\n          data-ind={ind}\r\n          onClick={setEdit}\r\n        >\r\n          <i className=\"fas fa-edit\" data-ind={ind} />\r\n        </button>\r\n        <ActionSelector \r\n          action={item.action}\r\n          ind={ind}\r\n          changeAction={changeAction}\r\n        />\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst SecondaryRow = ({ item }) => {\r\n  const main = item.main;\r\n  const journal = item.journal;\r\n  return (\r\n    <tr className=\"approve-secondary-row\">\r\n      <td className=\"supplied-by\">{item.oper}</td>\r\n      <td className=\"supplied-when\">{getDTString(item.timestamp)}</td>\r\n      <td className=\"id\">{main.id}</td>\r\n      <td className=\"begis\">{getBegis(main)}</td>\r\n      <td className=\"note\" colSpan=\"6\">\r\n        {journal.note}\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst ValidationRow = ({ item }) => {\r\n  if (!item.validation) return null;\r\n  return (\r\n    <tr className=\"approve-validation-row\">\r\n      <td className=\"pastaba\" colSpan=\"10\">\r\n        {getValidationString(item.validation)}\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst SingleRow = ({\r\n  item,\r\n  ind,\r\n  changeAction,\r\n  setEdit\r\n}) => {\r\n  return (\r\n    <React.Fragment>\r\n      <PrimaryRow\r\n        item={item}\r\n        ind={ind}\r\n        changeAction={changeAction}\r\n        setEdit={setEdit}\r\n      />\r\n      <SecondaryRow item={item} />\r\n      <ValidationRow item={item} />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst HeadRow = () => {\r\n  return (\r\n    <thead>\r\n      <tr className=\"approve-primary-row\">\r\n        <th className=\"meistrija vieta\">Meistrija</th>\r\n        <th className=\"vk vieta\">Vietos kodas</th>\r\n        <th className=\"oper-apar\">Oper-Apar</th>\r\n        <th className=\"data def\">Data</th>\r\n        <th className=\"kodas def\">Kodas</th>\r\n        <th className=\"hl\">H/L</th>\r\n        <th className=\"kkateg def\">KKateg</th>\r\n        <th className=\"pavoj def\">Pavoj</th>\r\n        <th className=\"dtermin def\">Terminas</th>\r\n        <th className=\"controls\">Actions</th>\r\n      </tr>\r\n      <tr className=\"approve-secondary-row\">\r\n        <th className=\"supplied-by\">Pateikė</th>\r\n        <th className=\"supplied-when\">Kada</th>\r\n        <th className=\"id\">ID</th>\r\n        <th className=\"begis\">Bėgis</th>\r\n        <th className=\"note\" colSpan=\"7\">\r\n          Pastaba\r\n        </th>\r\n      </tr>\r\n    </thead>\r\n  );\r\n};\r\n\r\nexport { SingleRow, HeadRow };\r\n","import React from \"react\";\r\nimport TextFieldGroup from \"../../../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../../../common/SelectInputGroup\";\r\nimport Alert from \"../../../common/Alert\";\r\nimport {absentMulti} from \"../../../../utils/absentProps\";\r\n\r\nconst EditForm = ({ item, onChange, options, errors }) => {\r\n  //console.log(\"item in EditForm\", item);\r\n  //console.log(\"absent meistrija\", absentMulti(item, \"main\", \"meistrija\"));\r\n  const edit = item && item.main && item.main.id > 0;\r\n  \r\n  return (\r\n    <form>\r\n      {errors.common && <Alert message={errors.common} type=\"error\" />}\r\n      <div className=\"form-group row main-data text-center\">\r\n        <SelectInputGroup\r\n          id=\"defect-meistrija\"\r\n          name=\"main.meistrija\"\r\n          label=\"Meistrija\"\r\n          divClassname=\"form-group col-4\"\r\n          value={absentMulti(item, \"main\", \"meistrija\")}\r\n          options={options.meistrija}\r\n          onChange={onChange}\r\n          disabled={edit}\r\n          error={errors.meistrija}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"defect-kkateg\"\r\n          name=\"main.kkateg\"\r\n          label=\"Kelio kategorija\"\r\n          divClassname=\"form-group col-4\"\r\n          value={absentMulti(item, \"main\", \"kkateg\")}\r\n          options={options.kkateg}\r\n          onChange={onChange}\r\n          disabled={edit}\r\n          error={errors.kkateg}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row begis text-center\">\r\n        <SelectInputGroup\r\n          id=\"defect-btipas\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"main.btipas\"\r\n          label=\"Bėgio tipas\"\r\n          value={absentMulti(item, \"main\", \"btipas\")}\r\n          options={options.btipas}\r\n          onChange={onChange}\r\n          disabled={edit}\r\n          error={errors.btipas}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"defect-bgamykl\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"main.bgamykl\"\r\n          label=\"Bėgio gamykla\"\r\n          value={absentMulti(item, \"main\", \"bgamykl\")}\r\n          options={options.bgamykl}\r\n          onChange={onChange}\r\n          disabled={edit}\r\n          error={errors.bgamykl}\r\n        />\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-4\"\r\n          label=\"Bėgio gam. metai\"\r\n          id=\"defect-bmetai\"\r\n          name=\"main.bmetai\"\r\n          placeholder=\"Bėgio gam. metai\"\r\n          value={absentMulti(item, \"main\", \"bmetai\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.bmetai}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group row vieta text-center\">\r\n        <TextFieldGroup\r\n          label=\"Linija\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"defect-linija\"\r\n          name=\"main.linija\"\r\n          placeholder=\"Linija\"\r\n          value={absentMulti(item, \"main\", \"linija\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.linija}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"Kelias\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"defect-kelias\"\r\n          name=\"main.kelias\"\r\n          placeholder=\"Kelio Nr.\"\r\n          value={absentMulti(item, \"main\", \"kelias\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.kelias}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"km\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"defect-km\"\r\n          name=\"main.km\"\r\n          placeholder=\"km\"\r\n          value={absentMulti(item, \"main\", \"km\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.km}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"pk\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"defect-pk\"\r\n          name=\"main.pk\"\r\n          placeholder=\"pk\"\r\n          value={absentMulti(item, \"main\", \"pk\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.pk}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"m\"\r\n          divClassname=\"form-group col-2\"\r\n          id=\"defect-m\"\r\n          name=\"main.m\"\r\n          placeholder=\"m\"\r\n          value={absentMulti(item, \"main\", \"m\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.m}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"defect-siule\"\r\n          divClassname=\"form-group col-2\"\r\n          name=\"main.siule\"\r\n          label=\"Siūlė\"\r\n          value={absentMulti(item, \"main\", \"siule\")}\r\n          options={options.siule}\r\n          onChange={onChange}\r\n          disabled={edit}\r\n          error={errors.siule}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row text-center\">\r\n        <TextFieldGroup\r\n          label=\"Data\"\r\n          divClassname=\"form-group col-4\"\r\n          type=\"date\"\r\n          id=\"defect-data\"\r\n          name=\"journal.data\"\r\n          value={absentMulti(item, \"journal\", \"data\")}\r\n          onChange={onChange}\r\n          error={errors.data}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"defect-oper\"\r\n          name=\"journal.oper\"\r\n          label=\"Operatorius\"\r\n          divClassname=\"form-group col-4\"\r\n          value={absentMulti(item, \"journal\", \"oper\")}\r\n          options={options.oper}\r\n          onChange={onChange}\r\n          error={errors.oper}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"defect-apar\"\r\n          name=\"journal.apar\"\r\n          label=\"Defektoskopas\"\r\n          divClassname=\"form-group col-4\"\r\n          value={absentMulti(item, \"journal\", \"apar\")}\r\n          options={options.apar}\r\n          onChange={onChange}\r\n          error={errors.apar}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row text-center\">\r\n        <TextFieldGroup\r\n          label=\"Kodas\"\r\n          divClassname=\"form-group col-3\"\r\n          id=\"defect-kodas\"\r\n          name=\"journal.kodas\"\r\n          placeholder=\"Kodas\"\r\n          value={absentMulti(item, \"journal\", \"kodas\")}\r\n          onChange={onChange}\r\n          error={errors.kodas}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"L\"\r\n          divClassname=\"form-group col-3\"\r\n          id=\"defect-dl\"\r\n          name=\"journal.dl\"\r\n          placeholder=\"L\"\r\n          value={absentMulti(item, \"journal\", \"dl\")}\r\n          onChange={onChange}\r\n          error={errors.dl}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"H\"\r\n          divClassname=\"form-group col-3\"\r\n          id=\"defect-dh\"\r\n          name=\"journal.dh\"\r\n          placeholder=\"H\"\r\n          value={absentMulti(item, \"journal\", \"dh\")}\r\n          onChange={onChange}\r\n          error={errors.dh}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"defect-pavoj\"\r\n          name=\"journal.pavoj\"\r\n          label=\"Pavojingumas\"\r\n          divClassname=\"form-group col-3\"\r\n          value={absentMulti(item, \"journal\", \"pavoj\")}\r\n          options={options.pavoj}\r\n          onChange={onChange}\r\n          error={errors.pavoj}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row text-center\">\r\n        <TextFieldGroup\r\n          label=\"Terminas\"\r\n          divClassname=\"form-group col-3\"\r\n          type=\"date\"\r\n          id=\"defect-dtermin\"\r\n          name=\"journal.dtermin\"\r\n          value={absentMulti(item, \"journal\", \"dtermin\")}\r\n          onChange={onChange}\r\n          error={errors.termin}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"Pastaba\"\r\n          divClassname=\"form-group col-9\"\r\n          id=\"defect-note\"\r\n          name=\"journal.note\"\r\n          placeholder=\"Pastaba\"\r\n          value={absentMulti(item, \"journal\", \"note\")}\r\n          onChange={onChange}\r\n          error={errors.note}\r\n        />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EditForm;\r\n","import React from \"react\";\r\nimport {\r\n  getOperApar, \r\n  getHL, \r\n  getVietosKodas, \r\n  getBegis\r\n} from \"../functions\";\r\n\r\nconst InputRow = ({ ind, inputItem, setItemEdit, deleteItem, copyItem, isCurrent }) => {\r\n  const main = inputItem.main;\r\n  const journal = inputItem.journal;\r\n  return (\r\n    <tr className={isCurrent ? \"current\" : undefined}>      \r\n      <td className=\"id\">{main.id}</td>\r\n      <td className=\"meistrija vieta\">{main.meistrija}</td>\r\n      <td className=\"vk vieta\">{getVietosKodas(main)}</td>      \r\n      <td className=\"oper-apar\">{getOperApar(journal)}</td>\r\n      <td className=\"begis\">{getBegis(main)}</td>\r\n      <td className=\"data def\">{journal.data}</td>\r\n      <td className=\"kodas def\">{journal.kodas}</td>\r\n      <td className=\"hl\">{getHL(journal)}</td>\r\n      <td className=\"kkateg def\">{main.kkateg}</td>\r\n      <td className=\"pavoj def\">{journal.pavoj}</td>\r\n      <td className=\"dtermin def\">{journal.dtermin}</td>\r\n      <td className=\"note\">{journal.note}</td>\r\n\r\n      {/*<td className=\"id\">{inputItem.main.id}</td>\r\n      <td className=\"meistrija vieta\">{inputItem.main.meistrija}</td>\r\n      <td className=\"linija vieta\">{inputItem.main.linija}</td>\r\n      <td className=\"kelias vieta\">{inputItem.main.kelias}</td>\r\n      <td className=\"km text-right vieta\">{inputItem.main.km}</td>\r\n      <td className=\"pk text-right vieta\">{inputItem.main.pk}</td>\r\n      <td className=\"m text-right vieta\">{inputItem.main.m}</td>\r\n      <td className=\"siule vieta\">{inputItem.main.siule}</td>\r\n      <td className=\"btipas begis\">{inputItem.main.btipas}</td>\r\n      <td className=\"bgamykl begis\">{inputItem.main.bgamykl}</td>\r\n      <td className=\"bmetai begis\">{inputItem.main.bmetai}</td>\r\n      <td className=\"oper\">{inputItem.journal.oper}</td>\r\n      <td className=\"apar\">{inputItem.journal.apar}</td>\r\n      <td className=\"data\">{inputItem.journal.data}</td>\r\n      <td className=\"kodas def\">{inputItem.journal.kodas}</td>\r\n      <td className=\"dl text-right def\">{inputItem.journal.dl}</td>\r\n      <td className=\"dh text-right def\">{inputItem.journal.dh}</td>\r\n      <td className=\"kkateg\">{inputItem.main.kkateg}</td>\r\n      <td className=\"pavoj def\">{inputItem.journal.pavoj}</td>\r\n      <td className=\"dtermin def\">{inputItem.journal.dtermin}</td>\r\n      <td className=\"note\">{inputItem.journal.note}</td>*/}\r\n      <td>\r\n        <div className=\"button-group\">\r\n          <button\r\n            className=\"btn btn-xs btn-warning\"\r\n            data-ind={ind}\r\n            onClick={setItemEdit}\r\n          >\r\n            <i className=\"fas fa-edit\" data-ind={ind} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-xs btn-info\"\r\n            data-ind={ind}\r\n            onClick={copyItem}\r\n          >\r\n            <i className=\"fas fa-copy\" data-ind={ind} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-xs btn-danger\"\r\n            data-ind={ind}\r\n            onClick={deleteItem}\r\n          >\r\n            <i \r\n              className=\"fas fa-trash-alt\" \r\n              data-ind={ind}\r\n            />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst InputHeadRow = () => {\r\n  return (\r\n    <tr>   \r\n      <th className=\"id\">ID</th>\r\n      <th className=\"meistrija vieta\">Meistrija</th>\r\n      <th className=\"vk vieta\">Vietos kodas</th>\r\n      <th className=\"oper-apar\">Oper-Apar</th>\r\n      <th className=\"begis\">Bėgis</th>\r\n      <th className=\"data def\">Data</th>\r\n      <th className=\"kodas def\">Kodas</th>\r\n      <th className=\"hl\">H/L</th>\r\n      <th className=\"kkateg def\">KKateg</th>\r\n      <th className=\"pavoj def\">Pavoj</th>\r\n      <th className=\"dtermin def\">Terminas</th>\r\n      <th className=\"note\">Pastaba</th>\r\n      <th className=\"controls\">Controls</th>\r\n\r\n      {/*<th className=\"id\">ID</th>\r\n      <th className=\"meistrija vieta\">Meistrija</th>\r\n      <th className=\"linija vieta\">Linija</th>\r\n      <th className=\"kelias vieta\">Kelias</th>\r\n      <th className=\"km vieta\">Km</th>\r\n      <th className=\"pk vieta\">Pk</th>\r\n      <th className=\"m vieta\">M</th>\r\n      <th className=\"siule vieta\">Siūlė</th>\r\n      <th className=\"btipas begis\">BTipas</th>\r\n      <th className=\"bgamykl begis\">BGamykl</th>\r\n      <th className=\"bmetai begis\">BMetai</th>\r\n      <th className=\"oper\">Oper</th>\r\n      <th className=\"apar\">Apar</th>\r\n      <th className=\"data\">Data</th>\r\n      <th className=\"kodas def\">DKodas</th>\r\n      <th className=\"dl def\">L</th>\r\n      <th className=\"dh def\">H</th>\r\n      <th className=\"kkateg def\">KKateg</th>\r\n      <th className=\"pavoj def\">Pavoj</th>\r\n      <th className=\"dtermin def\">Terminas</th>\r\n      <th className=\"note\">Pastaba</th>\r\n      <th className=\"controls\">Controls</th>*/}\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport { InputRow, InputHeadRow };\r\n","import React from \"react\";\r\nimport TextFieldGroup from \"../../../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../../../common/SelectInputGroup\";\r\nimport {absent} from \"../../../../utils/absentProps\";\r\n\r\nconst SearchForm = ({onChange, searchInput, options, errors }) => {\r\n  \r\n  return (\r\n    <form>\r\n      <div className=\"form-group row\">\r\n        <TextFieldGroup\r\n          label=\"Linija\"\r\n          id=\"defect-search-linija\"\r\n          name=\"linija\"\r\n          placeholder=\"Linija\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.linija)}\r\n          onChange={onChange}\r\n          error={errors.linija}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <TextFieldGroup\r\n          label=\"Kelias\"\r\n          id=\"defect-search-kelias\"\r\n          name=\"kelias\"\r\n          placeholder=\"kelias\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.kelias)}\r\n          onChange={onChange}\r\n          error={errors.kelias}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <TextFieldGroup\r\n          label=\"km\"\r\n          id=\"defect-search-km\"\r\n          name=\"km\"\r\n          placeholder=\"km\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.km)}\r\n          onChange={onChange}\r\n          error={errors.km}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <TextFieldGroup\r\n          label=\"pk\"\r\n          id=\"defect-search-pk\"\r\n          name=\"pk\"\r\n          placeholder=\"pk\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.pk)}\r\n          onChange={onChange}\r\n          error={errors.pk}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <TextFieldGroup\r\n          label=\"m\"\r\n          id=\"defect-search-m\"\r\n          name=\"m\"\r\n          placeholder=\"m\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.m)}\r\n          onChange={onChange}\r\n          error={errors.m}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <SelectInputGroup\r\n          id=\"defect-search-siule\"\r\n          name=\"siule\"\r\n          label=\"Siūlė\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.siule)}\r\n          options={options.siule}\r\n          onChange={onChange}\r\n          error={errors.siule}\r\n        />\r\n      </div> \r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchForm;\r\n","import React from \"react\";\r\n\r\nconst FoundItemRow = ({ ind, foundItem, setItemEdit }) => {\r\n  return (\r\n    <tr>\r\n      <td className=\"id\">{foundItem.id}</td>\r\n      <td className=\"meistrija vt\">{foundItem.meistrija}</td>\r\n      <td className=\"kkateg\">{foundItem.kkateg}</td>\r\n      <td className=\"btipas begis\">{foundItem.btipas}</td>\r\n      <td className=\"bgamykl begis\">{foundItem.bgamykl}</td>\r\n      <td className=\"bmetai begis\">{foundItem.bmetai}</td>\r\n      <td className=\"linija vt\">{foundItem.linija}</td>\r\n      <td className=\"kelias vt\">{foundItem.kelias}</td>\r\n      <td className=\"km vt\">{foundItem.km}</td>\r\n      <td className=\"pk vt\">{foundItem.pk}</td>\r\n      <td className=\"m vt\">{foundItem.m}</td>\r\n      <td className=\"siule vt\">{foundItem.siule}</td>\r\n      <td className=\"data\">{foundItem.data}</td>\r\n      <td className=\"kodas def\">{foundItem.kodas}</td>\r\n      <td className=\"dl def\">{foundItem.dl}</td>\r\n      <td className=\"dh def\">{foundItem.dh}</td>\r\n      <td className=\"pavoj def\">{foundItem.pavoj}</td>\r\n      <td className=\"dtermin def\">{foundItem.dtermin}</td>\r\n      <td className=\"note\">{foundItem.note}</td>\r\n      <td>\r\n        <div className=\"button-group\">\r\n          <button\r\n            className=\"btn btn-xs btn-warning\"\r\n            data-ind={ind}\r\n            onClick={setItemEdit}\r\n          >\r\n            <i className=\"fas fa-edit\" data-ind={ind} />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst SearchHeadRow = () => {\r\n  return (\r\n    <tr>\r\n      <th className=\"id\">ID</th>\r\n      <th className=\"meistrija vt\">Meistrija</th>\r\n      <th className=\"kkateg\">KKateg</th>\r\n      <th className=\"btipas begis\">BTipas</th>\r\n      <th className=\"bgamykl begis\">BGamykl</th>\r\n      <th className=\"bmetai begis\">BMetai</th>\r\n      <th className=\"linija vt\">Linija</th>\r\n      <th className=\"kelias vt\">Kelias</th>\r\n      <th className=\"km vt\">Km</th>\r\n      <th className=\"pk vt\">Pk</th>\r\n      <th className=\"m vt\">M</th>\r\n      <th className=\"siule vt\">Siūlė</th>\r\n      <th className=\"data\">Data</th>\r\n      <th className=\"kodas def\">DKodas</th>\r\n      <th className=\"dl def\">DL</th>\r\n      <th className=\"dh def\">DH</th>\r\n      <th className=\"pavoj def\">DPavoj</th>\r\n      <th className=\"dtermin def\">Terminas</th>\r\n      <th className=\"note\">Pastaba</th>\r\n      <th className=\"controls\">Controls</th>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport { FoundItemRow, SearchHeadRow };\r\n","  \r\nimport { createOptions } from \"../../../createOptions\";\r\n  \r\nconst options = (things) => ({\r\n  meistrija: createOptions(\r\n    things.meistrija.sort((m1, m2) => m1.ind - m2.ind),\r\n    \"-- nenurodyta --\",\r\n    x => x.abbr + \", \" + x.name\r\n  ),\r\n  kkateg: createOptions(\r\n    things.kkateg,\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  btipas: createOptions(\r\n    things.btipas,\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  bgamykl: createOptions(\r\n    things.bgamykl,\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  siule: createOptions(\r\n    things.siule,\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  pavoj: createOptions(\r\n    things.pavoj.sort((p1, p2) => p1.ind - p2.ind),\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  apar: createOptions(\r\n    things.defskop.sort((d1, d2) => d1.id - d2.id),\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  oper: createOptions(\r\n    things.operat.sort((o1, o2) => o1.name - o2.name),\r\n    \"-- nenurodyta --\",\r\n    x => x.id + \", \" + x.name\r\n  )\r\n});\r\n\r\nexport default options;","export const main = {\r\n  id: {type: 'integer', label: \"id\"}, // insert - generates automatically, update - if wrong doesnt find\r\n  v: {type: 'integer', label: \"versija\"}, // insert - generates automatically, update - if wrong doesnt update or updates the item which has been updated by someone other\r\n  id1: {type: 'integer', validator: \"isNegative\", label: \"ID1\"},\r\n  regbit: {type: 'integer', validator: \"isNegative\", label: \"regiono bitas\"}, // is set by the server  \r\n  meistrija: {type: 'string', required: true, validator: \"isEmptyString\", label: \"meistrija\"},\r\n  linija: {type: 'string', required: true, validator: \"isEmptyString\", label: \"linija\"},\r\n  kelias: {type: 'string', required: true, validator: \"isEmptyString\", label: \"kelias\"},\r\n  km: {type: 'integer', required: true, validator: \"isNegative\", label: \"km\"},\r\n  pk: {type: 'integer', required: true, validator: \"isNegative\", label: \"pk\"},\r\n  m: {type: 'integer', required: true, validator: \"isNegative\", label: \"m\"},\r\n  siule: {type: 'string', label: \"siūlė\"},\r\n  kkateg: {type: 'string', required: true, validator: \"isEmptyString\", label: \"kelio kategorija\"},\r\n  btipas: {type: 'string', required: true, validator: \"isEmptyString\", label: \"bėgio tipas\"},\r\n  bgamykl: {type: 'string', required: true, validator: \"isEmptyString\", label: \"bėgio gamykla\"},\r\n  bmetai: {type: 'integer', required: true, validator: \"isNotYear\", label: \"bėgio pagaminimo metai\"},\r\n  dstop: {type: 'string', validator: \"isNeitherEmptyStringNorShortDate\", label: \"pašalinimo data\"}\r\n};\r\n\r\nexport const journal = {\r\n  jid: {type: 'integer', label: \"id\"},\r\n  data: {type: 'string', required: true, validator: \"isNotShortDate\", label: \"įrašo data\"},\r\n  kodas: {type: 'string', required: true, validator: \"isEmptyString\", label: \"defekto kodas\"},\r\n  dl: {type: 'number', validator: \"isNegative\", label: \"defekto dydis L\"},\r\n  dh: {type: 'number', validator: \"isNegative\", label: \"defekto dydis H\"},\r\n  pavoj: {type: 'string', required: true, validator: \"isEmptyString\", label: \"pavojingumo laipsnis\"},\r\n  oper: {type: 'string', required: true, validator: \"isEmptyString\", label: \"operatoriaus kodas\"},\r\n  apar: {type: 'string', required: true, validator: \"isEmptyString\", label: \"defektoskopo kodas\"},\r\n  dtermin: {type: 'string', validator: \"isNeitherEmptyStringNorShortDate\", label: \"pašalinimo terminas\"},\r\n  note: {type: 'string', validator: \"wrongLength\", params: {min: 0, max: 255}, label: \"pastaba\"},\r\n  mainid: {type: 'integer', label: 'main id'}\r\n};","import React from \"react\";\r\nimport ActionSelector from \"../ActionSelector\";\r\nimport {\r\n  getDTString, \r\n  getValidationString, \r\n  getOperApar,\r\n  getVietosKodas,\r\n} from \"../functions\";\r\n\r\nconst PrimaryRow = ({ item, ind, changeAction, setEdit }) => {\r\n  const main = item.main;\r\n  const journal = item.journal;\r\n  return (\r\n    <tr className=\"approve-primary-row\">\r\n      <td className=\"vbudas\">{main.vbudas}</td>\r\n      <td className=\"vk vieta\">{getVietosKodas(main)}</td> \r\n      <td className=\"data def\">{journal.data}</td>\r\n      <td className=\"pvd def\">{journal.pvd}</td>     \r\n      <td className=\"oper-apar\">{getOperApar(journal)}</td>\r\n      <td className=\"controls\">\r\n        <button\r\n          className=\"btn btn-xs btn-light\"\r\n          data-ind={ind}\r\n          onClick={setEdit}\r\n        >\r\n          <i className=\"fas fa-edit\" data-ind={ind} />\r\n        </button>\r\n        <ActionSelector \r\n          action={item.action}\r\n          ind={ind}\r\n          changeAction={changeAction}\r\n        />\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst SecondaryRow = ({ item }) => {\r\n  const main = item.main;\r\n  const journal = item.journal;\r\n  return (\r\n    <tr className=\"approve-secondary-row\">\r\n      <td className=\"supplied-by\">{item.oper}</td>\r\n      <td className=\"supplied-when\">{getDTString(item.timestamp)}</td>\r\n      <td className=\"id\">{main.id}</td>\r\n      <td className=\"virino\">{main.virino}</td>\r\n      <td className=\"data0\">{main.data0}</td>\r\n      <td className=\"note\">\r\n        {journal.note}\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst ValidationRow = ({ item }) => {\r\n  if (!item.validation) return null;\r\n  return (\r\n    <tr className=\"approve-validation-row\">\r\n      <td className=\"pastaba\" colSpan=\"6\">\r\n        {getValidationString(item.validation)}\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nconst SingleRow = ({\r\n  item,\r\n  ind,\r\n  changeAction,\r\n  setEdit\r\n}) => {\r\n  return (\r\n    <React.Fragment>\r\n      <PrimaryRow\r\n        item={item}\r\n        ind={ind}\r\n        changeAction={changeAction}\r\n        setEdit={setEdit}\r\n      />\r\n      <SecondaryRow item={item} />\r\n      <ValidationRow item={item} />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nconst HeadRow = () => {\r\n  return (\r\n    <thead>\r\n      <tr className=\"approve-primary-row\">\r\n        <th className=\"vbudas\">Virinimo būdas</th>\r\n        <th className=\"vk vieta\">Vietos kodas</th>\r\n        <th className=\"data\">Data</th>\r\n        <th className=\"pvd\">Pavadinimas</th>\r\n        <th className=\"oper-apar\">Oper-Apar</th>\r\n        <th className=\"controls\">Actions</th>\r\n      </tr>\r\n      <tr className=\"approve-secondary-row\">\r\n        <th className=\"supplied-by\">Pateikė</th>\r\n        <th className=\"supplied-when\">Kada</th>\r\n        <th className=\"id\">ID</th>\r\n        <th className=\"virino\">Kas virino</th>\r\n        <th className=\"data0\">Virinimo data</th>\r\n        <th className=\"note\">Pastaba</th>\r\n      </tr>\r\n    </thead>\r\n  );\r\n};\r\n\r\nexport { SingleRow, HeadRow };\r\n","import React from \"react\";\r\nimport TextFieldGroup from \"../../../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../../../common/SelectInputGroup\";\r\nimport Alert from \"../../../common/Alert\";\r\nimport {absentMulti} from \"../../../../utils/absentProps\";\r\n\r\nconst EditForm = ({ item, onChange, options, errors }) => {\r\n  //console.log(\"item in EditForm\", item);\r\n  //console.log(\"absent meistrija\", absentMulti(item, \"main\", \"meistrija\"));\r\n  const edit = item && item.main && item.main.id > 0;\r\n  \r\n  return (\r\n    <form>\r\n      {errors.common && <Alert message={errors.common} type=\"error\" />}\r\n      <div className=\"form-group row general-data text-center\">\r\n        <SelectInputGroup\r\n          id=\"welding-vbudas\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"main.vbudas\"\r\n          label=\"Virinimo būdas\"\r\n          value={absentMulti(item, \"main\", \"vbudas\")}\r\n          options={options.vbudas}\r\n          onChange={onChange}\r\n          disabled={edit}\r\n          error={errors.vbudas}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"welding-virino\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"main.virino\"\r\n          label=\"Kas virino\"\r\n          value={absentMulti(item, \"main\", \"virino\")}\r\n          options={options.virino}\r\n          onChange={onChange}\r\n          disabled={edit}\r\n          error={errors.virino}\r\n        />\r\n        <TextFieldGroup\r\n          divClassname=\"form-group col-4\"\r\n          type=\"date\"\r\n          label=\"Virinimo data\"\r\n          id=\"welding-data0\"\r\n          name=\"main.data0\"\r\n          value={absentMulti(item, \"main\", \"data0\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.data0}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group row vieta text-center\">\r\n        <TextFieldGroup\r\n          label=\"Linija\"\r\n          divClassname=\"form-group col-4\"\r\n          id=\"welding-linija\"\r\n          name=\"main.linija\"\r\n          placeholder=\"Linija\"\r\n          value={absentMulti(item, \"main\", \"linija\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.linija}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"Kelias\"\r\n          divClassname=\"form-group col-4\"\r\n          id=\"welding-kelias\"\r\n          name=\"main.kelias\"\r\n          placeholder=\"Kelio Nr.\"\r\n          value={absentMulti(item, \"main\", \"kelias\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.kelias}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"km\"\r\n          divClassname=\"form-group col-4\"\r\n          id=\"welding-km\"\r\n          name=\"main.km\"\r\n          placeholder=\"km\"\r\n          value={absentMulti(item, \"main\", \"km\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.km}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"pk\"\r\n          divClassname=\"form-group col-4\"\r\n          id=\"welding-pk\"\r\n          name=\"main.pk\"\r\n          placeholder=\"pk\"\r\n          value={absentMulti(item, \"main\", \"pk\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.pk}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"m\"\r\n          divClassname=\"form-group col-4\"\r\n          id=\"welding-m\"\r\n          name=\"main.m\"\r\n          placeholder=\"m\"\r\n          value={absentMulti(item, \"main\", \"m\")}\r\n          onChange={onChange}\r\n          readonly={edit}\r\n          error={errors.m}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"welding-siule\"\r\n          divClassname=\"form-group col-4\"\r\n          name=\"main.siule\"\r\n          label=\"Siūlė\"\r\n          value={absentMulti(item, \"main\", \"siule\")}\r\n          options={options.siule}\r\n          onChange={onChange}\r\n          disabled={edit}\r\n          error={errors.siule}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row specific-data text-center\">\r\n        <TextFieldGroup\r\n          label=\"Data\"\r\n          divClassname=\"form-group col-4\"\r\n          type=\"date\"\r\n          id=\"welding-data\"\r\n          name=\"journal.data\"\r\n          value={absentMulti(item, \"journal\", \"data\")}\r\n          onChange={onChange}\r\n          error={errors.data}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"welding-oper\"\r\n          name=\"journal.oper\"\r\n          label=\"Operatorius\"\r\n          divClassname=\"form-group col-4\"\r\n          value={absentMulti(item, \"journal\", \"oper\")}\r\n          options={options.oper}\r\n          onChange={onChange}\r\n          error={errors.oper}\r\n        />\r\n        <SelectInputGroup\r\n          id=\"welding-apar\"\r\n          name=\"journal.apar\"\r\n          label=\"Defektoskopas\"\r\n          divClassname=\"form-group col-4\"\r\n          value={absentMulti(item, \"journal\", \"apar\")}\r\n          options={options.apar}\r\n          onChange={onChange}\r\n          error={errors.apar}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row description text-center\">\r\n        <SelectInputGroup\r\n          id=\"welding-pvd\"\r\n          name=\"journal.pvd\"\r\n          label=\"Tikrinimo pavadinimas\"\r\n          divClassname=\"form-group col-3\"\r\n          value={absentMulti(item, \"journal\", \"pvd\")}\r\n          options={options.vpvd}\r\n          onChange={onChange}\r\n          error={errors.pvd}\r\n        />\r\n        <TextFieldGroup\r\n          label=\"Pastaba\"\r\n          divClassname=\"form-group col-9\"\r\n          id=\"welding-note\"\r\n          name=\"journal.note\"\r\n          placeholder=\"Pastaba\"\r\n          value={absentMulti(item, \"journal\", \"note\")}\r\n          onChange={onChange}\r\n          error={errors.note}\r\n        />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default EditForm;\r\n","import React from \"react\";\r\nimport {\r\n  getOperApar,\r\n  getVietosKodas\r\n} from \"../functions\";\r\n\r\nconst InputRow = ({ ind, inputItem, setItemEdit, deleteItem, copyItem, isCurrent }) => {\r\n  const main = inputItem.main;\r\n  const journal = inputItem.journal;\r\n  return (\r\n    <tr className={isCurrent ? \"current\" : undefined}>      \r\n      <td className=\"id\">{main.id}</td>\r\n      <td className=\"vbudas\">{main.vbudas}</td>\r\n      <td className=\"data0\">{main.data0}</td>  \r\n      <td className=\"vk vieta\">{getVietosKodas(main)}</td>  \r\n      <td className=\"virino\">{main.virino}</td>\r\n      <td className=\"data\">{journal.data}</td> \r\n      <td className=\"oper-apar\">{getOperApar(journal)}</td>\r\n      <td className=\"pvd\">{journal.pvd}</td>\r\n      <td className=\"note\">{journal.note}</td>\r\n      <td>\r\n        <div className=\"button-group\">\r\n          <button\r\n            className=\"btn btn-xs btn-warning\"\r\n            data-ind={ind}\r\n            onClick={setItemEdit}\r\n          >\r\n            <i className=\"fas fa-edit\" data-ind={ind} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-xs btn-info\"\r\n            data-ind={ind}\r\n            onClick={copyItem}\r\n          >\r\n            <i className=\"fas fa-copy\" data-ind={ind} />\r\n          </button>\r\n          <button\r\n            className=\"btn btn-xs btn-danger\"\r\n            data-ind={ind}\r\n            onClick={deleteItem}\r\n          >\r\n            <i \r\n              className=\"fas fa-trash-alt\" \r\n              data-ind={ind}\r\n            />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst InputHeadRow = () => {\r\n  return (\r\n    <tr>   \r\n      <th className=\"id\">ID</th>\r\n      <th className=\"vbudas\">Būdas</th>\r\n      <th className=\"data0\">Virinimo data</th>\r\n      <th className=\"vk vieta\">Vietos kodas</th>\r\n      <th className=\"virino\">Kas virino</th>\r\n      <th className=\"data\">Tikrinimo data</th>\r\n      <th className=\"oper-apar\">Oper-Apar</th>\r\n      <th className=\"pvd\">Pavadinimas</th>\r\n      <th className=\"note\">Pastaba</th>\r\n      <th className=\"controls\">Controls</th>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport { InputRow, InputHeadRow };\r\n","import React from \"react\";\r\nimport TextFieldGroup from \"../../../common/TextFieldGroup\";\r\nimport SelectInputGroup from \"../../../common/SelectInputGroup\";\r\nimport {absent} from \"../../../../utils/absentProps\";\r\n\r\nconst SearchForm = ({onChange, searchInput, options, errors }) => {\r\n  \r\n  return (\r\n    <form>\r\n      <div className=\"form-group row\">      \r\n        <SelectInputGroup\r\n          id=\"welding-search-vbudas\"\r\n          name=\"vbudas\"\r\n          label=\"Virinimo būdas\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.vbudas)}\r\n          options={options.vbudas}\r\n          onChange={onChange}\r\n          error={errors.vbudas}\r\n        />\r\n      </div> \r\n      <div className=\"form-group row\">\r\n        <TextFieldGroup\r\n          label=\"Linija\"\r\n          id=\"welding-search-linija\"\r\n          name=\"linija\"\r\n          placeholder=\"Linija\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.linija)}\r\n          onChange={onChange}\r\n          error={errors.linija}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <TextFieldGroup\r\n          label=\"Kelias\"\r\n          id=\"welding-search-kelias\"\r\n          name=\"kelias\"\r\n          placeholder=\"kelias\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.kelias)}\r\n          onChange={onChange}\r\n          error={errors.kelias}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <TextFieldGroup\r\n          label=\"km\"\r\n          id=\"welding-search-km\"\r\n          name=\"km\"\r\n          placeholder=\"km\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.km)}\r\n          onChange={onChange}\r\n          error={errors.km}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <TextFieldGroup\r\n          label=\"pk\"\r\n          id=\"welding-search-pk\"\r\n          name=\"pk\"\r\n          placeholder=\"pk\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.pk)}\r\n          onChange={onChange}\r\n          error={errors.pk}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <TextFieldGroup\r\n          label=\"m\"\r\n          id=\"welding-search-m\"\r\n          name=\"m\"\r\n          placeholder=\"m\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.m)}\r\n          onChange={onChange}\r\n          error={errors.m}\r\n        />\r\n      </div>\r\n      <div className=\"form-group row\">      \r\n        <SelectInputGroup\r\n          id=\"welding-search-siule\"\r\n          name=\"siule\"\r\n          label=\"Siūlė\"\r\n          classname=\"form-group col-12\"\r\n          value={absent(searchInput.siule)}\r\n          options={options.siule}\r\n          onChange={onChange}\r\n          error={errors.siule}\r\n        />\r\n      </div> \r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchForm;\r\n","import React from \"react\";\r\n\r\nconst FoundItemRow = ({ ind, foundItem, setItemEdit }) => {\r\n  return (\r\n    <tr>\r\n      <td className=\"id\">{foundItem.id}</td>\r\n      <td className=\"vbudas\">{foundItem.vbudas}</td>\r\n      <td className=\"data0\">{foundItem.data0}</td>\r\n      <td className=\"virino\">{foundItem.virino}</td>\r\n      <td className=\"linija vt\">{foundItem.linija}</td>\r\n      <td className=\"kelias vt\">{foundItem.kelias}</td>\r\n      <td className=\"km vt\">{foundItem.km}</td>\r\n      <td className=\"pk vt\">{foundItem.pk}</td>\r\n      <td className=\"m vt\">{foundItem.m}</td>\r\n      <td className=\"siule vt\">{foundItem.siule}</td>\r\n      <td className=\"data\">{foundItem.data}</td>\r\n      <td className=\"pvd\">{foundItem.pvd}</td>\r\n      <td className=\"note\">{foundItem.note}</td>\r\n      <td>\r\n        <div className=\"button-group\">\r\n          <button\r\n            className=\"btn btn-xs btn-warning\"\r\n            data-ind={ind}\r\n            onClick={setItemEdit}\r\n          >\r\n            <i className=\"fas fa-edit\" data-ind={ind} />\r\n          </button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nconst SearchHeadRow = () => {\r\n  return (\r\n    <tr>\r\n      <th className=\"id\">ID</th>\r\n      <th className=\"vbudas\">Būdas</th>\r\n      <th className=\"data0\">Virinimo data</th>\r\n      <th className=\"virino\">Kas virino</th>\r\n      <th className=\"linija vt\">Linija</th>\r\n      <th className=\"kelias vt\">Kelias</th>\r\n      <th className=\"km vt\">Km</th>\r\n      <th className=\"pk vt\">Pk</th>\r\n      <th className=\"m vt\">M</th>\r\n      <th className=\"siule vt\">Siūlė</th>\r\n      <th className=\"data\">Tikrinimo Data</th>\r\n      <th className=\"pvd\">Pavadinimas</th>\r\n      <th className=\"note\">Pastaba</th>\r\n      <th className=\"controls\">Controls</th>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport { FoundItemRow, SearchHeadRow };\r\n","  \r\nimport { createOptions } from \"../../../createOptions\";\r\n  \r\nconst options = (things) => ({\r\n  vbudas: createOptions(\r\n    things.vbudas.sort((m1, m2) => m1.ind - m2.ind),\r\n    \"-- nenurodyta --\",\r\n    x => x.id + \", \" + x.name\r\n  ),\r\n  virino: createOptions(\r\n    things.virino,\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  vpvd: createOptions(\r\n    things.vpvd,\r\n    \"-- nenurodyta --\",        \r\n    x => x.pvdname,\r\n    x => x.pvdid,\r\n    x => x.pvdid\r\n  ),\r\n  siule: createOptions(\r\n    things.siule,\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  apar: createOptions(\r\n    things.defskop.sort((d1, d2) => d1.id - d2.id),\r\n    \"-- nenurodyta --\",\r\n    x => x.id\r\n  ),\r\n  oper: createOptions(\r\n    things.operat.sort((o1, o2) => o1.name - o2.name),\r\n    \"-- nenurodyta --\",\r\n    x => x.id + \", \" + x.name\r\n  )\r\n});\r\n\r\nexport default options;","import * as iTypes from \"../../itypes\";\r\n\r\nimport * as defectApproveRow from \"./specific/defects/ApproveRow\";\r\nimport * as defectForm from \"./specific/defects/EditForm\";\r\nimport * as defectInputRow from \"./specific/defects/InputRow\";\r\nimport * as defectSearchForm from \"./specific/defects/SearchForm\";\r\nimport * as defectSearchResultRow from \"./specific/defects/SearchResultRow\";\r\nimport defectOptions from \"./specific/defects/options\";\r\nimport * as defectModel from \"./specific/defects/model\";\r\n\r\nimport * as weldingApproveRow from \"./specific/weldings/ApproveRow\";\r\nimport * as weldingForm from \"./specific/weldings/EditForm\";\r\nimport * as weldingInputRow from \"./specific/weldings/InputRow\";\r\nimport * as weldingSearchForm from \"./specific/weldings/SearchForm\";\r\nimport * as weldingSearchResultRow from \"./specific/weldings/SearchResultRow\";\r\nimport weldingOptions from \"./specific/weldings/options\";\r\nimport * as weldingModel from \"./specific/weldings/model\";\r\n\r\n\r\nexport default {\r\n  [iTypes.defect]: {\r\n        approveRow: defectApproveRow,\r\n        inputForm: defectForm,\r\n        iApproveEditForm: defectForm,\r\n        inputRow: defectInputRow,\r\n        searchForm: defectSearchForm,\r\n        searchResultRow: defectSearchResultRow,\r\n        model: defectModel,\r\n        options: defectOptions\r\n      },\r\n  [iTypes.welding]: {\r\n        approveRow: weldingApproveRow,\r\n        inputForm: weldingForm,\r\n        iApproveEditForm: weldingForm,\r\n        inputRow: weldingInputRow,\r\n        searchForm: weldingSearchForm,\r\n        searchResultRow: weldingSearchResultRow,\r\n        model: weldingModel,\r\n        options: weldingOptions\r\n      },\r\n};","import React from 'react';\r\nimport itemSpecific from \"./itemSpecific\";\r\nimport Alert from \"../common/Alert\";\r\n\r\nconst InputPanel = ({inputItems, itype, newInputHandler, sendHandler, clearHandler, setItemEditHandler, deleteItemHandler, copyInputHandler, currentId, info, hideInfo}) => {\r\n  \r\n  const InputRow = itemSpecific[itype].inputRow.InputRow;\r\n  const InputHeadRow = itemSpecific[itype].inputRow.InputHeadRow;\r\n    \r\n  const inputRows = inputItems.map((iItem, ind) => \r\n    <InputRow\r\n      ind={ind}\r\n      inputItem={iItem} \r\n      setItemEdit={setItemEditHandler}\r\n      deleteItem={deleteItemHandler}\r\n      copyItem={copyInputHandler}\r\n      key={iItem.main.id}\r\n      isCurrent={currentId && iItem.main.id === currentId}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <div className=\"container-fluid oper-input-panel\">\r\n      {info &&\r\n      <div className=\"row info-row\">\r\n        <div className=\"col-12\">\r\n          <Alert \r\n            message={info.message} \r\n            type={info.type} \r\n            hide={hideInfo}\r\n          />\r\n        </div>\r\n      </div>}\r\n      <div className=\"row table-row\">\r\n        <div className=\"col-12\">\r\n          <table className=\"table table-sm table-striped table-bordered items\">\r\n            <thead><InputHeadRow /></thead>\r\n            <tbody>{inputRows}</tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <div className=\"row button-row\">  \r\n        <div className=\"col-12\">    \r\n          <button type=\"button\" className=\"btn btn-primary\" onClick={newInputHandler}>\r\n            New Input\r\n          </button>      \r\n          <button type=\"button\" className=\"btn btn-secondary\" onClick={sendHandler}>\r\n            Send\r\n          </button>\r\n          <button type=\"button\" className=\"btn btn-warning\" onClick={clearHandler}>\r\n            Clear\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InputPanel;","import React from 'react';\r\nimport itemSpecific from \"./itemSpecific\";\r\nimport Alert from \"../common/Alert\";\r\n\r\nconst SearchPanel = ({foundItems, itype, setItemEditHandler, newSearchHandler, info, hideInfo}) => {\r\n  \r\n  const SearchHeadRow = itemSpecific[itype].searchResultRow.SearchHeadRow;\r\n  const FoundItemRow = itemSpecific[itype].searchResultRow.FoundItemRow;\r\n  \r\n  const foundItemRows = foundItems.map((fItem, ind) => \r\n    <FoundItemRow\r\n      ind={ind}\r\n      foundItem={fItem} \r\n      setItemEdit={setItemEditHandler}\r\n      key={fItem.id}\r\n    />\r\n  );\r\n\r\n  return (\r\n    <div className=\"container search-panel\">\r\n      {info &&\r\n      <div className=\"row info-row\">\r\n        <div className=\"col-12\">\r\n          <Alert \r\n            message={info.message} \r\n            type={info.type}\r\n            hide={hideInfo} \r\n          />\r\n        </div>\r\n      </div>}\r\n      <div className=\"row button-row\">  \r\n        <div className=\"col-12\"> \r\n          <button type=\"button\" className=\"btn btn-warning\" onClick={newSearchHandler}>\r\n            New Search\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"row table-row\">\r\n        <div className=\"col-12\">\r\n          <table className=\"table table-sm table-striped table-bordered items\">\r\n            <thead><SearchHeadRow /></thead>\r\n            <tbody>{foundItemRows}</tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchPanel;","import React from 'react';\r\n\r\nconst ModalFormPanel = ({body, title, submitHandler, cancelHandler, purpose, show}) => {\r\n\r\n  return (\r\n    <div \r\n      className={\"operinput my-modal \" + purpose} \r\n      style={show ? {display: \"block\"} : {display: \"none\"}} \r\n      id=\"form-panel\" tabIndex=\"-1\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\"> \r\n            <h5 className=\"modal-title\" id=\"modal-title\">{title}</h5>\r\n            <button type=\"button\" className=\"reject-button\" onClick={cancelHandler}>\r\n              &times;\r\n            </button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            {body}\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button type=\"button\" className=\"btn btn-secondary\" onClick={cancelHandler}>\r\n              Close\r\n            </button>\r\n            <button type=\"button\" className=\"btn btn-danger\" onClick={submitHandler}>\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ModalFormPanel;","const getDTString = timestamp =>\r\n  new Date(timestamp).toLocaleString(\"lt-LT\").slice(0, -3);\r\n\r\nconst addSupplied = (obj, oper, timestamp) => ({\r\n  ...obj,\r\n  supplied: { by: oper, when: getDTString(timestamp) }\r\n});\r\n\r\nconst parseArray = {\r\n  supplied: rec =>\r\n    JSON.parse(rec.input).map(item =>\r\n      addSupplied(item, rec.oper, rec.timestamp)\r\n    ),\r\n\r\n  unapproved: rec => JSON.parse(rec.input)\r\n};\r\n\r\nconst unpack = (data, which) => {\r\n  const getParsedArray = parseArray[which];\r\n  return data.reduce((acc, rec) => acc.concat(getParsedArray(rec)), []);\r\n};\r\n\r\nexport { unpack };\r\n","import axios from \"axios\";\r\nimport {\r\n  UNAPPROVED_FETCH_BEGIN,\r\n  UNAPPROVED_FETCH_SUCCESS,\r\n  UNAPPROVED_FETCH_FAILURE,\r\n  OPERINPUT_SUPPLY_BEGIN,\r\n  OPERINPUT_SUPPLY_SUCCESS,\r\n  OPERINPUT_SUPPLY_FAILURE,\r\n  OPERINPUT_ITEMS_SEARCH_BEGIN,\r\n  OPERINPUT_ITEMS_SEARCH_SUCCESS,\r\n  OPERINPUT_ITEMS_SEARCH_FAILURE,\r\n  OPERINPUT_CLEAR,\r\n  OPERINPUT_CLEAR_FOUND,\r\n  OPERINPUT_INFO_REMOVE,\r\n  OPERINPUT_SEARCH_INFO_REMOVE,\r\n  OPERINPUT_SET_ITEMS\r\n} from \"./types\";\r\nimport { unpack } from \"./functions/unpack\";\r\n\r\nexport const setItems = items => dispatch => {\r\n  dispatch({ type: OPERINPUT_SET_ITEMS, payload: { items } });\r\n};\r\n\r\nexport const removeInfo = () => dispatch => {\r\n  dispatch({ type: OPERINPUT_INFO_REMOVE });\r\n};\r\n\r\nexport const removeSearchInfo = () => dispatch => {\r\n  dispatch({ type: OPERINPUT_SEARCH_INFO_REMOVE });\r\n};\r\n\r\nconst unapprovedFetchBegin = () => ({\r\n  type: UNAPPROVED_FETCH_BEGIN\r\n});\r\n\r\nconst unapprovedFetchSuccess = items => ({\r\n  type: UNAPPROVED_FETCH_SUCCESS,\r\n  payload: { items }\r\n});\r\n\r\nconst unapprovedFetchFailure = errormsg => ({\r\n  type: UNAPPROVED_FETCH_FAILURE,\r\n  payload: { errormsg }\r\n});\r\n\r\nexport const fetchUnapprovedOperInput = itype => dispatch => {\r\n  dispatch(unapprovedFetchBegin());\r\n  const paramsObj = { params: { itype } };\r\n  axios\r\n    .get(\"/api/operinput/unapproved\", paramsObj)\r\n    .then(res => {\r\n      //console.log(\"unapproved response\", res.data);\r\n      const parsed = unpack(res.data, \"unapproved\");\r\n      //console.log(\"unapproved parsed\", parsed);\r\n      dispatch(unapprovedFetchSuccess(parsed));\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n      dispatch(unapprovedFetchFailure(err.message));\r\n    });\r\n};\r\n\r\nconst searchItemsBegin = () => ({\r\n  type: OPERINPUT_ITEMS_SEARCH_BEGIN\r\n});\r\n\r\nconst searchItemsSuccess = items => ({\r\n  type: OPERINPUT_ITEMS_SEARCH_SUCCESS,\r\n  payload: { items }\r\n});\r\n\r\nconst searchItemsFailure = (msg, type) => ({\r\n  type: OPERINPUT_ITEMS_SEARCH_FAILURE,\r\n  payload: { msg, type }\r\n});\r\n\r\nexport const searchItems = (itype, filter) => dispatch => {\r\n  dispatch(removeSearchInfo());\r\n  dispatch(searchItemsBegin());\r\n  axios\r\n    .get(\"/api/items/search/location\", { params: { itype, ...filter } })\r\n    .then(res => {\r\n      dispatch(searchItemsSuccess(res.data));\r\n    })\r\n    .catch(err => {\r\n      let msg;\r\n      let type = \"error\";\r\n      if (err.response && err.response.data) {\r\n        if (err.response.data.ok) type = \"info\";\r\n        msg = err.response.data.msg;\r\n      } else {\r\n        console.error(err);\r\n        msg = err.toString();\r\n      }\r\n      dispatch(searchItemsFailure(msg, type));\r\n    });\r\n};\r\n\r\nconst operInputSupplyBegin = () => ({\r\n  type: OPERINPUT_SUPPLY_BEGIN\r\n});\r\n\r\nconst operInputSupplySuccess = () => ({\r\n  type: OPERINPUT_SUPPLY_SUCCESS\r\n});\r\n\r\nconst operInputSupplyFailure = errormsg => ({\r\n  type: OPERINPUT_SUPPLY_FAILURE,\r\n  payload: { errormsg }\r\n});\r\n\r\nexport const supplyOperInput = (input, itype) => dispatch => {\r\n  dispatch(operInputSupplyBegin());\r\n  axios\r\n    .post(\"/api/operinput/supply\", { input, itype })\r\n    .then(res => {\r\n      dispatch(operInputSupplySuccess());\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n      dispatch(operInputSupplyFailure(err.message));\r\n    });\r\n};\r\n\r\nexport const clearOperInput = () => dispatch => {\r\n  dispatch({ type: OPERINPUT_CLEAR });\r\n};\r\n\r\nexport const clearFound = () => dispatch => {\r\n  dispatch({type: OPERINPUT_CLEAR_FOUND});\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport IsLoading from \"../common/IsLoading\";\r\nimport InputPanel from \"./InputPanel\";\r\nimport SearchPanel from \"./SearchPanel\";\r\nimport ModalFormPanel from \"./ModalFormPanel\";\r\nimport {\r\n  fetchUnapprovedOperInput,\r\n  setItems,\r\n  searchItems,\r\n  supplyOperInput,\r\n  clearOperInput,\r\n  clearFound,\r\n  removeInfo,\r\n  removeSearchInfo\r\n} from \"../../actions/operInputActions\";\r\nimport itemSpecific from \"./itemSpecific\";\r\nimport { splitMainJournalClear, samePlace } from \"./specific/functions\";\r\n\r\nclass OperInputSupply extends Component {\r\n  #options;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentInput: {},\r\n      inputItemErrors: {},\r\n      showInputModal: false,\r\n      searchInput: {},\r\n      searchInputErrors: {},\r\n      showSearchModal: false\r\n    };\r\n\r\n    this.changeInputItem = this.changeInputItem.bind(this);\r\n    this.startNewInput = this.startNewInput.bind(this);\r\n    this.submitRecord = this.submitRecord.bind(this);\r\n    this.cancelEditRecord = this.cancelEditRecord.bind(this);\r\n    this.clearCurrentRecord = this.clearCurrentRecord.bind(this);\r\n    this.changeSearchInput = this.changeSearchInput.bind(this);\r\n    this.submitSearch = this.submitSearch.bind(this);\r\n    this.cancelSearch = this.cancelSearch.bind(this);\r\n    this.clearCurrentSearch = this.clearCurrentSearch.bind(this);\r\n    this.sendItems = this.sendItems.bind(this);\r\n    this.clearInputItems = this.clearInputItems.bind(this);\r\n    this.setItemEdit = this.setItemEdit.bind(this);\r\n    this.deleteItem = this.deleteItem.bind(this);\r\n    this.setFoundItemEdit = this.setFoundItemEdit.bind(this);\r\n    this.startNewSearch = this.startNewSearch.bind(this);\r\n    this.hideInfo = this.hideInfo.bind(this);\r\n    this.hideSearchInfo = this.hideSearchInfo.bind(this);\r\n    this.copyInput = this.copyInput.bind(this);\r\n\r\n    this.#options = itemSpecific[this.props.itype].options(this.props.things);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.fetchUnapprovedOperInput(this.props.itype);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.itype !== this.props.itype) {\r\n      this.#options = itemSpecific[this.props.itype].options(this.props.things);    \r\n      this.props.clearFound();  \r\n      this.setState({searchInputErrors: {}, showSearchModal: false});\r\n      this.props.fetchUnapprovedOperInput(this.props.itype);\r\n\r\n    }\r\n  }\r\n\r\n  hideInfo() {\r\n    this.props.removeInfo();\r\n  }\r\n\r\n  hideSearchInfo() {\r\n    this.props.removeSearchInfo();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.props.clearOperInput();\r\n  }\r\n\r\n  findIndexById(id, items) {\r\n    return items.findIndex(i => i.main.id.toString() === id.toString());\r\n  }\r\n\r\n  copyInput(e) {\r\n    const ind = parseInt(e.target.dataset.ind);\r\n    const newItem = {\r\n      main: { ...this.props.items[ind].main, id: -Date.now() },\r\n      journal: { ...this.props.items[ind].journal }\r\n    };\r\n    delete newItem.journal.mainid;\r\n    this.setState({\r\n      currentInput: newItem,\r\n      inputItemErrors: {},\r\n      showInputModal: true,\r\n      showSearchModal: false\r\n    });\r\n  }\r\n\r\n  changeInputItem(e) {\r\n    //console.log(\"name, value\", e.target.name, e.target.value);\r\n    const nameParts = e.target.name.split(\".\");\r\n    //console.log(\"parts\", nameParts[0], nameParts[1]);\r\n\r\n    let modified = {\r\n      main: { ...this.state.currentInput.main },\r\n      journal: { ...this.state.currentInput.journal }\r\n    };\r\n    modified[nameParts[0]][nameParts[1]] = e.target.value;\r\n    //console.log(\"modified\", modified);\r\n    this.setState({ currentInput: modified });\r\n  }\r\n\r\n  startNewInput() {\r\n    this.setState({\r\n      currentInput: { main: { id: -Date.now() }, journal: {} },\r\n      inputItemErrors: {},\r\n      showInputModal: true,\r\n      showSearchModal: false\r\n    });\r\n  }\r\n\r\n  // as for now - just mocking\r\n  validateRecord(draft, itype) {\r\n    const item = draft;\r\n    return { item };\r\n  }\r\n\r\n  submitRecord() {\r\n    // local validation\r\n    const vResult = this.validateRecord(\r\n      this.state.currentInput,\r\n      this.props.itype\r\n    );\r\n    if (vResult.errors) {\r\n      this.setState({\r\n        inputItemErrors: vResult.errors\r\n      });\r\n      //console.log(\"returning because of validation errors\");\r\n      return;\r\n    }\r\n\r\n    const item = vResult.item;\r\n    // tikrinti ar nėra to paties id ir tos pačios vietos\r\n    const rep = this.props.items.some(\r\n      i => samePlace(i.main, item.main) && i.main.id !== item.main.id\r\n    );\r\n\r\n    if (rep) {\r\n      //console.log(\"setting inputItemErrors\");\r\n      this.setState({ inputItemErrors: { common: \"same place\" } });\r\n      //console.log(\"returning because of same place\");\r\n      return;\r\n    }\r\n\r\n    let items;\r\n    const ind = this.findIndexById(item.main.id, this.props.items);\r\n    if (ind < 0) {\r\n      // reiškia, sukurtas naujai, reikia pridėti\r\n      items = [...this.props.items, item];\r\n    } else {\r\n      // reiškia, editintas, reikia replaceinti\r\n      items = [\r\n        ...this.props.items.slice(0, ind),\r\n        item,\r\n        ...this.props.items.slice(ind + 1)\r\n      ];\r\n    }\r\n\r\n    this.props.setItems(items);\r\n    this.setState({\r\n      inputItemErrors: {},\r\n      showInputModal: false,\r\n      currentInput: {}\r\n    });\r\n  }\r\n\r\n  cancelEditRecord() {\r\n    this.setState({\r\n      inputItemErrors: {},\r\n      currentInput: {},\r\n      showInputModal: false\r\n    });\r\n  }\r\n\r\n  clearCurrentRecord() {\r\n    this.setState({\r\n      inputItemErrors: {},\r\n      currentInput: {}\r\n    });\r\n  }\r\n\r\n  changeSearchInput(e) {\r\n    const searchInput = {\r\n      ...this.state.searchInput,\r\n      [e.target.name]: e.target.value\r\n    };\r\n    this.setState({ searchInput });\r\n  }\r\n\r\n  // as for now - just mocking\r\n  validateSearchInput(itype, input) {\r\n    const searchItem = input;\r\n    return searchItem;\r\n  }\r\n\r\n  submitSearch() {\r\n    const data = this.validateSearchInput(\r\n      this.props.itype,\r\n      this.state.searchInput\r\n    );\r\n    if (data.errors) {\r\n      this.setState({\r\n        searchInputErrors: data.errors\r\n      });\r\n      return;\r\n    }\r\n    this.setState({ showSearchModal: false });\r\n    this.props.searchItems(this.props.itype, data);\r\n  }\r\n\r\n  cancelSearch() {\r\n    this.setState({\r\n      searchInputErrors: {},\r\n      searchInput: {},\r\n      showSearchModal: false\r\n    });\r\n  }\r\n\r\n  clearCurrentSearch() {\r\n    this.setState({\r\n      searchInputErrors: {},\r\n      searchInput: {}\r\n    });\r\n  }\r\n\r\n  sendItems() {\r\n    if (this.props.items.length < 1) return;\r\n    this.props.supplyOperInput(this.props.items, this.props.itype);\r\n  }\r\n\r\n  clearInputItems() {\r\n    this.props.clearOperInput();\r\n  }\r\n\r\n  setItemEdit(e) {\r\n    const ind = parseInt(e.target.dataset.ind);\r\n    this.setState({\r\n      currentInput: {\r\n        main: { ...this.props.items[ind].main },\r\n        journal: { ...this.props.items[ind].journal }\r\n      },\r\n      inputItemErrors: {},\r\n      showInputModal: true,\r\n      showSearchModal: false\r\n    });\r\n  }\r\n\r\n  deleteItem(e) {\r\n    const ind = parseInt(e.target.dataset.ind);\r\n\r\n    this.props.setItems([\r\n      ...this.props.items.slice(0, ind),\r\n      ...this.props.items.slice(ind + 1)\r\n    ]);\r\n    this.setState({ currentInput: {} });\r\n  }\r\n\r\n  setFoundItemEdit(e) {\r\n    const ind = parseInt(e.target.dataset.ind);\r\n    const item = {...this.props.foundItems[ind]};\r\n    const fissedItem = splitMainJournalClear(\r\n      item,\r\n      itemSpecific[this.props.itype].model\r\n    );\r\n    this.setState({\r\n      showSearchModal: false,\r\n      showInputModal: true,\r\n      currentInput: fissedItem,\r\n      inputItemErrors: {},\r\n      searchInputErrors: {},\r\n      searchInput: {}\r\n    });\r\n  }\r\n\r\n  startNewSearch() {\r\n    this.setState({\r\n      showSearchModal: true,\r\n      showInputModal: false,\r\n      searchInputErrors: {},\r\n      searchInput: {}\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const InputForm = itemSpecific[this.props.itype].inputForm.default;\r\n    const SearchForm = itemSpecific[this.props.itype].searchForm.default;\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <IsLoading when={this.props.isLoading} />\r\n        <div className=\"container-fluid\">\r\n          <ModalFormPanel\r\n            body={InputForm({\r\n              item: this.state.currentInput,\r\n              onChange: this.changeInputItem,\r\n              options: this.#options,\r\n              errors: this.state.inputItemErrors\r\n            })}\r\n            title={\"Įrašo sukūrimas/redagavimas\"}\r\n            submitHandler={this.submitRecord}\r\n            cancelHandler={this.cancelEditRecord}\r\n            purpose=\"input\"\r\n            show={this.state.showInputModal}\r\n          />\r\n          <ModalFormPanel\r\n            body={SearchForm({\r\n              searchInput: this.state.searchInput,\r\n              onChange: this.changeSearchInput,\r\n              options: this.#options,\r\n              errors: this.state.searchInputErrors\r\n            })}\r\n            title={\"Įrašų paieška\"}\r\n            submitHandler={this.submitSearch}\r\n            cancelHandler={this.cancelSearch}\r\n            clearHandler={this.clearCurrentSearch}\r\n            purpose=\"search\"\r\n            show={this.state.showSearchModal}\r\n          />\r\n          <InputPanel\r\n            inputItems={this.props.items}\r\n            itype={this.props.itype}\r\n            newInputHandler={this.startNewInput}\r\n            sendHandler={this.sendItems}\r\n            clearHandler={this.clearInputItems}\r\n            setItemEditHandler={this.setItemEdit}\r\n            deleteItemHandler={this.deleteItem}\r\n            copyInputHandler={this.copyInput}\r\n            currentId={\r\n              this.state.currentInput.main\r\n                ? this.state.currentInput.main.id\r\n                : null\r\n            }\r\n            info={this.props.info}\r\n            hideInfo={this.hideInfo}\r\n          />\r\n          <SearchPanel\r\n            foundItems={this.props.foundItems}\r\n            itype={this.props.itype}\r\n            setItemEditHandler={this.setFoundItemEdit}\r\n            newSearchHandler={this.startNewSearch}\r\n            info={this.props.searchInfo}\r\n            hideInfo={this.hideSearchInfo}\r\n          />\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  things: state.things.data,\r\n  items: state.operInput.items,\r\n  foundItems: state.operInput.foundItems,\r\n  isLoading: state.operInput.isLoading,\r\n  info: state.operInput.info,\r\n  searchInfo: state.operInput.searchInfo\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    fetchUnapprovedOperInput,\r\n    searchItems,\r\n    setItems,\r\n    supplyOperInput,\r\n    clearOperInput,\r\n    clearFound,\r\n    removeInfo,\r\n    removeSearchInfo\r\n  }\r\n)(OperInputSupply);\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Alert from \"../common/Alert\";\r\nimport IsLoading from \"../common/IsLoading\";\r\nimport ModalFormPanel from \"./ModalFormPanel\";\r\nimport {\r\n  submitIApprove,\r\n  fetchSuppliedOperInput,\r\n  setItems\r\n} from \"../../actions/inputApproveActions\";\r\nimport itemSpecific from \"./itemSpecific\";\r\n\r\nclass OperInputApprove extends Component {\r\n  #options;\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      currentIndex: null,\r\n      currentItem: null,\r\n      showModal: false,\r\n      localValidationErrors: {}\r\n    };\r\n\r\n    this.changeAction = this.changeAction.bind(this);\r\n    this.changeItem = this.changeItem.bind(this);\r\n    this.setEdit = this.setEdit.bind(this);\r\n    this.submitEdit = this.submitEdit.bind(this);\r\n    this.cancelEdit = this.cancelEdit.bind(this);\r\n    this.submitItems = this.submitItems.bind(this);\r\n\r\n    this.#options = itemSpecific[this.props.itype].options(this.props.things);\r\n  }\r\n\r\n  componentDidMount() {\r\n    /// reikia užkrauti visus inputus\r\n    this.props.fetchSuppliedOperInput(this.props.itype);\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (prevProps.itype !== this.props.itype) {\r\n      this.#options = itemSpecific[this.props.itype].options(this.props.things);\r\n      this.props.fetchSuppliedOperInput(this.props.itype);\r\n    }\r\n  }\r\n\r\n  replaceItem(item, ind, items) {\r\n    return [...items.slice(0, ind), item, ...items.slice(ind + 1)];\r\n  }\r\n\r\n  changeAction(e) {\r\n    const ind = parseInt(e.target.dataset.ind);\r\n    const action = e.target.value;\r\n    const item = { ...this.props.items[ind], action };\r\n    const newItems = this.replaceItem(item, ind, this.props.items);\r\n    this.props.setItems(newItems);\r\n  }\r\n\r\n  setEdit(e) {\r\n    const ind = parseInt(e.target.dataset.ind);\r\n    const propsItem = this.props.items[ind];\r\n    this.setState({\r\n      currentIndex: ind,\r\n      currentItem: {\r\n        ...propsItem,\r\n        main: { ...propsItem.main },\r\n        journal: { ...propsItem.journal }\r\n      },\r\n      showModal: true\r\n    });\r\n  }\r\n\r\n  changeItem(e) {\r\n    const nameParts = e.target.name.split(\".\");\r\n    let modified = { ...this.state.currentItem };\r\n    modified[nameParts[0]][nameParts[1]] = e.target.value;\r\n    this.setState({ currentItem: modified });\r\n  }\r\n\r\n  submitEdit() {\r\n    // validate locally here\r\n    const ind = this.state.currentIndex;\r\n    const item = this.state.currentItem;\r\n    const newItems = this.replaceItem(item, ind, this.props.items);\r\n    this.props.setItems(newItems);\r\n\r\n    this.setState({\r\n      currentIndex: null,\r\n      currentItem: null,\r\n      showModal: false\r\n    });\r\n  }\r\n\r\n  cancelEdit() {\r\n    this.setState({\r\n      currentIndex: null,\r\n      note: \"\",\r\n      showModal: false\r\n    });\r\n  }\r\n\r\n  submitItems() {\r\n    this.props.submitIApprove(this.props.items, this.props.itype);\r\n  }\r\n\r\n  render() {\r\n    // select row type\r\n    if (this.props.items.length === 0) {\r\n      return (\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col\">No items to approve or disapprove yet.</div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    const EditForm = itemSpecific[this.props.itype].iApproveEditForm.default;\r\n    const SingleRow = itemSpecific[this.props.itype].approveRow.SingleRow;\r\n    const HeadRow = itemSpecific[this.props.itype].approveRow.HeadRow;\r\n    const rows = this.props.items.map((i, ind) => (\r\n      <SingleRow\r\n        item={i}\r\n        ind={ind}\r\n        changeAction={this.changeAction}\r\n        setEdit={this.setEdit}\r\n        key={i.id}\r\n      />\r\n    ));\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <IsLoading when={this.props.isLoading} />\r\n        {this.props.info ? (\r\n          <Alert\r\n            message={this.props.info.message}\r\n            type={this.props.info.type}\r\n          />\r\n        ) : null}\r\n        <ModalFormPanel\r\n          body={EditForm({\r\n            item: this.state.currentItem,\r\n            onChange: this.changeItem,\r\n            options: this.#options,\r\n            errors: this.state.localValidationErrors\r\n          })}\r\n          title={\"Įrašo redagavimas\"}\r\n          submitHandler={this.submitEdit}\r\n          cancelHandler={this.cancelEdit}\r\n          show={this.state.showModal}\r\n        />\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <table className=\"table\">\r\n              <HeadRow />\r\n              <tbody>{rows}</tbody>\r\n            </table>\r\n          </div>\r\n          <div className=\"row\">\r\n            <button className=\"btn btn-warning\" onClick={this.submitItems}>\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  things: state.things.data,\r\n  items: state.iApprove.items,\r\n  info: state.iApprove.info,\r\n  isLoading: state.iApprove.isLoading\r\n});\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    submitIApprove,\r\n    fetchSuppliedOperInput,\r\n    setItems\r\n  }\r\n)(OperInputApprove);\r\n","import axios from \"axios\";\r\nimport {\r\n  IAPPROVE_FETCH_BEGIN,\r\n  IAPPROVE_FETCH_SUCCESS,\r\n  IAPPROVE_FETCH_FAILURE,\r\n  IAPPROVE_PROCESS_BEGIN,\r\n  IAPPROVE_PROCESS_SUCCESS,\r\n  IAPPROVE_PROCESS_FAILURE,\r\n  IAPPROVE_INFO_REMOVE,\r\n  IAPPROVE_SET_ITEMS\r\n} from \"./types\";\r\n\r\nexport const dispatchRemoveInfo = () => dispatch => {\r\n  dispatch({ type: IAPPROVE_INFO_REMOVE });\r\n};\r\n\r\nconst fetchIApproveBegin = () => ({\r\n  type: IAPPROVE_FETCH_BEGIN\r\n});\r\n\r\nconst fetchIApproveSuccess = items => ({\r\n  type: IAPPROVE_FETCH_SUCCESS,\r\n  payload: { items }\r\n});\r\n\r\nconst fetchIApproveFailure = errormsg => ({\r\n  type: IAPPROVE_FETCH_FAILURE,\r\n  payload: { errormsg }\r\n});\r\n\r\nexport const fetchSuppliedOperInput = itype => dispatch => {\r\n  dispatch(fetchIApproveBegin());\r\n  axios\r\n    .get(\"/api/operinput/supplied\", { params: { itype } })\r\n    .then(res => {\r\n      //console.log(\"got supplied: \", res.data);\r\n      //const parsed = unpack(res.data, \"supplied\");\r\n      //console.log(\"dispatching fetchIApproveSuccess\")\r\n      dispatch(fetchIApproveSuccess(res.data));\r\n    })\r\n    .catch(err => {\r\n      console.error(err);\r\n      dispatch(fetchIApproveFailure(err.message));\r\n    });\r\n};\r\n\r\nconst iApproveProcessBegin = () => ({\r\n  type: IAPPROVE_PROCESS_BEGIN\r\n});\r\n\r\nconst iApproveProcessSuccess = items => ({\r\n  type: IAPPROVE_PROCESS_SUCCESS,\r\n  payload: { items }\r\n});\r\n\r\nconst iApproveProcessFailure = errormsg => ({\r\n  type: IAPPROVE_PROCESS_FAILURE,\r\n  payload: { errormsg }\r\n});\r\n\r\nexport const submitIApprove = (input, itype) => dispatch => {\r\n  dispatch(iApproveProcessBegin());\r\n  axios\r\n    .post(\"/api/operinput/process-approved\", {\r\n      input: input.filter(i => i.action !== \"none\"),\r\n      itype\r\n    })\r\n    .then(res => {\r\n      //console.log(res.data);\r\n      dispatch(iApproveProcessSuccess(res.data));\r\n    })\r\n    .catch(err => {\r\n      // to neturėtų būti, nes visos klaidos išgaudomos\r\n      console.error(err);\r\n      dispatch(iApproveProcessFailure(err.message));\r\n    })\r\n    // .finally(() => {\r\n    //   console.log(\"dispatching fetchSupplied\");\r\n    //   fetchSuppliedOperInput(itype);\r\n    // });\r\n};\r\n\r\nexport const setItems = items => dispatch => {\r\n  dispatch({ type: IAPPROVE_SET_ITEMS, payload: { items } });\r\n};\r\n","import {\r\n  THINGS_FETCH_BEGIN,\r\n  THINGS_FETCH_SUCCESS,\r\n  THINGS_FETCH_FAILURE,\r\n  LOGOUT\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  data: null,\r\n  isLoading: false,\r\n  errormsg: null\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case THINGS_FETCH_BEGIN:\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        errormsg: null,\r\n        data: null\r\n      };\r\n\r\n    case THINGS_FETCH_SUCCESS:\r\n    \r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        errormsg: null,\r\n        data: action.payload.things\r\n      };\r\n\r\n    case THINGS_FETCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        errormsg: action.payload.errormsg,\r\n        data: null\r\n      };\r\n\r\n    // case THINGS_UPDATE_BEGIN:\r\n    //   return {\r\n    //     ...state,\r\n    //     isLoading: true,\r\n    //     error: null,\r\n    //     data: null\r\n    //   };\r\n\r\n    // case THINGS_UPDATE_SUCCESS:\r\n    //   const modifiedData = {\r\n    //     ...state.data,\r\n    //     [action.payload.thingType]: action.payload.things\r\n    //   };\r\n    //   return {\r\n    //     ...state,\r\n    //     isLoading: false,\r\n    //     error: null,\r\n    //     data: modifiedData\r\n    //   };\r\n\r\n    // case THINGS_UPDATE_FAILURE:\r\n    //   return {\r\n    //     ...state,\r\n    //     isLoading: false,\r\n    //     error: action.payload.error,\r\n    //     data: null\r\n    //   };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import isEmpty from \"../validation/is-empty\";\r\nimport { SET_CURRENT_USER, LOGIN_BEGIN, LOGIN_ERROR, LOGOUT } from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  isAuthenticated: false,\r\n  user: {},\r\n  isBusy: false,\r\n  errors: {}\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case LOGIN_BEGIN:\r\n      return {\r\n        ...state,\r\n        isBusy: true,\r\n        user: {},\r\n        errors: {},\r\n        isAuthenticated: false\r\n      };\r\n\r\n    case SET_CURRENT_USER:\r\n      return {\r\n        ...state,\r\n        isAuthenticated: !isEmpty(action.payload),\r\n        user: action.payload,\r\n        isBusy: false,\r\n        errors: {}\r\n      };\r\n\r\n    case LOGIN_ERROR:\r\n      return {\r\n        ...state,\r\n        isBusy: false,\r\n        user: {},\r\n        errors: action.payload.errors,\r\n        isAuthenticated: false\r\n      };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n      \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  REGISTER_BEGIN, REGISTER_SUCCESS, REGISTER_ERROR, LOGOUT\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  isBusy: false,\r\n  errors: {}\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case REGISTER_BEGIN:\r\n      return {\r\n        ...state,\r\n        isBusy: true,\r\n        errors: {}\r\n      };\r\n\r\n    case REGISTER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isBusy: false,\r\n        errors: {}\r\n      };\r\n\r\n    case REGISTER_ERROR:\r\n      return {\r\n        ...state,\r\n        isBusy: false,\r\n        errors: action.payload.errors\r\n      };\r\n    \r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export default function getInitialState(iTypes, stateObj) {\r\n  let state = {};\r\n  Object.keys(iTypes).forEach(key => state[iTypes[key]] = {...stateObj});\r\n  return state;\r\n}","import {\r\n  QUERIES_FETCH_BEGIN,\r\n  QUERIES_FETCH_SUCCESS,\r\n  QUERIES_FETCH_FAILURE,\r\n  QUERY_INSERT_BEGIN,\r\n  QUERY_INSERT_SUCCESS,\r\n  QUERY_INSERT_FAILURE,\r\n  QUERY_UPDATE_BEGIN,\r\n  QUERY_UPDATE_SUCCESS,\r\n  QUERY_UPDATE_FAILURE,\r\n  QUERY_DELETE_BEGIN,\r\n  QUERY_DELETE_SUCCESS,\r\n  QUERY_DELETE_FAILURE,\r\n  QUERIES_HIDE_SUCCESS,\r\n  QUERIES_HIDE_ERROR,\r\n  LOGOUT\r\n} from \"../actions/types\";\r\nimport * as iTypes from \"../itypes\";\r\nimport getInitialState from \"./functions/getInitialState\";\r\n\r\nconst stateObj = {\r\n  data: [],\r\n  valid: false,\r\n  isLoading: false,\r\n  error: null,\r\n  successmsg: \"\"\r\n};\r\n\r\nconst initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  let itype;\r\n  let query;\r\n  let queries;\r\n  let id;\r\n  let ind;\r\n\r\n  switch (action.type) {\r\n    case QUERIES_FETCH_BEGIN:\r\n    case QUERY_UPDATE_BEGIN:\r\n    case QUERY_INSERT_BEGIN:\r\n    case QUERY_DELETE_BEGIN:\r\n      itype = action.payload.itype;\r\n      return {\r\n        ...state,\r\n        [itype]: {\r\n          ...state[itype],\r\n          isLoading: true,\r\n          valid: false,\r\n          error: null,\r\n          successmsg: \"\"\r\n        }\r\n      };\r\n\r\n    case QUERIES_FETCH_SUCCESS:\r\n      itype = action.payload.itype;\r\n      // console.log(\"queriesReducer queries-fetch-success action.payload.queries\", action.payload.queries);\r\n      return {\r\n        ...state,\r\n        [itype]: {\r\n          ...state[itype],\r\n          data: action.payload.queries,\r\n          isLoading: false,\r\n          valid: true,\r\n          error: null,\r\n          successmsg: \"\"\r\n        }\r\n      };\r\n\r\n    case QUERY_UPDATE_SUCCESS:\r\n      // console.log(\"Q_U_S action\", action);\r\n      query = action.payload.query;\r\n      itype = action.payload.itype;\r\n      ind = state[itype].data.findIndex(q => q.id === query.id);\r\n\r\n      if (ind < 0) {\r\n        // should not happen\r\n        return {\r\n          ...state,\r\n          [itype]: {\r\n            ...state[itype],\r\n            error: {message: \"Įvyko nesuprantama klaida\"},\r\n            valid: false,\r\n            isLoading: false,\r\n            successmsg: \"\"\r\n          }\r\n        };\r\n      }\r\n\r\n      queries = [\r\n        ...state[itype].data.slice(0, ind),\r\n        query,\r\n        ...state[itype].data.slice(ind + 1)\r\n      ];\r\n\r\n      return {\r\n        ...state,\r\n        [itype]: {\r\n          ...state[itype],\r\n          data: queries,\r\n          isLoading: false,\r\n          error: null,\r\n          valid: true,\r\n          successmsg: \"atnaujinta sėkmingai\"\r\n        }\r\n      };\r\n\r\n    case QUERY_INSERT_SUCCESS:\r\n      // console.log(\"query_insert_success action.payload\", action.payload);\r\n      query = action.payload.query;\r\n      itype = action.payload.itype;\r\n\r\n      // console.log(\"queriesReducer state\", state);\r\n\r\n      queries = [...state[itype].data, query];\r\n      // console.log(\"queriesReducer queries\", queries);\r\n\r\n      return {\r\n        ...state,\r\n        [itype]: {\r\n          ...state[itype],\r\n          data: queries,\r\n          isLoading: false,\r\n          error: null,\r\n          valid: true,\r\n          successmsg: \"sukurta sėkmingai\"\r\n        }\r\n      };\r\n\r\n    case QUERY_DELETE_SUCCESS:\r\n      // console.log(\"QUERY_DELETE_SUCCESS action\", action);\r\n      id = action.payload.id.toString();\r\n      itype = action.payload.itype;\r\n      ind = state[itype].data.findIndex(q => q.id.toString() === id);\r\n      // console.log(\"QUERY_DELETE_SUCCESS index\", ind);\r\n\r\n      if (ind < 0) {\r\n        // should not happen\r\n        //console.log(\"index\", ind);\r\n        \r\n        return {\r\n          ...state,\r\n          [itype]: {\r\n            ...state[itype],\r\n            error: {message: \"Įvyko nesuprantama klaida\"},\r\n            valid: false,\r\n            isLoading: false,\r\n            successmsg: \"\"\r\n          }\r\n        };\r\n      }\r\n\r\n      queries = [\r\n        ...state[itype].data.slice(0, ind),\r\n        ...state[itype].data.slice(ind + 1)\r\n      ];\r\n\r\n      return {\r\n        ...state,\r\n        [itype]: {\r\n          ...state[itype],\r\n          data: queries,\r\n          isLoading: false,\r\n          error: null,\r\n          valid: true,\r\n          successmsg: `id ${id} panaikinta sėkmingai`\r\n        }\r\n      };\r\n\r\n    case QUERIES_FETCH_FAILURE:\r\n    case QUERY_UPDATE_FAILURE:\r\n    case QUERY_INSERT_FAILURE:\r\n    case QUERY_DELETE_FAILURE:\r\n      itype = action.payload.itype;\r\n      return {\r\n        ...state,\r\n        [itype]: {\r\n          ...state[itype],\r\n          isLoading: false,\r\n          error: action.payload.error,\r\n          successmsg: \"\"\r\n        }\r\n      };\r\n\r\n    case QUERIES_HIDE_ERROR:\r\n      itype = action.payload.itype;\r\n      return {\r\n        ...state,\r\n        [itype]: {\r\n          ...state[itype],\r\n          error: null\r\n        }\r\n      };\r\n\r\n    case QUERIES_HIDE_SUCCESS:\r\n      itype = action.payload.itype;\r\n      return {\r\n        ...state,\r\n        [itype]: {\r\n          ...state[itype],\r\n          successmsg: \"\"\r\n        }\r\n      };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  REPORT_BEGIN,\r\n  REPORT_SUCCESS,\r\n  REPORT_ERROR,\r\n  REPORT_ERASE,\r\n  LOGOUT\r\n} from \"../actions/types\";\r\n\r\nconst initialState = {\r\n  data: {},\r\n  rtype: \"\",\r\n  params: null,\r\n  errormsg: null,\r\n  isLoading: false\r\n};\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    // begin report\r\n    case REPORT_BEGIN:\r\n      return {\r\n        ...state,\r\n        data: {},\r\n        params: action.payload.params,\r\n        errormsg: null,\r\n        isLoading: true\r\n      };\r\n\r\n    // report success\r\n    case REPORT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        data: action.payload.report,\r\n        rtype: action.payload.rtype,\r\n        errormsg: null,\r\n        isLoading: false\r\n      };\r\n\r\n    // report error\r\n    case REPORT_ERROR:\r\n      // console.log(\"reducer action.payload.error\", action.payload.error);\r\n      return {\r\n        ...state,\r\n        data: {},\r\n        rtype: \"\",\r\n        errormsg: action.payload.errormsg,\r\n        isLoading: false\r\n      };\r\n\r\n    case REPORT_ERASE:\r\n    case LOGOUT:\r\n      // console.log(\"report reducer erasing report\");\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  JOURNAL_FETCH_BEGIN,\r\n  JOURNAL_FETCH_SUCCESS,\r\n  JOURNAL_FETCH_FAILURE,\r\n  JOURNAL_SET,\r\n  JOURNAL_REMOVE,\r\n  LOGOUT\r\n} from \"../actions/types\";\r\n//import * as iTypes from \"../itypes\";\r\n//import getInitialState from \"./functions/getInitialState\";\r\n\r\nconst stateObj = {\r\n  items: [],\r\n  isBusy: false,\r\n  errormsg: null\r\n};\r\n\r\nconst initialState = {...stateObj};\r\n\r\n//const initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n\r\n    // begin fetch journal\r\n    case JOURNAL_FETCH_BEGIN:\r\n      return {\r\n          items: [],\r\n          isBusy: false,\r\n          errormsg: null\r\n        };\r\n\r\n    // journal has been fetched\r\n    case JOURNAL_FETCH_SUCCESS:\r\n      return {\r\n          items: action.payload.journal,\r\n          isBusy: false,\r\n          errormsg: null\r\n        };\r\n\r\n    // journal fetch failure\r\n    case JOURNAL_FETCH_FAILURE:\r\n      return {\r\n          items: [],\r\n          isBusy: false,\r\n          errormsg: action.payload.errormsg\r\n        };\r\n\r\n    // set journal\r\n    case JOURNAL_SET:\r\n      return {\r\n        items: action.payload.journal,\r\n        isBusy: false,\r\n        errormsg: null\r\n      };\r\n\r\n    // remove journal\r\n    case JOURNAL_REMOVE:\r\n      return {\r\n        items: [],\r\n        isBusy: false,\r\n        errormsg: null\r\n      };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  UNAPPROVED_FETCH_BEGIN,\r\n  UNAPPROVED_FETCH_SUCCESS,\r\n  UNAPPROVED_FETCH_FAILURE,\r\n  OPERINPUT_SUPPLY_BEGIN,\r\n  OPERINPUT_SUPPLY_SUCCESS,\r\n  OPERINPUT_SUPPLY_FAILURE,\r\n  OPERINPUT_ITEMS_SEARCH_BEGIN,\r\n  OPERINPUT_ITEMS_SEARCH_SUCCESS,\r\n  OPERINPUT_ITEMS_SEARCH_FAILURE,\r\n  OPERINPUT_CLEAR,\r\n  OPERINPUT_CLEAR_FOUND,\r\n  OPERINPUT_INFO_REMOVE,\r\n  OPERINPUT_SEARCH_INFO_REMOVE,\r\n  OPERINPUT_SET_ITEMS,\r\n  LOGOUT\r\n} from \"../actions/types\";\r\n\r\nconst stateObj = {\r\n  items: [],\r\n  foundItems: [],\r\n  isLoading: false,\r\n  info: null,\r\n  searchInfo: null\r\n};\r\n\r\nconst initialState = { ...stateObj };\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case UNAPPROVED_FETCH_BEGIN:\r\n    case OPERINPUT_SUPPLY_BEGIN:\r\n      return {\r\n        ...state,\r\n        info: null,\r\n        isLoading: true\r\n      };\r\n\r\n    case OPERINPUT_ITEMS_SEARCH_BEGIN:\r\n      return {\r\n        ...state,\r\n        searchInfo: null,\r\n        isLoading: true\r\n      };\r\n\r\n    case OPERINPUT_SET_ITEMS:\r\n      return {\r\n        ...state,\r\n        items: action.payload.items\r\n      };\r\n\r\n    case UNAPPROVED_FETCH_SUCCESS:\r\n      const items = action.payload.items;\r\n      return {\r\n        ...state,\r\n        items,\r\n        isLoading: false\r\n      };\r\n\r\n    case OPERINPUT_ITEMS_SEARCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        foundItems: action.payload.items,\r\n        isLoading: false\r\n      };\r\n\r\n    case OPERINPUT_SUPPLY_SUCCESS:\r\n      return {\r\n        ...state,\r\n        items: [],\r\n        isLoading: false,\r\n        info: { message: \"Įrašai sėkmingai pateikti\", type: \"success\" }\r\n      };\r\n\r\n    case UNAPPROVED_FETCH_FAILURE:\r\n    case OPERINPUT_SUPPLY_FAILURE:\r\n      return {\r\n        ...state,\r\n        info: { message: action.payload.errormsg, type: \"error\" },\r\n        isLoading: false\r\n      };\r\n\r\n    case OPERINPUT_ITEMS_SEARCH_FAILURE:\r\n      return {\r\n        ...state,\r\n        foundItems: [],\r\n        searchInfo: { message: action.payload.msg, type: action.payload.type },\r\n        isLoading: false\r\n      };\r\n    \r\n    case OPERINPUT_CLEAR_FOUND:\r\n      return {\r\n        ...state,\r\n        foundItems: [],\r\n        searchInfo: null\r\n      };\r\n\r\n    case OPERINPUT_CLEAR:\r\n      return {\r\n        ...state,\r\n        items: []\r\n      };\r\n\r\n    case OPERINPUT_INFO_REMOVE:\r\n      return {\r\n        ...state,\r\n        info: null\r\n      };\r\n\r\n    case OPERINPUT_SEARCH_INFO_REMOVE:\r\n      return {\r\n        ...state,\r\n        searchInfo: null\r\n      };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  IAPPROVE_FETCH_BEGIN,\r\n  IAPPROVE_FETCH_SUCCESS,\r\n  IAPPROVE_FETCH_FAILURE,\r\n  IAPPROVE_PROCESS_BEGIN,\r\n  IAPPROVE_PROCESS_SUCCESS,\r\n  IAPPROVE_PROCESS_FAILURE,\r\n  IAPPROVE_INFO_REMOVE,\r\n  IAPPROVE_SET_ITEMS,\r\n  LOGOUT\r\n} from \"../actions/types\";\r\n\r\nconst stateObj = {\r\n  items: [],\r\n  isLoading: false,\r\n  info: null\r\n};\r\n\r\nconst initialState = { ...stateObj };\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case IAPPROVE_FETCH_BEGIN:\r\n    case IAPPROVE_PROCESS_BEGIN:\r\n      return {\r\n        ...state,\r\n        info: null,\r\n        isLoading: true\r\n      };\r\n\r\n    case IAPPROVE_PROCESS_SUCCESS:\r\n    case IAPPROVE_FETCH_SUCCESS:\r\n      //console.log(\"action.payload.items\", action.payload.items);\r\n      const items = action.payload.items.map(i => ({ ...i, action: \"none\" }));\r\n      //console.log(\"items to set store\", items);\r\n      return {\r\n        ...state,\r\n        items,\r\n        isLoading: false\r\n      };\r\n\r\n    // case IAPPROVE_PROCESS_SUCCESS:\r\n    //   return {\r\n    //     ...state,\r\n    //     isLoading: false,\r\n    //     info: { message: action.payload.info.toString(), type: \"info\" }\r\n    //   };\r\n\r\n    case IAPPROVE_FETCH_FAILURE:\r\n    case IAPPROVE_PROCESS_FAILURE:\r\n      return {\r\n        ...state,\r\n        info: { message: action.payload.errormsg, type: \"error\" },\r\n        isLoading: false\r\n      };\r\n\r\n    case IAPPROVE_INFO_REMOVE:\r\n      return {\r\n        ...state,\r\n        info: null\r\n      };\r\n\r\n    case IAPPROVE_SET_ITEMS:\r\n      return {\r\n        ...state,\r\n        items: action.payload.items\r\n      };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ITEMS_FETCH_SUCCESS,\r\n  ITEM_INSERT_SUCCESS,\r\n  ITEM_UPDATE_SUCCESS,\r\n  ITEM_DELETE_SUCCESS,\r\n  LOGOUT\r\n} from \"../../actions/types\";\r\nimport * as iTypes from \"../../itypes\";\r\nimport getInitialState from \"../functions/getInitialState\";\r\n\r\nconst stateObj = [];\r\n\r\nconst initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n\r\n    // fetch items\r\n    case ITEMS_FETCH_SUCCESS:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: action.payload.items\r\n      };\r\n\r\n    // create item\r\n    case ITEM_INSERT_SUCCESS:\r\n      if (!action.payload.item) return state;\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: [\r\n          ...state[action.payload.itype], \r\n          action.payload.item\r\n        ]\r\n      };\r\n\r\n    // edit item\r\n    case ITEM_UPDATE_SUCCESS:\r\n      if (!action.payload || !action.payload.item) return state;\r\n      const updatedItem = action.payload.item;\r\n      const itype = action.payload.itype;\r\n      const allItems = state[itype];\r\n      let ind = allItems.findIndex(x => x.id === updatedItem.id);\r\n      return {\r\n        ...state,\r\n        [itype]: [\r\n          ...allItems.slice(0, ind),\r\n          updatedItem,\r\n          ...allItems.slice(ind + 1)\r\n        ]\r\n      };\r\n\r\n    // delete item success\r\n    case ITEM_DELETE_SUCCESS:\r\n      if (action.payload.id == null) return state;\r\n      ind = state[action.payload.itype].findIndex(x => x.id === action.payload.id);\r\n      // console.log(\"locally found index of id\", ind, action.payload.id);\r\n      if (ind < 0) return state; // jeigu kartais nerastų tokio id...\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: [\r\n          ...state[action.payload.itype].slice(0, ind),\r\n          ...state[action.payload.itype].slice(ind + 1)\r\n        ]\r\n      };\r\n\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ITEM_DELETE_BEGIN,\r\n  ITEM_DELETE_FAILURE,\r\n\r\n  ITEM_INSERT_BEGIN,\r\n  ITEM_INSERT_FAILURE,\r\n  ITEM_INSERT_FAILURE_NO_RETRY,\r\n\r\n  ITEM_UPDATE_BEGIN,\r\n  ITEM_UPDATE_FAILURE,\r\n  ITEM_UPDATE_FAILURE_NO_RETRY,\r\n  QUERIES_FETCH_FAILURE,\r\n\r\n  ITEMS_FETCH_BEGIN,\r\n  ITEMS_FETCH_FAILURE,\r\n\r\n  ITEM_LIST_SET_ALERT,\r\n  ITEM_LIST_HIDE_ALERT,\r\n  ITEM_EDIT_SET_ALERT,\r\n  ITEM_EDIT_HIDE_ALERT,\r\n\r\n  LOGOUT\r\n} from \"../../actions/types\";\r\nimport * as iTypes from \"../../itypes\";\r\nimport getInitialState from \"../functions/getInitialState\";\r\n\r\nconst stateObj = {\r\n  itemEdit: {\r\n    fatal: null,\r\n    info: null\r\n  }, \r\n  itemList: {\r\n    fatal: null,\r\n    info: null\r\n  }\r\n};\r\n\r\nconst initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ITEMS_FETCH_BEGIN:\r\n    case ITEM_INSERT_BEGIN:\r\n    case ITEM_UPDATE_BEGIN:\r\n    case ITEM_DELETE_BEGIN:\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    case ITEMS_FETCH_FAILURE:\r\n    case QUERIES_FETCH_FAILURE:    \r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype], \r\n          itemList: {\r\n            fatal: {msg: action.payload.errormsg, type: \"error\"},\r\n            info: null\r\n          }\r\n        }\r\n      };\r\n\r\n    case ITEM_DELETE_FAILURE:\r\n    case ITEM_UPDATE_FAILURE_NO_RETRY:\r\n    case ITEM_INSERT_FAILURE_NO_RETRY:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],  \r\n          itemList: {\r\n            fatal: null,\r\n            info: {msg: action.payload.errormsg, type: \"error\"}\r\n          }\r\n        }\r\n      };\r\n\r\n    case ITEM_UPDATE_FAILURE:\r\n    case ITEM_INSERT_FAILURE:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          itemEdit: {\r\n            fatal: null,\r\n            info: {msg: action.payload.errormsg, type: \"error\"}\r\n          }\r\n        }\r\n      };\r\n\r\n    case ITEM_LIST_SET_ALERT:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],  \r\n          itemList: {\r\n            fatal: null,\r\n            info: {msg: action.payload.msg, type: action.payload.type}\r\n          }\r\n        }\r\n      };\r\n\r\n    case ITEM_LIST_HIDE_ALERT:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          itemList: {\r\n            fatal: null,\r\n            info: null\r\n          },\r\n        }\r\n      };\r\n\r\n    case ITEM_EDIT_SET_ALERT:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],  \r\n          itemEdit: {\r\n            fatal: null,\r\n            info: {msg: action.payload.msg, type: action.payload.type}\r\n          }\r\n        }\r\n      };\r\n\r\n    case ITEM_EDIT_HIDE_ALERT:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          itemEdit: {\r\n            fatal: null,\r\n            info: null\r\n          },\r\n        }\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ITEMS_FILTERSORT_APPLIED,\r\n  ITEMS_FILTERSORT_APPLY_ERROR,\r\n  ITEMS_REFRESH,\r\n  LOGOUT\r\n} from \"../../actions/types\";\r\nimport * as iTypes from \"../../itypes\";\r\nimport getInitialState from \"../functions/getInitialState\";\r\n\r\n\r\nconst stateObj = {\r\n  filterText: \"\",\r\n  sortText: \"\",\r\n  errormsg: null\r\n};\r\n\r\nconst initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ITEMS_FILTERSORT_APPLIED:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          filterText: action.payload.filterText,\r\n          sortText: action.payload.sortText,\r\n          errormsg: null\r\n        }\r\n      };\r\n\r\n    case ITEMS_FILTERSORT_APPLY_ERROR:\r\n      const obj = {\r\n        ...state[action.payload.itype],\r\n        errormsg: action.payload.errormsg\r\n      };\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: obj\r\n      };\r\n    \r\n    case ITEMS_REFRESH:\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const pagerSettings = {\r\n  showPageCount: 3,\r\n  navBase: 10\r\n};\r\n\r\n\r\nconst getPagerObj = (itemsPerPage, itemCount, currPageIndex) => {\r\n  const firstItemIndex = currPageIndex * itemsPerPage;\r\n  const halfOfVisible = Math.floor(pagerSettings.showPageCount / 2);\r\n  const pageCount = Math.ceil(itemCount / itemsPerPage);\r\n  const lastPageIndex = pageCount - 1;\r\n  const pagesRight = pageCount - currPageIndex - 1;\r\n  const pagesLeft = currPageIndex;\r\n  let buttons = [];\r\n\r\n  // add current\r\n  buttons.push({\r\n    pageIndex: currPageIndex,\r\n    label: currPageIndex + 1,\r\n    role: \"current\"\r\n  });\r\n\r\n  // add visible left\r\n  let i = 1;\r\n  while (i <= halfOfVisible && currPageIndex - i > 0) {\r\n    buttons.unshift({\r\n      pageIndex: currPageIndex - i,\r\n      label: currPageIndex - i + 1,\r\n      role: \"visible-left\"\r\n    });\r\n    i++;\r\n  }\r\n\r\n  // add visible right\r\n  i = 1;\r\n  while (i <= halfOfVisible && currPageIndex + i < lastPageIndex) {\r\n    buttons.push({\r\n      pageIndex: currPageIndex + i,\r\n      label: currPageIndex + i + 1,\r\n      role: \"visible-right\"\r\n    });\r\n    i++;\r\n  }\r\n\r\n  if (buttons[0].pageIndex > 1) {\r\n    buttons.unshift({\r\n      pageIndex: -1,\r\n      label: \"...\",\r\n      role: \"ellipsis-left\"\r\n    });\r\n\r\n    // count the highest base of navigation\r\n    let maxShifBase = 0;\r\n    while (Math.pow(pagerSettings.navBase, maxShifBase) <= pagesLeft) {\r\n      maxShifBase++;\r\n    }\r\n\r\n    for (i = 0; i < maxShifBase; i++) {\r\n      const shiftedPageIndex = currPageIndex - Math.pow(pagerSettings.navBase, i);\r\n      buttons.unshift({\r\n        pageIndex: shiftedPageIndex,\r\n        label: Array(i + 2).join(\"<\"),\r\n        role: \"shift-back\"\r\n      });\r\n    }\r\n  }\r\n\r\n  if (currPageIndex > 0) {\r\n    buttons.unshift({\r\n      pageIndex: 0,\r\n      label: 1,\r\n      role: \"first-page\"\r\n    });\r\n  }\r\n\r\n  const lastindex = buttons[buttons.length - 1].pageIndex;\r\n\r\n  if (lastindex < lastPageIndex - 1) {\r\n    buttons.push({\r\n      pageIndex: -1,\r\n      label: \"...\",\r\n      role: \"ellipsis-right\"\r\n    });\r\n\r\n    // count the highest base of navigation\r\n    let maxShifBase = 0;\r\n    while (Math.pow(pagerSettings.navBase, maxShifBase) <= pagesRight) {\r\n      maxShifBase++;\r\n    }\r\n\r\n    for (i = 0; i < maxShifBase; i++) {\r\n      const shiftedPageIndex = currPageIndex + Math.pow(pagerSettings.navBase, i);\r\n      buttons.push({\r\n        pageIndex: shiftedPageIndex,\r\n        label: Array(i + 2).join(\">\"),\r\n        role: \"shift-forward\"\r\n      });\r\n    }\r\n  }\r\n\r\n  if (currPageIndex < lastPageIndex) {\r\n    buttons.push({\r\n      pageIndex: lastPageIndex,\r\n      label: lastPageIndex + 1,\r\n      role: \"last-page\"\r\n    });\r\n  }\r\n\r\n  return {\r\n    itemsPerPage,\r\n    currPageIndex,\r\n    firstItemIndex,\r\n    buttons,\r\n  };\r\n}\r\n\r\nexport default getPagerObj;","import {\r\n  ITEMS_PAGE_CHANGE,\r\n  ITEMS_PER_PAGE_CHANGE,\r\n  ITEMS_FILTERSORT_APPLIED,\r\n  ITEMS_REFRESH,\r\n  LOGOUT\r\n} from \"../../actions/types\";\r\nimport getPagerObj from '../functions/getPagerObj';\r\nimport * as iTypes from \"../../itypes\";\r\nimport getInitialState from \"../functions/getInitialState\";\r\n\r\nconst stateObj = {\r\n  itemsPerPage: 0,\r\n  currPageIndex: 0,\r\n  firstItemIndex: 0,\r\n  buttons: [],\r\n};\r\n\r\nconst initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  var pagerObj;\r\n  switch (action.type) {\r\n\r\n    case ITEMS_PAGE_CHANGE:\r\n      if (action.payload.pageIndex === \r\n      state[action.payload.itype].currPageIndex) {\r\n        // tas neturėtų įvykti, nes knopkė su currentPage yra neaktyvi\r\n        return state;\r\n      }\r\n\r\n      pagerObj = getPagerObj(\r\n        state[action.payload.itype].itemsPerPage, \r\n        action.payload.itemCount,\r\n        action.payload.pageIndex);\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: pagerObj\r\n      };\r\n\r\n\r\n    case ITEMS_PER_PAGE_CHANGE:\r\n      if (action.payload.itemsPerPage === state[action.payload.itype].itemsPerPage) {\r\n        return state;\r\n      }\r\n      pagerObj = getPagerObj(\r\n        action.payload.itemsPerPage, \r\n        action.payload.itemCount, \r\n        0);\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: pagerObj\r\n      };\r\n\r\n    case ITEMS_FILTERSORT_APPLIED: \r\n      pagerObj = getPagerObj(10, action.payload.items.length, 0);\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: pagerObj\r\n      };\r\n\r\n    case ITEMS_REFRESH:\r\n    case LOGOUT: \r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n","import {\r\n  ITEM_TOGGLE_FS,\r\n  ITEM_TOGGLE_FS_MANUAL,\r\n  LOGOUT\r\n} from \"../../actions/types\";\r\nimport * as iTypes from \"../../itypes\";\r\nimport getInitialState from \"../functions/getInitialState\";\r\n\r\nconst stateObj = {\r\n  fsOn: false,\r\n  fsManualOn: false\r\n};\r\n\r\nconst initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ITEM_TOGGLE_FS:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          fsOn: !state[action.payload.itype].fsOn\r\n        }\r\n      };\r\n\r\n    case ITEM_TOGGLE_FS_MANUAL:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          fsManualOn: !state[action.payload.itype].fsManualOn\r\n        }\r\n      };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import {\r\n  ITEM_DELETE_BEGIN,\r\n  ITEM_DELETE_FAILURE,\r\n  ITEM_DELETE_SUCCESS,\r\n\r\n  ITEM_INSERT_BEGIN,\r\n  ITEM_INSERT_FAILURE,\r\n  ITEM_INSERT_FAILURE_NO_RETRY,\r\n  ITEM_INSERT_SUCCESS,\r\n\r\n  ITEM_UPDATE_BEGIN,\r\n  ITEM_UPDATE_FAILURE,\r\n  ITEM_UPDATE_FAILURE_NO_RETRY,\r\n  ITEM_UPDATE_SUCCESS,\r\n\r\n  ITEMS_FETCH_BEGIN,\r\n  ITEMS_FETCH_FAILURE,\r\n  ITEMS_FETCH_SUCCESS,\r\n\r\n  ITEMS_INVALIDATE,\r\n  LOGOUT\r\n} from \"../../actions/types\";\r\nimport * as iTypes from \"../../itypes\";\r\nimport getInitialState from \"../functions/getInitialState\";\r\n\r\nconst stateObj = {\r\n  isBusy: false,\r\n  all: false\r\n};\r\n\r\nconst initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    case ITEMS_FETCH_BEGIN:\r\n    case ITEM_INSERT_BEGIN:\r\n    case ITEM_UPDATE_BEGIN:\r\n    case ITEM_DELETE_BEGIN:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          isBusy: true\r\n        }\r\n      };\r\n\r\n    case ITEMS_FETCH_SUCCESS:\r\n    case ITEM_INSERT_SUCCESS:\r\n    case ITEM_UPDATE_SUCCESS:\r\n    case ITEM_DELETE_SUCCESS:\r\n    case ITEMS_FETCH_FAILURE:\r\n    case ITEM_DELETE_FAILURE:\r\n    case ITEM_UPDATE_FAILURE_NO_RETRY:\r\n    case ITEM_INSERT_FAILURE_NO_RETRY:\r\n    case ITEM_UPDATE_FAILURE:\r\n    case ITEM_INSERT_FAILURE:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          isBusy: false\r\n        }\r\n      };\r\n\r\n    case ITEMS_INVALIDATE:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          all: action.payload.all\r\n        }\r\n      };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { \r\n  ITEMS_FILTERSORT_APPLIED,\r\n  ITEMS_INVALIDATE,\r\n  LOGOUT \r\n  } from \"../../actions/types\";\r\nimport * as iTypes from \"../../itypes\";\r\nimport getInitialState from \"../functions/getInitialState\";\r\n\r\nconst stateObj = {data: [], valid: false};\r\n\r\nconst initialState = getInitialState(iTypes, stateObj);\r\n\r\nexport default function(state = initialState, action) {\r\n  switch (action.type) {\r\n    \r\n    case ITEMS_FILTERSORT_APPLIED:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          data: action.payload.items,\r\n          valid: true\r\n        }\r\n      };\r\n    \r\n    case ITEMS_INVALIDATE:\r\n      return {\r\n        ...state,\r\n        [action.payload.itype]: {\r\n          ...state[action.payload.itype],\r\n          valid: false\r\n        }\r\n      };\r\n\r\n    case LOGOUT:\r\n      return initialState;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport thingsReducer from \"./thingsReducer\";\r\nimport loginReducer from \"./loginReducer\";\r\nimport registerReducer from \"./registerReducer\";\r\nimport queriesReducer from \"./queriesReducer\";\r\nimport reportReducer from \"./reportReducer\";\r\nimport journalReducer from \"./journalReducer\";\r\nimport operInputReducer from \"./operInputReducer\";\r\nimport iApproveReducer from \"./iApproveReducer\";\r\n\r\nimport allItemsReducer from \"./items/allItemsReducer\";\r\nimport itemAlertingReducer from \"./items/itemAlertingReducer\";\r\nimport itemsFSReducer from \"./items/itemsFSReducer\";\r\nimport itemsPagerReducer from \"./items/itemsPagerReducer\";\r\nimport itemsShowReducer from \"./items/itemsShowReducer\";\r\nimport itemsStatusReducer from \"./items/itemsStatusReducer\";\r\nimport fsedItemsReducer from \"./items/fsedItemsReducer\";\r\n\r\n\r\nexport default combineReducers({\r\n  login: loginReducer,\r\n  things: thingsReducer,\r\n  register: registerReducer,\r\n  queries: queriesReducer,\r\n  report: reportReducer,\r\n  journal: journalReducer,\r\n  operInput: operInputReducer,\r\n  iApprove: iApproveReducer,\r\n\r\n  allItems: allItemsReducer,\r\n  itemAlerting: itemAlertingReducer,\r\n  itemsFS: itemsFSReducer,\r\n  itemsPager: itemsPagerReducer,\r\n  itemsShow: itemsShowReducer,\r\n  itemsStatus: itemsStatusReducer,\r\n  fsedItems: fsedItemsReducer\r\n});\r\n","import { createStore, applyMiddleware, compose } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport rootReducer from \"./reducers\";\r\n\r\nconst initialState = {};\r\nconst middleware = [thunk];\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  initialState,\r\n  compose(\r\n    applyMiddleware(...middleware),\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n  )\r\n);\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\n\r\nconst PrivateRoute = ({component: Component, itype, rtype, isAuthenticated, ...rest}) => (\r\n  <Route \r\n    {...rest}\r\n    render = {props =>\r\n      !isAuthenticated ? <Redirect to='/login' />\r\n      : itype ? <Component {...props} itype={itype} /> \r\n      : rtype ? <Component {...props} rtype={rtype} />\r\n      : <Component {...props} />\r\n    }\r\n  />\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: state.login.isAuthenticated\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoute);","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport Navbar from \"./components/layout/Navbar\";\nimport Landing from \"./components/layout/Landing\";\nimport Footer from \"./components/layout/Footer\";\nimport Login from \"./components/auth/Login\";\nimport Register from \"./components/auth/Register\";\nimport Items from \"./components/items/Items\";\nimport EditItem from './components/items/EditItem';\nimport EditQueries from \"./components/editQueries/EditQueries\";\nimport Report from \"./components/report/Report\";\nimport LoggedIn from \"./components/layout/LoggedIn\";\nimport OperInputSupply from \"./components/operInput/OperInputSupply\";\nimport OperInputApprove from \"./components/operInput/OperInputApprove\";\n\n\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/set-auth-token\";\nimport { setCurrentUser } from \"./actions/loginActions\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport PrivateRoute from './components/common/PrivateRoute';\nimport { logoutUser } from \"./actions/loginActions\";\nimport * as iTypes from \"./itypes\";\nimport * as rTypes from \"./reportTypes\";\n\n// Check for token\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  setAuthToken(localStorage.jwtToken);\n  // Decode token and get user info and exp\n  const decoded = jwt_decode(localStorage.jwtToken);\n  // Set user and isAuthenticated\n  store.dispatch(setCurrentUser(decoded));\n\n  // Check for expired token\n  const currentTime = Date.now() / 1000;\n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser());\n    // Clear current profile from localStorage\n    localStorage.removeItem(\"jwtToken\");\n    // Redirect to login\n    window.location.href = \"/login\";\n  }\n}\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <Router>\n          <div className=\"App\">\n            <Navbar />\n            <Switch>\n              <Route exact path=\"/\" component={Landing} />\n              <PrivateRoute exact path='/logged-in' component={LoggedIn} />\n            </Switch>\n            <div className=\"container\">\n              <Route exact path=\"/login\" component={Login} />\n              <Route exact path=\"/register\" component={Register} />\n            </div>\n            <Switch>\n              <PrivateRoute exact path='/defects' component={Items} itype={iTypes.defect} />\n              <PrivateRoute path='/defects/edit/:id' component={EditItem} itype={iTypes.defect} />\n              <PrivateRoute exact path='/defects/new' component={EditItem} itype={iTypes.defect} />\n              <PrivateRoute exact path='/operinput/supply/defects' component={OperInputSupply} itype={iTypes.defect} />\n              <PrivateRoute exact path='/operinput/approve/defects' component={OperInputApprove} itype={iTypes.defect} />\n              <PrivateRoute exact path='/weldings' component={Items} itype={iTypes.welding} />\n              <PrivateRoute path='/weldings/edit/:id' component={EditItem} itype={iTypes.welding} />\n              <PrivateRoute exact path='/weldings/new' component={EditItem} itype={iTypes.welding} />\n              <PrivateRoute exact path='/operinput/supply/weldings' component={OperInputSupply} itype={iTypes.welding} />\n              <PrivateRoute exact path='/operinput/approve/weldings' component={OperInputApprove} itype={iTypes.welding} />\n              <PrivateRoute exact path='/queries/edit/:itype' component={EditQueries} />\n              <PrivateRoute exact path='/report/defects-undone' component={Report} rtype={rTypes.defectsUndone} key={rTypes.defectsUndone} />\n              <PrivateRoute exact path='/report/defects-undone-count' component={Report} rtype={rTypes.defectsUndoneCount} key={rTypes.defectsUndoneCount} />\n              <PrivateRoute exact path='/report/k33' component={Report} rtype={rTypes.k33} key={rTypes.k33} />\n              <PrivateRoute exact path='/report/to-inspect' component={Report} rtype={rTypes.toInspect} key={rTypes.toInspect} />\n            </Switch>\n            <Footer />\n          </div>\n        </Router>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}